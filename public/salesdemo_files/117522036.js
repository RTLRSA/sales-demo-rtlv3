var cPubgJNt = '{"campaigns":{"217054326":{"name":"Content Download TY Pages","metrics":[{"id":"197933769","name":"Submit Form (Get Started/What can Gong do for me)","eventIds":["157005118"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197941811","name":"Submit Form (Demo Form)","eventIds":["157011927"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197942206","name":"Submit Form Live Demo","eventIds":["157012308"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197942207","name":"Submit Form Live Tour","eventIds":["157012309"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197942208","name":"Submit Form Instant Demo","eventIds":["157012310"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417208209":{"name":"Exit intent pop-ups","type":"cc","audienceIds":["187594874","!187597296","!187597358"],"pageIds":["137700054"],"state":"live","ignore":0,"variations":{"617060104":{"name":"live demo","state":"live","preconditions":[],"code":"(()=>{window.iGong.exitModal.create({title:\\"Close more deals with Gong\\",subTitle:\\"Get a live demo and see how 3,000+ customers use Gong to drive more revenue.\\",formId:1050,submitTag:\\"request-demo\\",submitText:\\"Request live demo\\",redirectUrl:\\"https://www.gong.io/demo-confirmation\\"});})();"},"617060106":{"name":"instant demo","state":"live","preconditions":[],"code":"(()=>{window.iGong.exitModal.create({title:\\"Watch 3-min Gong demo now!\\",subTitle:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",formId:3726,submitTag:\\"request-demo\\",submitText:\\"Watch instant demo\\",redirectUrl:\\"https://www.gong.io/instant-demo-confirmation\\"});})();"}},"preconditions":["window.iGong.exitModal.shouldRun() === true;"],"boundingSelectors":[]}},"css":".i-flex-container{display:flex;justify-content:center}.i-container{display:flex;align-items:center;justify-content:center;flex-direction:column}.i-flex-page{display:flex;align-items:center;justify-content:center}.single-landing-page .FormBlock.is-inline .DemoForm-inline.i-form-wrapper{padding:40px 60px}"},"217058051":{"name":"Product: Sidebar Pop-ups","metrics":[{"id":"197942476","name":"Demo form submission","eventIds":["157005094"],"scope":"session","type":"value","countingMethod":"unique","isGoal":true,"valueType":"static","value":500},{"id":"197942477","name":"Tour/Instant Demo form submission","eventIds":["157012581"],"scope":"session","type":"value","countingMethod":"unique","isGoal":true,"valueType":"static","value":100}],"experiences":{"417208897":{"name":"Sidebar Pop-ups","type":"cc","audienceIds":["!187595072","!187594964","!187595083","!187596332","!187595084","!187597296","!187597358"],"pageIds":["137695806"],"state":"live","ignore":0,"variations":{"617061602":{"name":"Tour: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Take the self-guided tour\\",body:\\"See Gong in action in this interactive product tour and learn pro-tips from 3,500 Gong power users.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Start tour\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/tour-confirmation/\\"},\\"scroll\\",{targetScrollSelector:\\"#solutions\\"}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617061605":{"name":"Instant Demo: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Watch a recorded demo\\",body:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3726,submitBtnTxt:\\"Watch now\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/instant-demo-confirmation/\\"},\\"scroll\\",{targetScrollSelector:\\"#solutions\\"}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["document.querySelectorAll(\'#solutions\').length === 1;","window.iGong.utils.is(Function, window.jQuery);","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":["#solutions"]}}},"217058495":{"name":"SEO pages: Sidebar Pop-ups","metrics":[{"id":"197942954","name":"Form submission","eventIds":["157012910"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":1}],"experiences":{"417209341":{"name":"Sidebar Pop-ups","type":"cc","audienceIds":["!187595072","!187594964","!187595083","!187596332","!187595084","!187597296","!187597358"],"pageIds":["137700467"],"state":"live","ignore":0,"variations":{"617062624":{"name":"Instant Demo: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Watch a recorded demo\\",body:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3726,submitBtnTxt:\\"Watch now\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/instant-demo-confirmation/\\"},\\"scroll\\",{targetScrollPercent:40});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;"]}}},"217058741":{"name":"Blogs: Sidebar Pop-ups","metrics":[{"id":"197943247","name":"Demo Form submission","eventIds":["157013218"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":5},{"id":"197943248","name":"Demo/Tour Form submission","eventIds":["157013219"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":1}],"experiences":{"417209597":{"name":"Blogs: Sidebar Pop-ups","type":"cc","audienceIds":["!187597296","!187597358"],"pageIds":["137699482"],"state":"live","ignore":0,"variations":{"617063189":{"name":"Tour: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Take the self-guided tour\\",body:\\"See Gong in action in this interactive product tour and learn pro-tips from 3,500 Gong power users.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Start tour\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/tour-confirmation/\\"},\\"scroll\\",{targetScrollPercent:60});})();"},"617063190":{"name":"Tour: Test Sandbox","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Test the Gong sandbox\\",body:\'Ever wonder how Gong works?<br class=\\"i-mobile-break\\"> Take this self-guided tour and see how Gong can help your team close more deals this quarter.\',topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Start tour\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/tour-confirmation/\\"},\\"scroll\\",{targetScrollPercent:60});})();"},"617063192":{"name":"Instant Demo: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Watch a recorded demo\\",body:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Watch now\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/instant-demo-confirmation/\\"},\\"scroll\\",{targetScrollPercent:60});})();"},"617063193":{"name":"Instant Demo: Gong #1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"See why Gong is<br> voted #1\\",body:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Watch now\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/instant-demo-confirmation/\\"},\\"scroll\\",{targetScrollPercent:60});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';"],"boundingSelectors":[]}}},"217059375":{"name":"Test: Sales Template Email","metrics":[{"id":"197943972","name":"P2 Form Submission (Template Test)","eventIds":["157013881"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417210237":{"name":"Test: Sales Template Email","type":"cc","audienceIds":["!187595983","!187597296","!187597358"],"pageIds":["137700969"],"state":"live","ignore":0,"variations":{"617064546":{"name":"Template B Redirect","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-template-email/\\";","changes":[]}},"preconditions":[],"boundingSelectors":[]}}},"217059379":{"name":"Test: Cold Email Template","metrics":[{"id":"197943978","name":"P2 Form Submission","eventIds":["157013881"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417210241":{"name":"Test: Cold Email Templates","type":"cc","audienceIds":["!187595983","!187596767","!187597296","!187597358"],"pageIds":["137700971"],"state":"live","ignore":0,"variations":{"617064562":{"name":"No Change","state":"live","preconditions":[]},"617064563":{"name":"Template B Redirect","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/cold-email-template/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217059389":{"name":"Test: Sales Coaching Template","metrics":[{"id":"197943988","name":"P2 Form Submission (TYP Pageview)","eventIds":["157013891"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417210252":{"name":"Test: Sales Coaching Template","type":"cc","audienceIds":["!187595983","!187597296","!187597358"],"pageIds":["137700974"],"state":"live","ignore":0,"variations":{"617064576":{"name":"Template B Redirect","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-coaching-template/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217059390":{"name":"Test: Sales Pitch Template Script","metrics":[{"id":"197943989","name":"P2 Form Submission (TYP Pageview)","eventIds":["157013881"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417210253":{"name":"Test: Sales Pitch Template Script","type":"cc","audienceIds":["!187595983","!187597296","!187597358"],"pageIds":["137700973"],"state":"live","ignore":0,"variations":{"617064577":{"name":"No Change","state":"live","preconditions":[]},"617064578":{"name":"Template B Redirect","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-pitch-template-script/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217059391":{"name":"Test: https://www.gong.io/resources/templates/sales-proposal-template/","metrics":[{"id":"197943990","name":"AutoGoal: On-page engagement","eventIds":["157013893"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417210254":{"name":"Test: Sales Proposal Template","type":"cc","audienceIds":["!187595983","!187597296","!187597358"],"pageIds":["137700976"],"state":"live","ignore":0,"variations":{"617064579":{"name":"No Change","state":"live","preconditions":[]},"617064580":{"name":"Template B Redirect","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-proposal-template\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217060470":{"name":"Exit intent pop-up (2)","metrics":[{"id":"197945227","name":"P0 (/confirmation, /pricing-confirmation, /demo-confirmation)","eventIds":["157013914"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417211316":{"name":"Exit intent pop-up","type":"cc","audienceIds":["187594874","!187597296","!187597358"],"pageIds":["137701367"],"state":"live","ignore":0,"variations":{"617071621":{"name":"Demo: Create and accelerate pipeline","state":"live","preconditions":[],"code":"(()=>{window.iGong.exitModal.create({title:\\"Ready to create and accelerate pipeline more efficiently?\\",subTitle:\\"Book a demo to see how Gong Engage increases rep productivity with AI-driven automation and guidance.\\",formId:1050,submitTag:\\"request-demo\\",submitText:\\"Request live demo\\",redirectUrl:\\"https://www.gong.io/confirmation\\",exitIntentDelay:10});})();"}},"preconditions":["window.iGong.exitModal.shouldRun() === true;"],"boundingSelectors":[]}},"css":".i-flex-container{display:flex;justify-content:center}.i-container{display:flex;align-items:center;justify-content:center;flex-direction:column}.i-flex-page{display:flex;align-items:center;justify-content:center}.single-landing-page .FormBlock.is-inline .DemoForm-inline.i-form-wrapper{padding:40px 60px}"},"217062781":{"name":"Demo: Personalized H1 Titles","metrics":[{"id":"197948600","name":"AutoGoal: On-page engagement","eventIds":["157012873"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417213631":{"name":"Demo: Personalized H1 Titles","type":"rbp","pageIds":["137695781"],"state":"live","ignore":0,"variations":{"617072314":{"name":"Default","state":"live","preconditions":[]},"617072315":{"name":"utm_source=generalatlantic","state":"live","condition":{"type":"audience","audienceId":"187597326"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, General atlantic portfolio company!"}}]},"617072451":{"name":"utm_source=marlin","state":"live","condition":{"type":"audience","audienceId":"187597323"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, Marlin Portfolio Company!&nbsp;"}}]},"617072452":{"name":"utm_source=llr","state":"live","condition":{"type":"audience","audienceId":"187597311"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, LLR Portfolio Company!"}}]},"617072453":{"name":"utm_source=alpha","state":"live","condition":{"type":"audience","audienceId":"187597324"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, Alpha Portfolio Company!"}}]},"617072454":{"name":"utm_source=jmi","state":"live","condition":{"type":"audience","audienceId":"187597325"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, JMI Portfolio Company!"}}]},"617072825":{"name":"utm_source=nvp","state":"live","condition":{"type":"audience","audienceId":"187597391"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"Welcome, Norwest Ventures Portfolio Company!"}}]}},"variationPriority":["617072315","617072451","617072452","617072453","617072454","617072825","617072314"],"preconditions":[],"boundingSelectors":[]}}},"217063756":{"name":"Engage Interest (Q4: MM Campaign)","metrics":[{"id":"197950206","name":"AutoGoal: On-page engagement","eventIds":["157016884"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417214601":{"name":"Engage Interest (Q4: MM Campaign)","type":"rbp","pageIds":["137703011"],"state":"live","ignore":0,"variations":{"617074185":{"name":"Default","state":"live","preconditions":[]},"617074188":{"name":"MM Campaign Audience","state":"live","condition":{"type":"audience","audienceId":"187597468"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"css":{},"html":"TRANSFORM YOUR SALES ENGAGEMENT WORKFLOW WITH AI"}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"css":{"fontSize":"35px"},"html":"INTERESTED IN<br>\\nLEARNING MORE?"}},{"type":"ATTRIBUTE","selector":".is-violet","attributes":{"css":{},"html":"I\'m interested"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"html":"Say goodbye to your current sales engagement tool that incentivizes ineffective “spray and pray” prospecting tactics. It’s time to reimagine your sales engagement workflow with Engage - Gong’s AI-driven sales engagement tool, purpose-built for high-quality engagement. Show your interest here to learn more!"}}]}},"variationPriority":["617074188","617074185"],"preconditions":[],"boundingSelectors":[]}}},"217064052":{"name":"SEO Page Template Test","metrics":[{"id":"197950618","name":"AutoGoal: On-page engagement","eventIds":["157017222"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417214891":{"name":"SEO Page Template Test","type":"cc","pageIds":["137703308"],"state":"live","ignore":0,"variations":{"617074694":{"name":"New Page","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-enablement-software-b/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064063":{"name":"Exit intent pop-up (10-sec delay)","metrics":[{"id":"197950629","name":"AutoGoal: On-page engagement","eventIds":["157016879"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417214902":{"name":"Exit intent pop-up (10-sec delay)","type":"cc","pageIds":["137699626"],"state":"live","ignore":0,"variations":{"617074701":{"name":"No Change","state":"live","preconditions":[]},"617074702":{"name":"Demo ","state":"live","preconditions":[],"code":"(()=>{window.iGong.exitModal.create({title:\\"Ready to deliver predictable revenue with Gong?\\",subTitle:\\"Book a demo to see how Gong Forecast can help your team drive forecast accuracy and confidently hit your numbers.\\",formId:1050,submitTag:\\"request-demo\\",submitText:\\"Request live demo\\",redirectUrl:\\"https://www.gong.io/confirmation\\",exitIntentDelay:10});})();"},"617074719":{"name":"Upwork customer webinar","state":"live","preconditions":[],"code":"(()=>{window.iGong.exitModal.create({title:\\"Ready to deliver predictable revenue during economic uncertainty?\\",subTitle:\\"Watch our on-demand webinar to learn how forecasting experts achieve 95% forecast accuracy with Gong.\\",formId:3608,submitText:\\"Watch now\\",redirectUrl:\\"https://www.gong.io/resources/webinars/achieving-revenue-predictability-during-economic-uncertainty-how-upwork-nails-their-number-with-gong-forecast-typ/\\",exitIntentDelay:10,onLoad(e){e.vals({Latest_Program__c:\\"2023-08-23 - CUST Webinar - Insider Event - Forecast - Adoption\\"})}});})();"}},"preconditions":["window.iGong.exitModal.shouldRun() === true;"],"boundingSelectors":[]}}},"217064074":{"name":"Exit Intent Pop-Up (Zenefits & Virgin Pulse)","metrics":[{"id":"197950898","name":"1050 Form Submission","eventIds":["157017339"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197950900","name":"2887 Pricing Submission","eventIds":["157017340"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417214913":{"name":"Exit Intent Pop-Up","type":"cc","audienceIds":["!187597358","!187597296","187594874","!187597495"],"pageIds":["137700979","137700980"],"state":"live","ignore":0,"variations":{"617074715":{"name":"Demo Pop-up: Zenefits","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.vertical({src:\\"https://www.gong.io/wp-content/uploads/2023/11/gong-zenefits-pop-up.png\\",alt:\\"5x higher win rate\\",headline:\\"Ready. Set. Gong.\\",body:\\"Book 30-min product demo with expert Q&A\\",formId:1050,redirect:\\"https://www.gong.io/confirmation/\\",submitText:\\"Book a demo\\"}),cssClasses:[\\"i-popup-vertical\\"],moveCloseOutside:!0},\\"exit\\",{delay:10});})();"},"617074716":{"name":"Pricing Pop-up: Virgin Pulse","state":"live","preconditions":[],"code":"(()=>{const{templates:o,create:e}=window.iGong.popupModal;e({html:o.vertical({src:\\"https://www.gong.io/wp-content/uploads/2023/11/gong-virgin-pulse-pop-up.png\\",alt:\\"4x top of funnel conversions\\",headline:\\"Get Gong pricing\\",body:\\"Fill out the form for a customized proposal.\\",formId:2887,redirect:\\"https://www.gong.io/confirmation/\\",submitText:\\"Request Pricing\\"}),cssClasses:[\\"i-popup-vertical\\"],moveCloseOutside:!0},\\"exit\\",{delay:10});})();"}},"preconditions":["window.iGong.popupModal.checkPreconditions();"]}}},"217064216":{"name":"Guide: 5 Ways RevOps Teams are Reaching for AI","metrics":[{"id":"197950840","name":"AutoGoal: On-page engagement","eventIds":["157017312"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215055":{"name":"Guide: 5 Ways RevOps Teams are Reaching for AI","type":"cc","pageIds":["137703369"],"state":"live","ignore":0,"variations":{"617074905":{"name":"No Change","state":"live","preconditions":[]},"617074906":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/5-reasons-revops-teams-are-reaching-for-ai/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064218":{"name":"Webinar: How to Win Mega Deals with Multi-Threading","metrics":[{"id":"197950842","name":"AutoGoal: On-page engagement","eventIds":["157017314"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215057":{"name":"Webinar: How to Win Mega Deals with Multi-Threading","type":"cc","pageIds":["137703371"],"state":"live","ignore":0,"variations":{"617074909":{"name":"No Change","state":"live","preconditions":[]},"617074910":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/how-to-win-mega-deals-with-multi-threading-done-right/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064220":{"name":"Guide: The State of Sales Engagement","metrics":[{"id":"197950844","name":"AutoGoal: On-page engagement","eventIds":["157017316"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215059":{"name":"Guide: The State of Sales Engagement","type":"cc","pageIds":["137703373"],"state":"live","ignore":0,"variations":{"617074913":{"name":"No Change","state":"live","preconditions":[]},"617074914":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/state-of-sales-engagement/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064221":{"name":"Templates: Eleven Persuasive Sales Email Template","metrics":[{"id":"197950845","name":"AutoGoal: On-page engagement","eventIds":["157017317"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215060":{"name":"Templates: Eleven Persuasive Sales Email Template","type":"cc","pageIds":["137703374"],"state":"live","ignore":0,"variations":{"617074915":{"name":"No Change","state":"live","preconditions":[]},"617074916":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-template-email-b/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064248":{"name":"Guide: Best 5 Cold Calling Tips","metrics":[{"id":"197950909","name":"AutoGoal: On-page engagement","eventIds":["157017346"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215087":{"name":"Guide: Best 5 Cold Calling Tips","type":"cc","pageIds":["137703389"],"state":"live","ignore":0,"variations":{"617074966":{"name":"No Change","state":"live","preconditions":[]},"617074967":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/best-5-cold-calling-tips-b/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217064250":{"name":"Template: Sales Call Template","metrics":[{"id":"197950911","name":"AutoGoal: On-page engagement","eventIds":["157017347"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417215089":{"name":"Template: Sales Call Template","type":"cc","pageIds":["137703390"],"state":"live","ignore":0,"variations":{"617074968":{"name":"No Change","state":"live","preconditions":[]},"617074969":{"name":"Q4 Template","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/sales-call-templates/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217065839":{"name":"All \\"Forecast\\" URLs P0 and P3 Popups","metrics":[{"id":"197953241","name":"AutoGoal: On-page engagement","eventIds":["157019229"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197953351","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417216683":{"name":"All \\"Forecast\\" URLs P0 and P3 Popups","type":"cc","audienceIds":["!187597358"],"pageIds":["137705042"],"state":"live","ignore":0,"variations":{"617078742":{"name":"P0 Demo popup","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Forecast predictable revenue with Gong\\",subTitle:\\"See how Gong Forecast can help your team drive forecast accuracy and confidently hit your numbers.\\",formId:1050,submitText:\\"Book a demo\\",redirect:\\"/confirmation\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:20,targetScrollPercent:40});})();"},"617078743":{"name":"P3 Forecast Product Tour Popup","state":"live","preconditions":[],"code":"(()=>{const{templates:t,create:o}=window.iGong.popupModal;o({html:t.horizontal({title:\\"Take a self-guided tour to see Gong Forecast in action\\",subTitle:\\"Fill out the form to start a step-by-step tour of Gong Forecast.\\",formId:3725,submitText:\\"Start tour now\\",redirect:\\"/tour-confirmation-forecast\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"],formFieldFills:[[\\"productInterest\\",\\"forecast product tour\\"]]},\\"scroll\\",{delay:20,targetScrollPercent:40});})();"}},"preconditions":["window.iGong.popupModal.checkPreconditions();"],"boundingSelectors":[]}}},"217065845":{"name":"Multi-offer CTA","metrics":[{"id":"197953248","name":"AutoGoal: On-page engagement","eventIds":["157018605"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197964009","name":"Request Live Demo Clicks","eventIds":["157023840"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197964010","name":"Speak to an Expert Clicks","eventIds":["157023841"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197964011","name":"Learn About Pricing Clicks","eventIds":["157023842"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197964013","name":"1050 Form Submissions","eventIds":["157017339"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197964014","name":"4306 Form Submissions","eventIds":["157023844"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false},{"id":"197964016","name":"1064 Form Submissions","eventIds":["157023845"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417216689":{"name":"Multi-offer CTA","type":"cc","audienceIds":["!187595072","!187597358"],"pageIds":["137696075"],"state":"live","ignore":0,"variations":{"617078335":{"name":"No Change","state":"live","preconditions":[]},"617078336":{"name":"Multi-offer CTA","state":"live","preconditions":[],"code":"(()=>{const{modal:p,marketoInterface:b}=window.intellimize.plugins,{cleanupForm:y,popupModal:{templates:g}}=window.iGong;document.documentElement.classList.add(\\"i-multi-offer\\");const i=document.querySelector(\\".ResourceThankYouAsideBlock\\");i.querySelector(\\".h4\\").textContent=\\"Ready. Set. Gong.\\",i.querySelector(\\"div.text-center\\").textContent=\\"You\'re one step away from seeing Gong in action. Choose an option below to get started!\\";const h={demo:{formId:1050,label:\\"Book your demo\\",header:\\"Achieve your revenue goals with Gong\\",body:\\"What sets top performers apart? Which deals are at risk? What messages resonate with your buyers? Book a demo to see how go-to-market teams use Gong to drive revenue growth.\\",submitUrl:\\"/confirmation\\",submitTxt:\\"Book your demo\\",modal:void 0},tour:{formId:3725,label:\\"Start platform tour\\",header:\\"START YOUR PLATFORM TOUR OF GONG\\",body:\\"Want to see how Gong boosts team productivity and sales efficiency, while reducing the busy work? In this self-guided tour, discover key features that sales teams and leaders love.\\",submitUrl:\\"/tour-confirmation\\",submitTxt:\\"Start the tour\\",modal:void 0},video:{formId:3726,label:\\"Watch demo video\\",header:\\"Watch 5-min demo OVERVIEW OF GONG\\",body:\\"In this demo video, get under the hood of Gong’s Revenue Intelligence Platform and discover key features that help winning teams achieve their revenue goals.\\",submitUrl:\\"/instant-demo-confirmation\\",submitTxt:\\"Watch demo video\\",modal:void 0}},r=document.createElement(\\"form\\");r.className=\\"i-offer-form\\";const m=document.createElement(\\"fieldset\\");r.append(m);const a=document.createElement(\\"input\\");a.type=\\"submit\\",a.value=\\"Get Started\\",a.className=\\"Button\\",r.append(a),i.querySelector(\\"form\\").replaceWith(r);for(const[o,e]of Object.entries(h)){const n=p({body:g.horizontal({title:e.header,subTitle:e.body,formId:e.formId,submitText:e.submitTxt,redirect:e.submitUrl}),type:\\"cta\\",cta:{text:\\"\\"},cssClass:\\"i-exit-intent-modal i-gong-modal i-multi-offer\\"}),d=n.domRef.querySelector(\\"form\\");y(e.formId,d),b.loadForm(e.formId,f=>{f.render(window.jQuery(d)),d.querySelector(\'.mktoButtonRow [type=\\"submit\\"].mktoButton\').textContent=e.submitTxt,f.onSuccess(()=>(window.location.assign(e.submitUrl),!1))});const l=n.domRef.parentElement;l.classList.add(\\"i-darker-bg\\");const u=n.domRef.querySelector(\\".i-modal-close\\");u.classList.add(\\"i-outside\\"),l.prepend(u),e.modal=n;const c=`i-offer-${o}`,t=document.createElement(\\"input\\");t.type=\\"radio\\",t.name=\\"offer\\",t.id=c,t.value=o,t.required=!0,t.checked=o===\\"demo\\";const s=document.createElement(\\"label\\");s.htmlFor=c,s.textContent=e.label,m.append(t),m.append(s)}r.addEventListener(\\"submit\\",o=>{o.preventDefault(),o.stopImmediatePropagation();const n=new FormData(r).get(\\"offer\\");h[n].modal.show()},{capture:!0});})();","css":".i-multi-offer div.text-center{font-size:14px}form.i-offer-form fieldset{margin:0;display:flex;flex-direction:column;border:none;padding:0}form.i-offer-form input[type=radio][name=offer]{display:none}form.i-offer-form input[type=radio][name=offer]+label{margin:0 0 30px;position:relative;padding-left:36px;font-size:16px;line-height:1.25}form.i-offer-form input[type=radio][name=offer]+label:before{content:\\"\\";position:absolute;left:0;top:4px;box-sizing:border-box;display:inline-block;border-radius:100%;border:1px solid #8039DF;width:16px;height:16px;background:transparent}form.i-offer-form input[type=radio][name=offer]:checked+label:after{content:\\"\\";position:absolute;left:4px;top:8px;border-radius:100%;width:8px;height:8px;background:#8039DF}form.i-offer-form .Button{margin:10px 0 0;width:100%}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer{min-height:505px;padding:91px 95px 91px 79px}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer .i-modal-body{display:flex;flex-direction:column}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer .i-gong-popup__container__left{width:53%}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer .i-gong-popup__container__left__title{margin:auto 0 40px}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer .i-gong-popup__container__left__subTitle{margin:0 0 auto}.i-modal-content.i-exit-intent-modal.i-gong-modal.i-multi-offer .i-gong-popup__container__right{width:47%}"},"617087719":{"name":"3 CTAs","state":"live","preconditions":[],"code":"(()=>{const{modal:y,marketoInterface:g,repeatAction:k}=window.intellimize.plugins,{cleanupForm:w,popupModal:{templates:x}}=window.iGong,L={demo:{formId:1050,label:\\"Book your demo\\",header:\\"Achieve your revenue goals with Gong\\",body:\\"What sets top performers apart? Which deals are at risk? What messages resonate with your buyers? Book a demo to see how go-to-market teams use Gong to drive revenue growth.\\",submitUrl:\\"/confirmation\\",submitTxt:\\"Book your demo\\",modal:void 0},tour:{formId:4306,label:\\"Speak to an Expert\\",header:\\"Talk to an Expert\\",body:\\"Discuss how generative AI can help you boost sales team productivity and win more deals. Book a meeting to talk to an expert.\\",submitUrl:\\"/confirmation\\",submitTxt:\\"Talk to an Expert\\",modal:void 0},video:{formId:1064,label:\\"Learn About Pricing\\",header:\\"Let us build a custom proposal for you that is specific to your team!\\",body:\\"Gong’s pricing model depends on a few factors specific to your team.\\",submitUrl:\\"/confirmation\\",submitTxt:\\"Learn About Pricing\\",modal:void 0}},c={demo:{header:\\"Have Questions or <br /> Want a Custom Demo?\\",body:\\"Get a personalized demo and learn how your team can win more deals with Gong.\\",buttonLabel:\\"Request Live Demo\\"},tour:{header:\\"Speak to an Expert\\",body:\\"Speak to an expert and learn how your team can win more deals with Gong.\\",buttonLabel:\\"Speak to an Expert\\"},video:{header:\\"Learn About Pricing\\",body:\\"Let us build a custom proposal for you!\\",buttonLabel:\\"Learn About Pricing\\"}},a=document.createElement(\\"link\\");a.rel=\\"stylesheet\\",a.type=\\"text/css\\",a.href=\\"https://www.gong.io/wp-content/themes/gong/css/blocks/Marketo.css\\",document.head.append(a);const t=document.querySelector(\\".ResourceThankYouBlock-content\\");t.id=\\"i-3-cta\\";const v=t.querySelector(\\".ResourceThankYouAsideBlock\\"),d=t.querySelector(\\".ImageBlock\\"),E=t.querySelector(\\".TrailingLinkBlock\\");v.replaceChildren(d,E);const f=d.querySelector(\\"img\\");f.removeAttribute(\\"width\\"),f.removeAttribute(\\"height\\"),k(()=>{d.removeAttribute(\\"style\\")},{timeLimit:Number.POSITIVE_INFINITY,quitEarly:!1});const m=document.createElement(\\"div\\");m.className=\\"i-cta-container\\",t.after(m);for(const[r,e]of Object.entries(L)){const o=y({body:x.horizontal({title:e.header,subTitle:e.body,formId:e.formId,submitText:e.submitTxt,redirect:e.submitUrl}),type:\\"cta\\",cta:{text:\\"\\"},cssClass:\\"i-exit-intent-modal i-gong-modal i-multi-offer\\"}),s=o.domRef.querySelector(\\"form\\");w(e.formId,s),g.loadForm(e.formId,h=>{h.render(window.jQuery(s)),s.querySelector(\'.mktoButtonRow [type=\\"submit\\"].mktoButton\').textContent=e.submitTxt,h.onSuccess(()=>(window.location.assign(e.submitUrl),!1))});const l=o.domRef.parentElement;l.classList.add(\\"i-darker-bg\\");const u=o.domRef.querySelector(\\".i-modal-close\\");u.classList.add(\\"i-outside\\"),l.prepend(u),e.modal=o;const i=document.createElement(\\"div\\");i.className=\\"i-cta-section\\";const b=document.createElement(\\"h3\\");b.innerHTML=c[r].header;const p=document.createElement(\\"p\\");p.textContent=c[r].body;const n=document.createElement(\\"a\\");n.textContent=c[r].buttonLabel,n.className=\\"Button\\",n.addEventListener(\\"click\\",()=>{e.modal.show()}),i.append(b,p,n),m.append(i)}})();","css":".i-cta-section:nth-of-type(1) a.Button{background-color:#9069e7}.i-cta-section:nth-of-type(2) a.Button{background-color:#3caff2}.i-cta-section:nth-of-type(3) a.Button{background-color:#ff2370}#i-3-cta{justify-content:center}#i-3-cta h1,#i-3-cta .TitleBlock h2,#i-3-cta p{text-align:center;width:100%}#i-3-cta .ResourceThankYouHeroBlock{--block-margin: 0;padding-bottom:150px}@media (max-width: 959px){#i-3-cta .ResourceThankYouHeroBlock{padding-bottom:0}}#i-3-cta .ResourceThankYouAsideBlock{margin-top:35px}@media (max-width: 959px){#i-3-cta .ResourceThankYouAsideBlock{margin-top:0}}#i-3-cta .ImageBlock{max-width:350px;margin:10px auto 18px!important}#i-3-cta .TrailingLinkBlock-inner{justify-content:center}#i-3-cta .TrailingLinkBlock-inner .TrailingLink{font-size:20px}.i-cta-container{display:flex;justify-content:space-between;margin:0 auto;max-width:1200px;padding:20px;gap:55px}@media (max-width: 959px){.i-cta-container{margin-top:40px;flex-direction:column;align-items:center}}.i-cta-container .i-cta-section{background-color:#fff;border-radius:10px;padding:20px;flex:1;text-align:center;box-shadow:0 4px 10px #0000001a}@media (max-width: 959px){.i-cta-container .i-cta-section{max-width:350px;width:100%}}.i-cta-container .i-cta-section h3{color:#3e0075;font-size:27px;margin-bottom:15px}@media (min-width: 1200px){.i-cta-container .i-cta-section h3{min-height:54px}}.i-cta-container .i-cta-section p{font-size:1em;margin-bottom:25px;color:#333}@media (min-width: 1200px){.i-cta-container .i-cta-section p{min-height:42px}}.i-cta-container .i-cta-section .Button{width:100%}@media (max-width: 1100px){.i-cta-container .i-cta-section br{display:none}}"}},"preconditions":["document.querySelectorAll(\'.ResourceThankYouAsideBlock\').length === 1;","document.querySelectorAll(\'.ResourceThankYouAsideBlock .h4\').length === 1;","document.querySelectorAll(\'.ResourceThankYouAsideBlock div.text-center\').length === 1;","document.querySelectorAll(\'.ResourceThankYouAsideBlock form\').length === 1;","typeof window.jQuery === \'function\';","document.querySelectorAll(\'.ResourceThankYouBlock-content\').length === 1;","document.querySelectorAll(\'.ResourceThankYouBlock-content h1\').length === 1;","document.querySelectorAll(\'.ResourceThankYouBlock-content .TitleBlock h2\').length === 1;","document.querySelectorAll(\'.ResourceThankYouBlock-content p\').length === 1;","document.querySelectorAll(\'.ResourceThankYouBlock-content .TrailingLinkBlock-inner\').length === 1;"],"boundingSelectors":[".ResourceThankYouHeroBlock-content"]}}},"217066241":{"name":"Page Depth (12)","metrics":[{"id":"197953827","name":"AutoGoal: On-page engagement","eventIds":["157018887"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417217085":{"name":"Page Depth","type":"cc","pageIds":["137704884"],"state":"live","ignore":0,"variations":{"617079053":{"name":"No Change","state":"live","preconditions":[]},"617079054":{"name":"Hero Only","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".SectionBlock-background.bg-white","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".has-white-background","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".hide-mobile > .bg-purpleHaze","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".hide-mobile","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".bg-midnight","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".has-midnight-background","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".bg-purpleGradiant","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".has-purpleGradiant-background","attributes":{"css":{"display":"none"}}}]},"617079055":{"name":"Hero + Features","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".hide-mobile > .bg-purpleHaze","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".hide-mobile","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".bg-midnight","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".has-midnight-background","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".bg-purpleGradiant","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".has-purpleGradiant-background","attributes":{"css":{"display":"none"}}}]}},"preconditions":[],"boundingSelectors":[]}}},"217066476":{"name":"ICP Sales Blog Post (PO and P3 Popups)","metrics":[{"id":"197954239","name":"AutoGoal: On-page engagement","eventIds":["157018604"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197954240","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417217320":{"name":"ICP Sales Blog Post (PO and P3 Popups)","type":"cc","audienceIds":["!187597358"],"pageIds":["137704536"],"state":"live","ignore":0,"variations":{"617079504":{"name":"No Change","state":"live","preconditions":[]},"617079505":{"name":"P0 Demo popup New Copy","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Target your ideal customer profile with Gong\\",subTitle:\\"See how Gong can help your sales team generate more revenue by identifying and selling to your ICP.\\",formId:1050,submitText:\\"Book a demo\\",redirect:\\"/confirmation\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:20,targetScrollPercent:40});})();"},"617079506":{"name":"P3 Instant Demo Popup New Copy","state":"live","preconditions":[],"code":"(()=>{const{templates:t,create:e}=window.iGong.popupModal;e({html:t.horizontal({title:\\"Target your ideal customer persona: maximize sales with Gong\\",subTitle:\\"Fill out the form to start a step-by-step tour of the Gong Revenue Intelligence Platform\\",formId:3725,submitText:\\"Start tour now\\",redirect:\\"/tour-confirmation-forecast\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:20,targetScrollPercent:40});})();"},"617079529":{"name":"P0 Demo popup Original Copy","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Achieve your revenue goals with Gong\\",subTitle:\\"What sets top performers apart? Which deals have the most risk? Which messages resonate with your buyers? Get a demo to see how Gong can help.\\",formId:1050,submitText:\\"Book a demo\\",redirect:\\"/confirmation\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:20,targetScrollPercent:40});})();"}},"preconditions":["window.iGong.popupModal.checkPreconditions();"],"boundingSelectors":[]}}},"217066997":{"name":"Platform Tour (Customers)","metrics":[{"id":"197955121","name":"AutoGoal: On-page engagement","eventIds":["157018355"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417217844":{"name":"Platform Tour (Customers)","type":"rbp","pageIds":["137704498"],"state":"live","ignore":0,"variations":{"617080460":{"name":"Default","state":"live","preconditions":[]},"617080473":{"name":"Customer: Engage Product Tour","state":"live","condition":{"type":"audience","audienceId":"187598009"},"preconditions":[],"changes":[{"type":"CUSTOM_CODE","code":"(()=>{const t=3725,n=\\"/tour-confirmation-engage\\",r={productInterest:\\"Engage\\"},e=document.createElement(\\"form\\");e.dataset.intellimizeId=3725 .toString(),document.querySelector(`.Block-form > form[id*=\\"${3725}\\"]`).replaceWith(e),window.iGong.cleanupForm(3725,e),window.intellimize.plugins.marketoInterface.loadForm(3725,o=>{o.render(window.jQuery(e)),o.vals(r),o.onSuccess(()=>(window.location.assign(n),!1))});})();"},{"type":"ATTRIBUTE","selector":".h2","attributes":{"css":{},"html":"Take a self Guided tour to see <br>\\nGong Engage in action"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"css":{},"html":"What does full-cycle sales engagement look like? In this self-guided tour, see how Engage helps reps stay connected with buyers from opportunity creation to close!"}},{"type":"ATTRIBUTE","selector":".my-0","attributes":{"css":{},"html":"you’re one step away from touring Gong Engage!"}}]},"617080474":{"name":"Customer: Forecast Product Tour","state":"live","condition":{"type":"audience","audienceId":"187598008"},"preconditions":[],"changes":[{"type":"CUSTOM_CODE","code":"(()=>{const n=3725,r=\\"/tour-confirmation-forecast\\",t={productInterest:\\"Forecast\\"},e=document.createElement(\\"form\\");e.dataset.intellimizeId=3725 .toString(),document.querySelector(`.Block-form > form[id*=\\"${3725}\\"]`).replaceWith(e),window.iGong.cleanupForm(3725,e),window.intellimize.plugins.marketoInterface.loadForm(3725,o=>{o.render(window.jQuery(e)),o.vals(t),o.onSuccess(()=>(window.location.assign(r),!1))});})();"},{"type":"ATTRIBUTE","selector":".h2","attributes":{"css":{},"html":"Take a self Guided tour to see <br>\\nGong Forecast in action"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"css":{},"html":"Gong Forecast brings together all the customer, pipeline, and team insights you need to call an accurate number. Take the tour to see how Gong stops you from forecasting with biased, outdated data, and instead, enables you to predict outcomes with 20% greater precision."}},{"type":"ATTRIBUTE","selector":".my-0","attributes":{"css":{},"html":"you’re one step away from touring Gong Forecast!"}}]}},"variationPriority":["617080473","617080474","617080460"],"preconditions":["document.querySelectorAll(\'.Block-form > form[id*=\\"3725\\"]\').length === 1;"],"boundingSelectors":[".Block-form > form[id*=\\"3725\\"]"]}}},"217067049":{"name":"Trust Center: Sidebar P0 Pop-Ups ","metrics":[{"id":"197955216","name":"Demo Form submission","eventIds":["157013218"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":5},{"id":"197955217","name":"Demo/Tour Form submission","eventIds":["157013219"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":1},{"id":"197955347","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417217896":{"name":"Trust Center: Sidebar P0 Pop-Ups ","type":"cc","audienceIds":["!187597358","!187598031"],"pageIds":["137705362"],"state":"live","ignore":0,"variations":{"617080550":{"name":"No Change","state":"live","preconditions":[]},"617080555":{"name":"Demo Request","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Achieve your revenue goals with Gong\\",body:\\"What sets top performers apart? Which deals have the most risk? Which messages resonate with your buyers? Get a demo to see how Gong can help.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:1050,submitBtnTxt:\\"Book a demo\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:10,targetScrollPercent:80}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617080565":{"name":"Pricing Request","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Get the scoop on Gong pricing\\",body:\\"We\'d love to prepare a customized proposal for you!\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:1064,submitBtnTxt:\\"Get Pricing\\",useChilipiper:!1,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:10,targetScrollPercent:80}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217067217":{"name":"Page Depth (13)","metrics":[{"id":"197955500","name":"AutoGoal: On-page engagement","eventIds":["157014520"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218064":{"name":"Page Depth","type":"cc","pageIds":["137701367"],"state":"live","ignore":0,"variations":{"617080893":{"name":"No Change","state":"live","preconditions":[]},"617080894":{"name":"Hide resources block ","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".nth-8 > .SectionBlock-background.bg-white","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".nth-8","attributes":{"css":{"display":"none"}}}]}},"preconditions":[],"boundingSelectors":[]}}},"217067461":{"name":"Case Study Individual Pages - Pop Ups","metrics":[{"id":"197955837","name":"Demo Form submission","eventIds":["157013218"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":5},{"id":"197955838","name":"Demo/Tour Form submission","eventIds":["157013219"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":1},{"id":"197955839","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417218308":{"name":"Case Study Individual Pages - Pop Ups","type":"cc","audienceIds":["!187594964","!187597358","!187598387"],"pageIds":["137705105"],"state":"live","ignore":0,"variations":{"617081395":{"name":"No Change","state":"live","preconditions":[]},"617081397":{"name":"Pricing Request Sidebar","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Get the scoop on Gong pricing\\",body:\\"We\'d love to prepare a customized proposal for you!\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:1064,submitBtnTxt:\\"Get Pricing\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:15,targetScrollPercent:60}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217067786":{"name":"Platform Page Redirect","metrics":[{"id":"197956591","name":"AutoGoal: On-page engagement","eventIds":["157011229"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218633":{"name":"Platform Page Redirect","type":"cc","audienceIds":["!187594964","!187595072","!187595083","!187596332","!187597296","!187597358"],"pageIds":["137695806"],"state":"live","ignore":0,"variations":{"617082198":{"name":"No Change","state":"live","preconditions":[]},"617082199":{"name":"Platform Page","state":"live","preconditions":[],"redirect":"\\"https://www.gong.io/platform/\\";"}},"preconditions":[],"boundingSelectors":[]}}},"217067787":{"name":"Platform Page Redirect (1)","metrics":[{"id":"197956592","name":"AutoGoal: On-page engagement","eventIds":["157011229"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218634":{"name":"Platform Page Redirect","type":"rbp","pageIds":["137695806"],"state":"live","ignore":0,"variations":{"617082200":{"name":"Default","state":"live","preconditions":[]},"617082201":{"name":"Gong","state":"live","condition":{"type":"audience","audienceId":"187597358"},"preconditions":[],"redirect":"\\"https://www.gong.io/platform/\\";"},"617082202":{"name":"Customer","state":"live","condition":{"type":"audience","audienceId":"187594964"},"preconditions":[],"redirect":"\\"https://www.gong.io/platform/\\";"}},"variationPriority":["617082201","617082202","617082200"],"preconditions":[],"boundingSelectors":[]}}},"217067788":{"name":"Sidebar Pop-ups","metrics":[{"id":"197956593","name":"Demo form submission","eventIds":["157005094"],"scope":"session","type":"value","countingMethod":"unique","isGoal":true,"valueType":"static","value":500},{"id":"197956594","name":"Tour/Instant Demo form submission","eventIds":["157020365"],"scope":"session","type":"value","countingMethod":"unique","isGoal":true,"valueType":"static","value":100}],"experiences":{"417218635":{"name":"Sidebar Pop-ups","type":"cc","audienceIds":["!187595072","!187594964","!187595083","!187596332","!187595084","!187597296","!187597358"],"pageIds":["137705680"],"state":"live","ignore":0,"variations":{"617082203":{"name":"No Change","state":"live","preconditions":[]},"617082207":{"name":"Tour: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Take self-guided tour\\",body:\\"Get under the hood of the Gong platform and see key features and workflows in action.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Start the tour\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/tour-confirmation/\\"},\\"scroll\\",{targetScrollPercent:40}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617082210":{"name":"Instant Demo: Offer H1","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Watch a recorded demo\\",body:\\"Get a 3-min highlight reel of how Gong can help your team close more deals before end of quarter.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3726,submitBtnTxt:\\"Watch now\\",useChilipiper:!1,redirectUrl:\\"https://www.gong.io/instant-demo-confirmation/\\"},\\"scroll\\",{targetScrollPercent:40}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217067795":{"name":"Page Depth (14)","metrics":[{"id":"197956602","name":"AutoGoal: On-page engagement","eventIds":["157020366"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218642":{"name":"Page Depth","type":"cc","pageIds":["137705680"],"state":"live","ignore":0,"variations":{"617082230":{"name":"No Change","state":"live","preconditions":[]},"617082231":{"name":"Hide Resources","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".nth-6 > .SectionBlock-background.bg-white","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".nth-6","attributes":{"css":{"display":"none"}}}]}},"preconditions":[],"boundingSelectors":[]}}},"217067796":{"name":"Outcomes Block - CTA","metrics":[{"id":"197956603","name":"AutoGoal: On-page engagement","eventIds":["157020366"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218643":{"name":"Outcomes Block - CTA","type":"cc","pageIds":["137705680"],"state":"live","ignore":0,"variations":{"617082232":{"name":"No Change","state":"live","preconditions":[]},"617082233":{"name":"Take product tour","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(3) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/?utm_campaign=engage-tour","html":"Take product tour"}},{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(2) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/?utm_campaign=forecast-tour","html":"Take product tour"}},{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(1) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/","html":"Take product tour"}}]},"617082234":{"name":"Start product tour","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(2) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/?utm_campaign=forecast-tour","html":"Start product tour"}},{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(1) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/","html":"Start product tour"}},{"type":"ATTRIBUTE","selector":".Block-pages.is-horizontal > div:nth-of-type(3) .Block-link.TrailingLinkBlock-link.color-violet","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/?utm_campaign=engage-tour","html":"Start product tour"}}]}},"preconditions":[],"boundingSelectors":[]}}},"217067797":{"name":"Platform Tour (Outcomes Block)","metrics":[{"id":"197956604","name":"AutoGoal: On-page engagement","eventIds":["157018355"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218644":{"name":"Platform Tour (Outcomes Block)","type":"rbp","pageIds":["137704498"],"state":"live","ignore":0,"variations":{"617082235":{"name":"Engage Product Tour","state":"live","condition":{"type":"audience","audienceId":"187598132"},"preconditions":[],"changes":[{"type":"CUSTOM_CODE","code":"(()=>{const t=3725,n=\\"/tour-confirmation-engage\\",r={productInterest:\\"Engage\\"},e=document.createElement(\\"form\\");e.dataset.intellimizeId=3725 .toString(),document.querySelector(`.Block-form > form[id*=\\"${3725}\\"]`).replaceWith(e),window.iGong.cleanupForm(3725,e),window.intellimize.plugins.marketoInterface.loadForm(3725,o=>{o.render(window.jQuery(e)),o.vals(r),o.onSuccess(()=>(window.location.assign(n),!1))});})();"},{"type":"ATTRIBUTE","selector":".h2","attributes":{"css":{},"html":"SEE GONG’S REVENUE<br>\\nINTELLIGENCE PLATFORM"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"css":{},"html":"What does full-cycle sales engagement look like? In this self-guided tour, see how Engage helps reps stay connected with buyers from opportunity creation to close!"}},{"type":"ATTRIBUTE","selector":".my-0","attributes":{"css":{},"html":"you’re one step away from touring Gong Engage!"}},{"type":"ATTRIBUTE","selector":"p.color-inherit","attributes":{"css":{"fontSize":"18px"},"html":"Want to automate manual tasks and use AI to personalize outreach at scale? Start tour of Gong Engage and see how sellers are creating and converting pipeline faster than ever."}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"css":{"fontSize":"27px"}}}]},"617082236":{"name":"Forecast Product Tour","state":"live","condition":{"type":"audience","audienceId":"187598133"},"preconditions":[],"changes":[{"type":"CUSTOM_CODE","code":"(()=>{const n=3725,r=\\"/tour-confirmation-forecast\\",t={productInterest:\\"Forecast\\"},e=document.createElement(\\"form\\");e.dataset.intellimizeId=3725 .toString(),document.querySelector(`.Block-form > form[id*=\\"${3725}\\"]`).replaceWith(e),window.iGong.cleanupForm(3725,e),window.intellimize.plugins.marketoInterface.loadForm(3725,o=>{o.render(window.jQuery(e)),o.vals(t),o.onSuccess(()=>(window.location.assign(r),!1))});})();"},{"type":"ATTRIBUTE","selector":".h2","attributes":{"css":{},"html":"SEE GONG’S REVENUE<br>\\nINTELLIGENCE PLATFORM"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"css":{},"html":"Gong Forecast brings together all the customer, pipeline, and team insights you need to call an accurate number. Take the tour to see how Gong stops you from forecasting with biased, outdated data, and instead, enables you to predict outcomes with 20% greater precision."}},{"type":"ATTRIBUTE","selector":".my-0","attributes":{"css":{},"html":"you’re one step away from touring Gong Forecast!"}},{"type":"ATTRIBUTE","selector":"p.color-inherit","attributes":{"css":{"fontSize":"18px","width":"720px"},"html":"Want to call forecasts with accuracy and confidence? Start tour of Gong Forecast to see how teams are using revenue AI to predict outcomes with 20% greater precision."}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"css":{"fontFamily":"BN Axel Grotesk","fontSize":"27px","width":"360px"},"html":"You\'re one step away from touring Gong Forecast!"}},{"type":"ATTRIBUTE","selector":".is-violet","attributes":{"css":{"fontSize":"18px"}}}]},"617082237":{"name":"Default","state":"live","preconditions":[]}},"variationPriority":["617082235","617082236","617082237"],"preconditions":["document.querySelectorAll(\'.Block-form > form[id*=\\"3725\\"]\').length === 1;"],"boundingSelectors":[".Block-form > form[id*=\\"3725\\"]"]}}},"217067996":{"name":"No Drift","metrics":[{"id":"197956998","name":"AutoGoal: On-page engagement","eventIds":["157020524"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218843":{"name":"No Drift","type":"cc","audienceIds":["!187594964","!187595072","!187595083","!187597358","!187597722"],"pageIds":["137695774"],"state":"live","ignore":0,"variations":{"617082798":{"name":"No Change","state":"live","preconditions":[]},"617082799":{"name":"Remove Drift widget","state":"live","preconditions":[],"code":"(()=>{window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217068022":{"name":"CTA Test","metrics":[{"id":"197957030","name":"AutoGoal: On-page engagement","eventIds":["157020556"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417218869":{"name":"CTA Test","type":"cc","audienceIds":["!187594964","!187595072","!187595083","!187596332","!187597296","!187597358","!187597722"],"pageIds":["137705794"],"state":"live","ignore":0,"variations":{"617082851":{"name":"No Change","state":"live","preconditions":[]},"617082852":{"name":"P0 / P3 CTA Swap","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"#productivity .py-none.SectionContentBlock.px-none.mb-small.mt-none .Block-link","attributes":{"css":{},"href":"https://www.gong.io/platform-tour/","html":"Start product tour"}},{"type":"ATTRIBUTE","selector":"#productivity .py-small .Block-link","attributes":{"href":"#popup_26714","html":"Book a demo"}},{"type":"ATTRIBUTE","selector":"#predictability .py-small .Block-link","attributes":{"href":"#popup_26714","html":"Book a demo"}},{"type":"ATTRIBUTE","selector":"#predictability .py-none.SectionContentBlock.px-none.mb-small.mt-none .Block-link","attributes":{"href":"https://www.gong.io/platform-tour/?utm_campaign=forecast-tour","html":"Start product tour"}},{"type":"ATTRIBUTE","selector":"#growth .py-none.SectionContentBlock.px-none.mb-small.mt-none .Block-link","attributes":{"href":"https://www.gong.io/platform-tour/?utm_campaign=engage-tour","html":"Start product tour"}},{"type":"ATTRIBUTE","selector":"#growth .py-small .Block-link","attributes":{"href":"#popup_26714","html":"Book a demo"}},{"type":"ATTRIBUTE","selector":"#all .py-none.SectionContentBlock.px-none.mb-small.mt-none .Block-link","attributes":{"href":"https://www.gong.io/instant-demo/","html":"Watch instant demo"}},{"type":"ATTRIBUTE","selector":"#all .py-small .Block-link","attributes":{"href":"#popup_26714","html":"Book a demo"}}]}},"preconditions":[],"boundingSelectors":[]}}},"217068138":{"name":"All \\"Pipeline\\" URLs P0 and P3 Popups (1)","metrics":[{"id":"197957251","name":"AutoGoal: On-page engagement","eventIds":["157020710"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197957250","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417218985":{"name":"All \\"Pipeline\\" URLs P0 and P3 Popups","type":"cc","audienceIds":["!187597358"],"pageIds":["137705851"],"state":"live","ignore":0,"variations":{"617083147":{"name":"No Change","state":"live","preconditions":[]},"617083148":{"name":"P0 Demo Page Takeover","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Grow your pipeline with Gong\\",subTitle:\\"How can you maximize your sales pipeline? What strategies drive the most successful deals? Get a demo to see how Gong can help.\\",formId:1050,submitText:\\"Book a demo\\",redirect:\\"/confirmation\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:15,targetScrollPercent:60});})();"},"617083149":{"name":"P3 Instant Demo Page Takeover","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Improve your Pipeline. Watch a Recorded Demo\\",subTitle:\\"Get a 3-min highlight reel of how Gong can help your team build a stronger pipeline and close more deals efficiently.\\",formId:3725,submitText:\\"Watch Now\\",redirect:\\"https://www.gong.io/instant-demo-confirmation/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:15,targetScrollPercent:60});})();"},"617083494":{"name":"P0 Demo Sidebar","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Grow your pipeline with Gong\\",body:\\"How can you maximize your sales pipeline? What strategies drive the most successful deals? Get a demo to see how Gong can help.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:1050,submitBtnTxt:\\"Book a demo\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:15,targetScrollPercent:60}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617083495":{"name":"P3 Instant Demo Sidebar","state":"live","preconditions":[],"code":"(()=>{window.iGong.sideBarPopup.create({headline:\\"Improve your Pipeline With Gong. Watch a Recorded Demo\\",body:\\"How can you maximize your sales pipeline? What strategies drive the most successful deals? See how Gong can help.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Watch a recorded demo\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:15,targetScrollPercent:60}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["window.iGong.popupModal.checkPreconditions();","document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217068233":{"name":"PPC Forecast LPs - P3 exit intent pop-up","metrics":[{"id":"197957468","name":"Demo Form submission","eventIds":["157013218"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":5},{"id":"197957469","name":"Demo/Tour Form submission","eventIds":["157013219"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true,"value":1},{"id":"197957470","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417219080":{"name":"PPC Forecast LPs - P3 exit intent pop-up","type":"cc","pageIds":["137705896"],"state":"live","ignore":0,"variations":{"617083547":{"name":"No Change","state":"live","preconditions":[]},"617083548":{"name":"Exit pop-up - Forecast Tour - Page Takeover","state":"live","preconditions":[],"code":"(()=>{const{templates:t,create:o}=window.iGong.popupModal;o({html:t.horizontal({title:\\"Take a self-guided product tour of Gong Forecast\\",subTitle:\\"Fill out the form to start a step-by-step tour of Gong Forecast. Next-level sales forecasting.\\",formId:3725,submitText:\\"Start Tour\\",redirect:\\"https://www.gong.io/tour-confirmation-forecast/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"],formFieldFills:[[\\"productInterest\\",\\"forecast\\"]]},\\"exit\\",{delay:0}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217068369":{"name":"All \\"Onboarding\\" URLs P0 and P3 Popups","metrics":[{"id":"197957752","name":"AutoGoal: On-page engagement","eventIds":["157020825"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197957753","name":"MQLs","eventIds":["157018661"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417219216":{"name":"All \\"Onboarding\\" URLs P0 and P3 Popups","type":"cc","audienceIds":["!187594894","!187597358"],"pageIds":["137705961"],"state":"live","ignore":0,"variations":{"617083838":{"name":"No Change","state":"live","preconditions":[]},"617083839":{"name":"P0 Demo Page Takeover","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"ACCELERATE ONBOARDING WITH GONG\\",subTitle:\\"Discover onboarding strategies that propel you towards winning deals faster. Unleash the full potential of your pipeline. See how Gong can guide you through a seamless onboarding process to maximize your results.\\",formId:1050,submitText:\\"Book a demo\\",redirect:\\"/confirmation\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:15,targetScrollPercent:60});})();"},"617083840":{"name":"P3 Instant Demo Page Takeover","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Accelerate Onboarding with Gong. Watch a Recorded Demo.\\",subTitle:\\"Discover onboarding strategies that propel you towards winning deals faster. Unleash the full potential of your pipeline. See how Gong can guide you through a seamless onboarding process to maximize your results.\\",formId:3725,submitText:\\"Watch Now\\",redirect:\\"https://www.gong.io/instant-demo-confirmation/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"scroll\\",{delay:15,targetScrollPercent:60});})();"},"617083841":{"name":"P0 Demo Sidebar","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;window.iGong.sideBarPopup.create({headline:\\"ACCELERATE ONBOARDING WITH GONG\\",body:\\"Discover onboarding strategies that propel you towards winning deals faster. Unleash the full potential of your pipeline. See how Gong can guide you through a seamless onboarding process to maximize your results.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:1050,submitBtnTxt:\\"Book a demo\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:15,targetScrollPercent:60}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617083842":{"name":"P3 Instant Demo Sidebar","state":"live","preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;window.iGong.sideBarPopup.create({headline:\\"Accelerate Onboarding with Gong. Watch a Recorded Demo.\\",body:\\"Discover onboarding strategies that propel you towards winning deals faster. See how Gong can maximize your results.\\",topImage:\\"https://www.gong.io/wp-content/uploads/2022/12/intellimize_laptop_image.png?123\\",formId:3725,submitBtnTxt:\\"Watch a recorded demo\\",useChilipiper:!0,redirectUrl:\\"/confirmation\\"},\\"scroll\\",{delay:15,targetScrollPercent:60}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"preconditions":["window.iGong.popupModal.checkPreconditions();","document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217068415":{"name":"Page Depth (15)","metrics":[{"id":"197957845","name":"AutoGoal: On-page engagement","eventIds":["157016879"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417219262":{"name":"Page Depth","type":"cc","audienceIds":["!187595072","!187597358"],"pageIds":["137699626"],"state":"live","ignore":0,"variations":{"617083922":{"name":"No Change","state":"live","preconditions":[]},"617083923":{"name":"Hide FAQ","state":"live","preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":".nth-6 > .SectionBlock-background.bg-white","attributes":{"css":{"display":"none"}}},{"type":"ATTRIBUTE","selector":".nth-6","attributes":{"css":{"display":"none"}}}]}},"preconditions":[],"boundingSelectors":[]}}},"217069162":{"name":"PPC P2 State of Sales Leadership 2024 Report","metrics":[{"id":"197959153","name":"AutoGoal: On-page engagement","eventIds":["157021549"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417220008":{"name":"PPC P2 State of Sales Leadership 2024 Report","type":"rbp","pageIds":["137706361"],"state":"live","ignore":0,"variations":{"617085762":{"name":"Default","state":"live","preconditions":[]},"617085763":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"html":"The State of Sales Leadership 2024"}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"html":"Stay up to date on sales leadership trends"}},{"type":"ATTRIBUTE","selector":"ul > div:nth-of-type(1) li","attributes":{"html":"The largest obstacles sales leaders navigated in 2023"}},{"type":"ATTRIBUTE","selector":".ListBlock-inner div:nth-of-type(4) li","attributes":{"html":"A key difference between top-paid sales leaders and their peers"}}]}},"variationPriority":["617085763","617085762"],"preconditions":[],"boundingSelectors":[]}}},"217070463":{"name":"PPC 1 vs 2 CTA Non-brand Sales Training LP","metrics":[{"id":"197961621","name":"AutoGoal: On-page engagement","eventIds":["157022726"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true},{"id":"197964498","name":"Clicks Custom Quote","eventIds":["157024113"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":false}],"experiences":{"417221310":{"name":"PPC 1 vs 2 CTA Non-brand Sales Training LP","type":"cc","pageIds":["137707057"],"state":"live","ignore":0,"variations":{"617088956":{"name":"No Change","state":"live","preconditions":[]},"617088957":{"name":"2 CTA ","state":"live","preconditions":[],"changes":[{"type":"INSERT_ELEMENT","elementType":"rich-text","targetPosition":{"selector":".has-white-background .SectionCtasBlock-content","insertPosition":"beforeend"},"idAttribute":"imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4"},{"type":"ATTRIBUTE","selector":"#imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4","attributes":{"className":"Button is-violet","css":{"borderRadius":"20px"},"html":"<a href=\\"https://www.gong.io/pricing/\\" target=\\"_blank\\">Get a Custom Quote</a>"}},{"type":"ATTRIBUTE","selector":"#imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a","attributes":{"css":{"color":"#ffffff"}}}]}},"preconditions":[],"boundingSelectors":[]}}},"217071351":{"name":"PPC Exit Pop-up Sales Leader Instant Demo","metrics":[{"id":"197962921","name":"AutoGoal: On-page engagement","eventIds":["157023417"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417222198":{"name":"PPC Exit Pop-up Sales Leader Instant Demo","type":"rbp","pageIds":["137706214","137707153","137707467","137707473"],"state":"live","ignore":0,"variations":{"617091279":{"name":"Default","state":"live","preconditions":[]},"617091281":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"code":"(()=>{const{templates:e,create:t}=window.iGong.popupModal;t({html:e.horizontal({title:\\"Watch a 5-minute demo to see how Sales Leaders coach with Gong\\",subTitle:\\"Watch this demo video and see how Sales Leaders use Gong to understand 1) Are their Front Line Leaders coaching? 2) Who are they coaching? and 3) What are they coaching?\\",formId:3726,submitText:\\"Watch now\\",redirect:\\"https://www.gong.io/instant-demo/sales-leader/confirmation/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"exit\\",{delay:0}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"}},"variationPriority":["617091281","617091279"],"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217071359":{"name":"PPC Exit Pop-up Platform Instant Demo","metrics":[{"id":"197962928","name":"AutoGoal: On-page engagement","eventIds":["157023420"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417222206":{"name":"PPC Exit Pop-up Platform Instant Demo","type":"rbp","pageIds":["137705999","137707472","137707469","137707470","137707468","137707152"],"state":"live","ignore":0,"variations":{"617091292":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"code":"(()=>{const{templates:e,create:o}=window.iGong.popupModal;o({html:e.horizontal({title:\\"Watch a 3-minute demo to see how Gong AI can help you win!\\",subTitle:\\"See how your sales team can engage customers, forecast accurately, and win more deals with Gong.\\",formId:3726,submitText:\\"Watch now\\",redirect:\\"https://www.gong.io/instant-demo-confirmation/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"]},\\"exit\\",{delay:0}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617091293":{"name":"Default","state":"live","preconditions":[]}},"variationPriority":["617091292","617091293"],"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217071460":{"name":"PPC Exit Pop-up Engage Instant Demo (1)","metrics":[{"id":"197963087","name":"AutoGoal: On-page engagement","eventIds":["157023433"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417222307":{"name":"PPC Exit Pop-up Engage Instant Demo","type":"rbp","pageIds":["137707490","137705841","137707491"],"state":"live","ignore":0,"variations":{"617091503":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"code":"(()=>{const{templates:e,create:t}=window.iGong.popupModal;t({html:e.horizontal({title:\\"Watch a 3-minute Demo\\",subTitle:\\"See how your sales team can create, accelerate and close pipeline with Gong Engage\\",formId:3726,submitText:\\"Watch now\\",redirect:\\"https://www.gong.io/instant-demo/engage/confirmation/\\"}),moveCloseOutside:!0,cssClasses:[\\"i-popup-horizontal\\"],formFieldFills:[[\\"productInterest\\",\\"engage\\"]]},\\"exit\\",{delay:0}),window.drift.on(\\"ready\\",()=>{window.drift.api.widget.hide()});})();"},"617091504":{"name":"Default","state":"live","preconditions":[]}},"variationPriority":["617091503","617091504"],"preconditions":["document.documentElement !== null;","document.body !== null;","typeof window.jQuery === \'function\';","typeof window.drift === \'function\';","typeof window.drift.on === \'function\';","typeof window.drift.api === \'object\';","typeof window.drift.api.widget === \'object\';","typeof window.drift.api.widget.hide === \'function\';"],"boundingSelectors":[]}}},"217071553":{"name":"Demo: Simplified Hero","metrics":[{"id":"197963203","name":"AutoGoal: On-page engagement","eventIds":["157012873"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417222400":{"name":"Demo: Simplified Hero","type":"cc","audienceIds":["!187597358"],"pageIds":["137695781"],"state":"live","ignore":0,"variations":{"617091717":{"name":"No Change","state":"live","preconditions":[]},"617091718":{"name":"Bullet Points","state":"live","preconditions":[],"changes":[{"type":"INSERT_ELEMENT","elementType":"html-block","targetPosition":{"selector":".Block-subtitle","insertPosition":"afterend"},"idAttribute":"insert-e3d57723-3e8d-4e06-95c6-774c77740afd"},{"type":"ATTRIBUTE","selector":"#insert-e3d57723-3e8d-4e06-95c6-774c77740afd","attributes":{"css":{},"html":"<ul>\\n    <li>\\n        <strong>Close more deals</strong>: Get visibility across your entire pipeline with early risk warnings and AI-powered guidance to keep every deal on a path to close\\n    </li>\\n    <li>\\n        <strong>Improve sales productivity:</strong> Scale winning plays across the entire team\\n    </li>\\n    <li>\\n        <strong>Bet big and win</strong>: Understand how strategic initiatives land with buyers, track trends and quantify impact\\n    </li>\\n</ul>"}},{"type":"ATTRIBUTE","selector":".Block-subtitle","attributes":{"css":{},"html":"Book a demo to see how the Gong Revenue Intelligence Platform can help you"}},{"type":"ATTRIBUTE","selector":".FrequentlyAskedQuestionsBlock-content","attributes":{"css":{"display":"none"}}}]}},"preconditions":[],"boundingSelectors":[".HeroFormContentBlock-content"]}}},"217075309":{"name":"V2: Platform Page Redirect Messaging Update Q4 FY25","metrics":[{"id":"197968210","name":"AutoGoal: On-page engagement","eventIds":["157020366"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417226156":{"name":"V2: Platform Page Redirect Messaging Update Q4 FY25","type":"cc","audienceIds":["187595223","!187595084","!187597358","!187600462"],"pageIds":["137705680"],"state":"live","ignore":0,"variations":{"617099951":{"name":"New Messaging and Creative (No Change)","state":"live","preconditions":[],"changes":[]},"617099952":{"name":"Old Messaging","state":"live","preconditions":[],"redirect":"window.iGong.redirectTo(\\"https://www.gong.io/revenue-ai-platform/\\");"}},"preconditions":[],"boundingSelectors":[]}}},"217075447":{"name":"PPC - State of B2B Revenue Growth 2025","metrics":[{"id":"197968406","name":"AutoGoal: On-page engagement","eventIds":["157026231"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417226294":{"name":"PPC - State of B2B Revenue Growth 2025","type":"rbp","pageIds":["137708698"],"state":"live","ignore":0,"variations":{"617100236":{"name":"Default","state":"live","preconditions":[]},"617100237":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"css":{},"html":"The State of B2B Revenue Growth 2025"}},{"type":"ATTRIBUTE","selector":".ResourcePageHeroContentBlock-content > p.font-normal","attributes":{"css":{},"html":"Access insights from more than 600 B2B sales professionals as they chart their paths to revenue growth in 2025."}},{"type":"ATTRIBUTE","selector":"ul > div:nth-of-type(2) li","attributes":{"css":{},"html":"How B2B sales leaders are planning for revenue growth in 2025"}},{"type":"ATTRIBUTE","selector":".ResourcePageBodyContentBlock-content > p.font-normal","attributes":{"css":{},"html":"Download the first edition of the Gong Labs Research Report to uncover:"}},{"type":"ATTRIBUTE","selector":"div:nth-of-type(5) li","attributes":{"css":{},"html":"B2B sales trends for 2025"}},{"type":"ATTRIBUTE","selector":".ListBlock-inner div:nth-of-type(4) li","attributes":{"css":{},"html":"The impact of AI on sales efficiency and revenue growth"}},{"type":"ATTRIBUTE","selector":"ul > div:nth-of-type(1) li","attributes":{"css":{},"html":"A look back at how sales teams performed in 2024"}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"css":{},"html":"inform your 2025 Sales Strategy"}},{"type":"ATTRIBUTE","selector":".Kicker","attributes":{"html":"GONG LABS RESEARCH"}}]}},"variationPriority":["617100237","617100236"],"preconditions":[],"boundingSelectors":[]}}},"217075461":{"name":"PPC - BWTR eBook","metrics":[{"id":"197968426","name":"AutoGoal: On-page engagement","eventIds":["157026235"],"scope":"session","type":"conversion","countingMethod":"unique","isGoal":true}],"experiences":{"417226308":{"name":"PPC - BWTR eBook","type":"rbp","pageIds":["137708699"],"state":"live","ignore":0,"variations":{"617100275":{"name":"Default","state":"live","preconditions":[]},"617100276":{"name":"CPC ","state":"live","condition":{"type":"audience","audienceId":"187595983"},"preconditions":[],"changes":[{"type":"ATTRIBUTE","selector":"h1","attributes":{"css":{},"html":"A better way to revenue: B2B Sales Success Stories"}},{"type":"ATTRIBUTE","selector":".ResourcePageHeroContentBlock-content > p:nth-of-type(1)","attributes":{"css":{},"html":"B2B sales leaders are searching for ways to optimize their sales processes and drive predictable revenue growth. Sometimes, it helps to see how your peers made it happen. So we created this e-book, which features several B2B sales success stories."}},{"type":"ATTRIBUTE","selector":".ResourcePageHeroContentBlock-content > p:nth-of-type(2)","attributes":{"css":{},"html":""}},{"type":"ATTRIBUTE","selector":"ul > div:nth-of-type(3) li","attributes":{"css":{},"html":"Drive predictable revenue growth"}},{"type":"ATTRIBUTE","selector":".h4","attributes":{"css":{},"html":"Get the E-Book"}},{"type":"ATTRIBUTE","selector":".ResourcePageBodyContentBlock-content > p.font-normal","attributes":{"css":{},"html":"Read it to learn how you can leverage revenue AI in 2025 to:"}},{"type":"ATTRIBUTE","selector":".Kicker","attributes":{"css":{},"html":"E-BOOK"}}]}},"variationPriority":["617100276","617100275"],"preconditions":[],"boundingSelectors":[]}}}},"events":{"157004832":{"name":"Demo Form - Submission (/demo 1050, 2884, 3502, 3479) (/get-demo 1050)(/live-demo 1050)(/product-demo 3897)","type":"custom","apiName":"demo_form_submission"},"157004843":{"name":"Demo Form - Start","type":"custom","apiName":"demo_form_start"},"157004844":{"name":"Demo Form - Step 2","type":"custom","apiName":"demo_form_step_2"},"157004845":{"name":"Demo Form - Step 3","type":"custom","apiName":"demo_form_step_3"},"157004854":{"name":"Demo form submission > (views gong.io/confirmation)","type":"view","pageIds":["137695787"]},"157004857":{"name":"Click on Request Live Demo button","type":"custom","apiName":"click_request_live_demo_button"},"157004889":{"name":"Pricing Page Form - Step 2","type":"custom","apiName":"pricing_page_form_step_2"},"157004890":{"name":"Pricing Page Form - Step 3","type":"custom","apiName":"pricing_page_form_step_3"},"157004891":{"name":"View on /pricing-request-confirmation page","type":"view","pageIds":["137695856"]},"157004892":{"name":"Pricing Page Form - Submission (/pricing)","type":"custom","apiName":"pricing_form_submission_pricing_page"},"157004893":{"name":"Pricing Page Form - Submission and Redirect","type":"view","pageIds":["137695856"],"code":"sessionStorage.getItem(\\"i-pricing-form-redirect\\")===\\"true\\";"},"157004911":{"name":"Click \'Book Now\' CTA (/revenue-intelligence)","type":"click","pageIds":["137695813"],"selector":"a[href=\\"/demo/\\"]"},"157004913":{"name":"Revenue Intelligence Form - Submitted","type":"custom","apiName":"ri_form_submitted"},"157004915":{"name":"Revenue Intelligence Form - Shown","type":"custom","apiName":"ri_form_shown"},"157004916":{"name":"Schedule Now Form - Submitted","type":"custom","apiName":"sn_form_submitted"},"157004918":{"name":"Homepage Post-Video Form - Submitted","type":"custom","apiName":"homepage_form_submission"},"157004919":{"name":"Homepage Post-Video Form - Shown","type":"custom","apiName":"homepage_form_shown"},"157004934":{"name":"Homepage - Click What Customers Say CTA","type":"click","pageIds":["137695774"],"selector":"#main #hero .container .buttons a[data-wistia].is-video"},"157004941":{"name":"Homepage - Click Let\'s Talk Banner CTA","type":"click","pageIds":["137695774"],"selector":".cta-banner form[databutton=\\"Let\'s Talk\\"] button.mktoButton"},"157004942":{"name":"Homepage - Click Footer Request Demo CTA","type":"click","pageIds":["137695774"],"selector":".footer-cta form[databutton=\\"Request Demo\\"] button.mktoButton"},"157004943":{"name":"Click Nav Header Get Started CTA","type":"click","pageIds":["137695774","137695796","137695813"],"selector":".head-container form[databutton=\\"Get Started\\"] button.mktoButton"},"157004944":{"name":"Homepage - Click Hero See It in Action CTA","type":"click","pageIds":["137695774","137697296","137697297"],"selector":"#hero form button.mktoButton[type=\'submit\'], .hero a[href=\'#cta-banner\'], #hero a[href*=\'/14-day-trial\']"},"157004945":{"name":"Form Submission on /signed-up (from Homepage)","type":"view","pageIds":["137695959"],"code":"(function(t){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?([?#].*?)?$/.test(t)})(document.referrer);"},"157004946":{"name":"Form Submission on /demo-confirmation (from Revenue Intelligence)","type":"view","pageIds":["137695787"],"code":"(function(e){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$/.test(e)})(document.referrer);"},"157004959":{"name":"Form Submission on /demo-confirmation (from Homepage or Homepage -> /signed-up page)","type":"view","pageIds":["137695787"],"code":"(function(e){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?(signed-up)?\\\\/?([?#].*?)?$/.test(e)})(document.referrer);"},"157004960":{"name":"Form Submission on /signed-up (from Revenue Intelligence)","type":"view","pageIds":["137695959"],"code":"(function(e){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$/.test(e)})(document.referrer);"},"157005003":{"name":"Homepage content module: Click \'Download\'","type":"click","pageIds":["137695774"],"selector":"[data-i-content-module-download]"},"157005010":{"name":"/cheat-sheet-43-highly-effective-email-ctas: Submit form","type":"click","pageIds":["137696001"],"selector":"#i-marketo-interface-success.i-submit-email-cta-cheatsheet-form"},"157005033":{"name":"Drift chat - Email Submission","type":"custom","apiName":"drift-chat-email-submission"},"157005034":{"name":"high quality lead-mql","type":"custom","apiName":"high-quality-lead-mql"},"157005035":{"name":"low quality lead mql","type":"custom","apiName":"low-quality-lead-mql"},"157005038":{"name":"/product: Click \'Pricing\' CTA","type":"click","pageIds":["137695806"],"selector":"a[href=\'/pricing\']"},"157005039":{"name":"Pricing Form - Submission (referrer=/product)","type":"custom","apiName":"pricing_form_submission_from_product"},"157005052":{"name":"Pricing Page Form - Submission (/product)","type":"custom","apiName":"pricing_form_submission_pdp"},"157005089":{"name":"Pricing Form - Step 2 (/product)","type":"custom","apiName":"pricing_form_prod_page_step_2"},"157005090":{"name":"Pricing Form - Step 3 (/product)","type":"custom","apiName":"pricing_form_prod_page_step_3"},"157005091":{"name":"View on /pricing-request-confirmation page, coming from /product page","type":"view","pageIds":["137695856"],"code":"document.referrer.includes(\\"/product\\");"},"157005092":{"name":"View on /demo-signed-up page, coming from /product page","type":"view","pageIds":["137695819"],"code":"document.referrer.includes(\\"/product\\");"},"157005093":{"name":"View on /demo-confirmation page (/product → /demo-signed-up -> /demo-confirmation)","type":"view","pageIds":["137695787"],"code":"(function(){const e=window.iGong.uniqueNavigationHistory.previous.history;const i=[\\"/product\\",\\"/demo-signed-up\\"];return e.every((n,o)=>n.includes(i[o]))})();"},"157005094":{"name":"Submit demo form on /product","type":"custom","apiName":"demo_form_submission_pdp"},"157005118":{"name":"Content download form submit","type":"click","pageIds":["137696075","137696859"],"selector":"#i-marketo-interface-success.content_download_form_submit"},"157005124":{"name":"Content download form step 2","type":"custom","apiName":"content-donwload-form-step-2"},"157005125":{"name":"Content download form step 3","type":"custom","apiName":"content-donwload-form-step-3"},"157005159":{"name":"Submit form (blog hub)","type":"click","pageIds":["137696073","137699482"],"selector":"#i-marketo-interface-success.i-blog-hub-email-form"},"157005160":{"name":"Hero CTA clicked (blog hub)","type":"click","pageIds":["137696073"],"selector":"#archive-hero a.i-cta"},"157005247":{"name":"Submit form on /7-habits-of-master-rapport-builders/","type":"custom","apiName":"master_rapport_builders_form_submit"},"157005307":{"name":"Clicks on Pricing CTA in any page","type":"click","pageIds":["137696048"],"selector":"a[href*=\'/pricing\']"},"157005362":{"name":"Click \'Schedule Now\' footer form CTA (/revenue-intelligence)","type":"click","pageIds":["137695813"],"selector":"#upgrade-svg .demo-request-input button[type=\'submit\']"},"157005591":{"name":"View on /demo-signed-up page from homepage","type":"view","pageIds":["137695819"],"code":"(function(t){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?([?#].*?)?$/.test(t)})(document.referrer);"},"157005603":{"name":"Homepage - Click Top Request Demo CTA","type":"click","pageIds":["137695774"],"selector":"form[databutton=\\"Get Started\\"] button.mktoButton"},"157005604":{"name":"Click on CTA Panel","type":"click","pageIds":["137695774"],"selector":".i-panel__cta"},"157005829":{"name":"Click on homepage hero \\"Watch demo\\"","type":"click","pageIds":["137695774"],"selector":".i-hero-cta"},"157005840":{"name":"Click on Floating Demo CTA","type":"click","pageIds":["137695806","137695814","137695816","137695827","137695837","137695840","137697074","137698205"],"selector":".i-floating-demo-cta"},"157005841":{"name":"Click to /demo or /pricing cta in specific pages","type":"click","pageIds":["137695806","137695814","137695816","137695827","137695837","137695840","137697074","137698205"],"selector":"a[href*=\'/demo\']:not(.i-floating-demo-cta), a[href*=\'/pricing\']:not(.i-floating-demo-cta)"},"157005842":{"name":"View on (https://www.gong.io/demo-confirmation/?booked or ?closed) page [event code]","type":"view","pageIds":["137695787"],"code":"(function(o){const e=document.referrer;const t=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo\\\\/?([?#].*?)?$/;return(o===\\"?booked\\"||o===\\"?closed\\")&&t.test(e)})(window.location.search);"},"157005843":{"name":"View on (https://www.gong.io/demo-confirmation/?booked or ?closed) page with referrer [event code]","type":"view","pageIds":["137695787"],"code":"(function(){const{search:o}=window.location;const t=window.iGong.utils.getUrlHistory(2)[1];const w=[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/people-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/market-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-skills\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-onboarding\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-strategy\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$/];const e=w.some(s=>s.test(t));return(o===\\"?booked\\"||o===\\"?closed\\")&&e})();"},"157005910":{"name":"Submit form on /overview","type":"custom","apiName":"form-submit-overview"},"157006083":{"name":"Click Top Request Demo CTA","type":"click","pageIds":["137696048"],"selector":"form[databutton=\\"Get Started\\"] button.mktoButton, .Header a[href*=\'/demo/\']"},"157006087":{"name":"Click sign-in","type":"click","pageIds":["137696048"],"selector":".Header .Header-login > a"},"157006120":{"name":"Call-sharing/recording - Click Footer \'See it in action\' CTA","type":"click","pageIds":["137697296","137697297"],"selector":".cta-banner form[databutton=\'See it in action\'] button.mktoButton"},"157006498":{"name":"14-day Free Trial Thank You page view","type":"view","pageIds":["137697618"]},"157006499":{"name":"Homepage: 14-day Free Trial CTA click","type":"click","pageIds":["137695774"],"selector":".i-free-trial-offer a[href*=\'/14-day-trial\']"},"157006501":{"name":"Click on \'Let\'s talk\' CTA","type":"click","pageIds":["137695774"],"selector":"#cta-banner button.mktoButton, #cta-banner .i-demo-cta-banner"},"157006536":{"name":"Homepage UK - Click Hero See It in Action CTA","type":"click","pageIds":["137697642"],"selector":"#hero form button.mktoButton[type=\'submit\'], .hero a[href=\'#cta-banner\'], #hero a[href*=\'/14-day-trial\']"},"157006537":{"name":"Homepage UK - Click Top Request Hero form CTA","type":"click","pageIds":["137697642"],"selector":".HeroBlock-grid form[data-formid=\'1057\'] button.mktoButton"},"157006538":{"name":"Homepage UK - Click on form mid-page banner","type":"click","pageIds":["137697642"],"selector":".CtaBlock-body form[data-formid=\'1057\'] button.mktoButton"},"157006565":{"name":"Homepage UK - Call-sharing/recording - Click nav form CTA","type":"click","pageIds":["137697642"],"selector":".Header form[data-formid=\'1057\'] button.mktoButton"},"157006566":{"name":"Homepage UK - Call-sharing/recording - Click footer form CTA","type":"click","pageIds":["137697642"],"selector":".Footer form[data-formid=\'1057\'] button.mktoButton"},"157006676":{"name":"Hero CTA","type":"click","pageIds":["137695774"],"selector":".HeroBlock-content button.mktoButton, .HeroBlock-content .i-form-replacement-cta, .HeroBlock-content a[href*=\'/14-day-trial\']"},"157006677":{"name":"Mid-panel CTA","type":"click","pageIds":["137695774"],"selector":".SectionBlock-content button.mktoButton, .SectionBlock-content .i-form-replacement-cta"},"157006678":{"name":"Demo Form Refferrer Homepage - Submission","type":"custom","apiName":"demo_form_submission_referrer_homepage"},"157006712":{"name":"Submit demo form on Product Pages","type":"custom","apiName":"personalized_demo_form_submission_pdp"},"157006713":{"name":"Submit blog subscription form on Product Pages","type":"custom","apiName":"blog_subscription_form_submission_pdp"},"157006724":{"name":"Footer new CTA","type":"click","pageIds":["137696048"],"selector":".i-demo-footer-cta"},"157006732":{"name":"Submit footer form","type":"custom","apiName":"form-submit-all-pages-footer"},"157006733":{"name":"Submit header form","type":"custom","apiName":"form-submit-all-pages-header"},"157006765":{"name":"Click on Footer CTA [no form variation]","type":"click","pageIds":["137696048"],"selector":".Footer .i-form-replacement-cta"},"157006772":{"name":"Click on Nav Dropdown Demo","type":"click","pageIds":["137696048"],"selector":"#i-click-on-nav-drowpdown-cta"},"157007009":{"name":"Click on Nav Resources Dropdown CTA","type":"click","pageIds":["137696048"],"selector":"#i-click-on-resources-dropdown-cta"},"157007024":{"name":"Submit sales subscription form on Resources Page","type":"custom","apiName":"resources_subscription_form_submission"},"157007026":{"name":"Submit sales template subscription form","type":"custom","apiName":"get_sales_template_form_submission"},"157007027":{"name":"Submit study subscription form","type":"custom","apiName":"get_the_study_form_submission"},"157007044":{"name":"Submit modal SEO form","type":"custom","apiName":"modal_seo_form_submission_pdp"},"157007660":{"name":"Submit Nav form (homepage or /call-sharing or /pricing) [1057] - no longer exists on base site or /call-sharing page","type":"click","pageIds":["137695774","137695796","137697296"],"selector":".i-see-it-in-action-submit.nav"},"157007661":{"name":"Submit Hero form (homepage or /call-sharing or /pricing) [1057]","type":"click","pageIds":["137695774","137695796","137697296"],"selector":".i-see-it-in-action-submit.hero"},"157007662":{"name":"Submit Middle form (homepage or /call-sharing or /pricing) [1057]","type":"click","pageIds":["137695774","137695796","137697296"],"selector":".i-see-it-in-action-submit.middle"},"157007663":{"name":"Submit Footer form (homepage or /call-sharing or /pricing) [1057]","type":"click","pageIds":["137695774","137695796","137697296"],"selector":".i-see-it-in-action-submit.footer"},"157007665":{"name":"View Demo Confirmation from homepage","type":"view","pageIds":["137695787"],"code":"(function(){const{iGong:e}=window;const o=[...e.uniqueNavigationHistory.previous.history].reverse();return e.pages.rawRegexes.home.test(o[0])})();"},"157007666":{"name":"View Demo Confirmation from homepage -> /demo-signed-up","type":"view","pageIds":["137695787"],"code":"(function(){const{iGong:e}=window;const s=e.pages.rawRegexes;const o=[...e.uniqueNavigationHistory.previous.history].reverse();return s.demoSignedUp.test(o[0])&&s.home.test(o[1])})();"},"157007667":{"name":"View Demo Confirmation from homepage -> /demo","type":"view","pageIds":["137695787"],"code":"(function(){const{iGong:e}=window;const s=e.pages.rawRegexes;const o=[...e.uniqueNavigationHistory.previous.history].reverse();return s.demo.test(o[0])&&s.home.test(o[1])})();"},"157007668":{"name":"View Demo Confirmation from /call-sharing","type":"view","pageIds":["137695787"],"code":"(function(){const{iGong:e}=window;const i=[...e.uniqueNavigationHistory.previous.history].reverse();return e.pages.rawRegexes.callSharing.test(i[0])})();"},"157007669":{"name":"View Demo Confirmation from /call-sharing -> /demo-signed-up","type":"view","pageIds":["137695787"],"code":"(function(){const{iGong:e}=window;const s=e.pages.rawRegexes;const i=[...e.uniqueNavigationHistory.previous.history].reverse();return s.demoSignedUp.test(i[0])&&s.callSharing.test(i[1])})();"},"157007747":{"name":"View: Pricing Request Confirmation Page","type":"view","pageIds":["137695856"]},"157007748":{"name":"View: Demo Request Confirmation Page","type":"view","pageIds":["137695787"]},"157007749":{"name":"Content Download Confirmation","type":"view","pageIds":["137696075"]},"157008287":{"name":"Demo Form TY Page Pathfactory","type":"view","pageIds":["137698829"]},"157008288":{"name":"Demo Form TY Page Pathfactory (Redirect)","type":"click","pageIds":["157009061"],"selector":"#i-marketo-interface-success.demo-form-thank-you-submit-form"},"157008319":{"name":"Homepage demo submits [1057, 1050, 3513]","type":"custom","apiName":"homepage_demo_submits"},"157008685":{"name":"View on pricing submission page from pricing","type":"view","pageIds":["137699179"],"code":"(function(r){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$/.test(r)})(document.referrer);"},"157008686":{"name":"View on /cheat-sheet-43-highly-effective-email-ctas from redirect page","type":"view","pageIds":["137696001"]},"157009113":{"name":"Form submission of the variation to measure engagement","type":"click","pageIds":["137695787"],"selector":".i-button-submit"},"157009510":{"name":"Marketo On Success Form Submission of Pop Ups","type":"click","pageIds":["137696073","137699482"],"selector":"#i-marketo-interface-success.i-bog-hub-popup-email-form"},"157009695":{"name":"On-page engagement (Forecast Demo Page)","type":"click","pageIds":["137699523"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157009746":{"name":"On-page engagement (Pricing Page)","type":"click","pageIds":["137695796"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157009747":{"name":"Demo Page P0","type":"view","pageIds":["137700978"]},"157009829":{"name":"Pricing Page Modal Form - Submission (/pricing)","type":"custom","apiName":"new_pricing_modal_form_submission"},"157009830":{"name":"Demo Page Modal Form - Submission (/demo)","type":"custom","apiName":"new_demo_modal_form_submission"},"157009934":{"name":"Form submission (Forecast Demo Page)","type":"custom","apiName":"forecast_demo_submits"},"157009938":{"name":"Click \'Take a tour\' (Forecast Demo Page)","type":"click","pageIds":["137699626"],"selector":".i-tour-button"},"157010589":{"name":"On-page engagement (Careers Page)","type":"click","pageIds":["137695805"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157010783":{"name":"Submit Popup form (homepage)","type":"custom","apiName":"homepage_demo_popup_submits"},"157011229":{"name":"On-page engagement (Product Overview)","type":"click","pageIds":["137695806"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157011230":{"name":"On-page engagement (Homepage)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157011243":{"name":"Wayfinder anchor click - How Gong Works","type":"click","pageIds":["137695774"],"selector":"a[href=\'#how-gong-works\']"},"157011244":{"name":"Wayfinder anchor click - Gong for Teams","type":"click","pageIds":["137695774"],"selector":"a[href=\'#gong-for-teams\']"},"157011245":{"name":"Wayfinder anchor click - Gong Pricing","type":"click","pageIds":["137695774"],"selector":"a[href=\'#pricing\']"},"157011339":{"name":"Clicks on PO CTAs","type":"click","pageIds":["137696048"],"selector":".Wrap > .Header-ctaSection .button, .Header-ctaSection--mobile .button, .Wrap > .Header-ctaSection .i-cta-button, .Header-ctaSection--mobile .i-cta-button"},"157011439":{"name":"On-page engagement (Pricing Page) (1)","type":"click","pageIds":["137695796"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157011754":{"name":"On-page engagement (Homepage) (1)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157011927":{"name":"Demo form submission (content thank you pages)","type":"click","pageIds":["137696075","137696859"],"selector":"#i-marketo-interface-success.demo-form"},"157012137":{"name":"On-page engagement (Homepage) (2)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012275":{"name":"Demo Pop-up - Forecast Form Submission","type":"custom","apiName":"i-demo-popup-forecast-submission"},"157012284":{"name":"On-page engagement (Press Pages)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012285":{"name":"On-page engagement (Homepage) (3)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012291":{"name":"Demo Pop-up - Sales Form Submission","type":"custom","apiName":"i-demo-popup-sales-submission"},"157012292":{"name":"Demo Pop-up - Customer Success Form Submission","type":"custom","apiName":"i-demo-popup-customer-success-submission"},"157012293":{"name":"Demo Pop-up - Marketing Form Submission","type":"custom","apiName":"i-demo-popup-marketing-submission"},"157012294":{"name":"Demo Pop-up - Coaching Form Submission","type":"custom","apiName":"i-demo-popup-coaching-submission"},"157012295":{"name":"Demo Pop-up - Deal Execution Form Submission","type":"custom","apiName":"i-demo-popup-deal-execution-submission"},"157012296":{"name":"Demo Pop-up - Enterprise Form Submission","type":"custom","apiName":"i-demo-popup-enterprise-submission"},"157012297":{"name":"Demo Pop-up - Case Studies Form Submission","type":"custom","apiName":"i-demo-popup-case-studies-submission"},"157012298":{"name":"Demo Pop-up - Raving Fans Form Submission","type":"custom","apiName":"i-demo-popup-raving-fans-submission"},"157012308":{"name":"Live Demo Pop-up - Form Submission","type":"custom","apiName":"i_live_demo_popup_submission"},"157012309":{"name":"Live Tour Pop-up - Form Submission","type":"custom","apiName":"i_live_tour_popup_submission"},"157012310":{"name":"Instant Demo Pop-up - Form Submission","type":"custom","apiName":"i_instant_demo_popup_submission"},"157012324":{"name":"Click on Footer CTA","type":"click","pageIds":["137695774"],"selector":".i-demo-redirect__button"},"157012325":{"name":"Live Demo Pop-up - Form Submission TY","type":"custom","apiName":"i_live_demo_popup_submission_typ"},"157012326":{"name":"Live Tour Pop-up - Form Submission TYP","type":"custom","apiName":"i_live_tour_popup_submission_typ"},"157012327":{"name":"Instant Demo Pop-up - Form Submission TYP","type":"custom","apiName":"i_instant_demo_popup_submission_typ"},"157012385":{"name":"On-page engagement (Home Page (Test))","type":"click","pageIds":["137700164"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012520":{"name":"Pricing demo submits","type":"custom","apiName":"pricing_demo_submits"},"157012534":{"name":"On-page engagement (Demo Page) (1)","type":"click","pageIds":["137695781","137700289","137700290"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012581":{"name":"Tour or Instant Demo form submission (Product overview page)","type":"click","pageIds":["137695806"],"selector":"#i-marketo-interface-success.tour-or-instant-demo"},"157012624":{"name":"Demo Pop up - Form Submissions [1050, 3725, 3726]","type":"custom","apiName":"i-demo-timed-popup"},"157012873":{"name":"On-page engagement (Demo Page) (2)","type":"click","pageIds":["137695781"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157012910":{"name":"Form submissions (SEO pages (2))","type":"click","pageIds":["137700467"],"selector":"#i-marketo-interface-success.seo-form"},"157013218":{"name":"Submit demo form on blogs pages","type":"custom","apiName":"i-demo-form-submission"},"157013219":{"name":"Submit demo/tour form on blogs pages","type":"custom","apiName":"i-instant-demo-tour-form-submissions"},"157013822":{"name":"On-page engagement (Opt Out Page)","type":"click","pageIds":["137700947"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157013873":{"name":"On-page engagement (Homepage) (4)","type":"click","pageIds":["137695774"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157013881":{"name":"P2 Form Submission (TYP View)","type":"view","pageIds":["137700970"]},"157013882":{"name":"Page View on Content Bundle Template Tests Confirmation Page (Content: Cold Email Templates Page)","type":"view","pageIds":["137700970"]},"157013883":{"name":"P2 Form Submission (TYP Pageview)","type":"view","pageIds":["137700970"]},"157013891":{"name":"Page View on Content Bundle Template Tests Confirmation Page (Content: Sales Coaching Template Page)","type":"view","pageIds":["137700970"]},"157013892":{"name":"Visit: Sales Pitch Template Script Page TYP","type":"view","pageIds":["137700970"]},"157013893":{"name":"On-page engagement (Content: Sales Proposal Template)","type":"click","pageIds":["137700976"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157013894":{"name":"View: Cold Calling Cheat Sheet Page TYP","type":"view","pageIds":["137700970"]},"157013895":{"name":"View: Confirmation Page","type":"view","pageIds":["137700978"]},"157013896":{"name":"View: Instant Demo Confirmation Page","type":"view","pageIds":["137700979"]},"157013897":{"name":"View: Tour Confirmation Page","type":"view","pageIds":["137700980"]},"157013898":{"name":"View: Any ending TYP","type":"view","pageIds":["137700981"]},"157013899":{"name":"Blog form submissions","type":"custom","apiName":"i-blogs-form-submission"},"157013910":{"name":"On-page engagement (Demo Page) (3)","type":"click","pageIds":["137695781"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157013914":{"name":"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)","type":"view","pageIds":["137700978"]},"157013923":{"name":"View: On Demand Product Tour Page","type":"view","pageIds":["137703284"]},"157013970":{"name":"/confirmation page view","type":"view","pageIds":["137700978"]},"157013994":{"name":"On-page engagement (Pricing Page) (3)","type":"click","pageIds":["137695796"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157014053":{"name":"Demo form submission (form ID: 1050, 3502, 3479)","type":"click","pageIds":["137695781"],"selector":"#i-marketo-interface-success.i-demo-form"},"157014519":{"name":"On-page engagement (Engage PPC Page)","type":"click","pageIds":["137701366"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157014520":{"name":"On-page engagement (Engage  Page)","type":"click","pageIds":["137701367"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157014523":{"name":"On-page engagement (Engage Page)","type":"click","pageIds":["137701367"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157014587":{"name":"Confirmation Pave view","type":"view","pageIds":["137699626","137700978"]},"157014695":{"name":"P2 Confirmation","type":"view","pageIds":["137700981"]},"157015257":{"name":"On-page engagement (PPC: Accelerate Growth Page)","type":"click","pageIds":["137702006"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157015756":{"name":"On-page engagement (AI Product Page)","type":"click","pageIds":["137702317"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157015785":{"name":"Click on .Header-cta a.Button (AI Product Page)","type":"click","pageIds":["137702317"],"selector":".Header-cta a.Button"},"157015814":{"name":"On-page engagement (Win With Gong - Sep 23 Page)","type":"click","pageIds":["137702346"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157015921":{"name":"On-page engagement (Win With Gong Page)","type":"click","pageIds":["137702402"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157015940":{"name":"On-page engagement (Instant Demo Confirmation Page)","type":"click","pageIds":["137700979"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157015941":{"name":"On-page engagement (Instant Demo Confirmation Page) (1)","type":"click","pageIds":["137700979"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016059":{"name":"On-page engagement (Win With Gong (EMEA) Page)","type":"click","pageIds":["137702465"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016073":{"name":"On-page engagement (Demo - LLR Page)","type":"click","pageIds":["137702471"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016088":{"name":"On-page engagement (Engage (Q3) Page)","type":"click","pageIds":["137701367"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016564":{"name":"On-page engagement (Homepage) (5)","type":"click","pageIds":["137702754"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016585":{"name":"On-page engagement (Call Recording Software Page)","type":"click","pageIds":["137695827"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016730":{"name":"On-page engagement (Call Recording Software (SEO) Page)","type":"click","pageIds":["137695827"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016752":{"name":"On-page engagement (Call Recording Software (SEO) Page, Zoom Call Transcription (SEO) Page, Call Software page (SEO), Sales Training Software Page (SEO))","type":"click","pageIds":["137695827","137695837","137697771","137697773"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016753":{"name":"On-page engagement (Zoom call transcription page)","type":"click","pageIds":["137697773"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016785":{"name":"On-page engagement (Call Software page (SEO))","type":"click","pageIds":["137697771"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016786":{"name":"On-page engagement (Conversation Intelligence Page (SEO))","type":"click","pageIds":["137695840"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016787":{"name":"On-page engagement (Sales Training Software Page (SEO))","type":"click","pageIds":["137695837"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016814":{"name":"On-page engagement (Call Recording Software Page (SEO))","type":"click","pageIds":["137695827"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016879":{"name":"On-page engagement (Forecast Page)","type":"click","pageIds":["137699626"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016884":{"name":"On-page engagement (Engage - MM Campaign Page)","type":"click","pageIds":["137703011"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157016885":{"name":"On-page engagement (Engage Interest - MM Campaign Page)","type":"click","pageIds":["137703012"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017047":{"name":"On-page engagement (Deal Management Software (PPC) Page)","type":"click","pageIds":["137703146"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017216":{"name":"On-page engagement (Gong Product Webinar Page)","type":"click","pageIds":["137703304"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017217":{"name":"On-page engagement (Guide: Achieve Revenue Predictability Page)","type":"click","pageIds":["137703305"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017222":{"name":"On-page engagement (SEO: Sales Enablement Software Page)","type":"click","pageIds":["137703308"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017241":{"name":"On-page engagement (Gong Webinar (Live Product Tour) Page)","type":"click","pageIds":["137703321"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017282":{"name":"On-page engagement (Blog - ICP Sales Page)","type":"click","pageIds":["137703346"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017312":{"name":"On-page engagement (Guide: The top 5 ways RevOps teams use AI Page)","type":"click","pageIds":["137703369"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017313":{"name":"On-page engagement (Webinar: Engage Product Tour (Customers Only) Page)","type":"click","pageIds":["137703370"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017314":{"name":"On-page engagement (Webinars: Win Mega Deals with Multithreading  Page)","type":"click","pageIds":["137703371"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017315":{"name":"On-page engagement (Guide: The Revenue Leader\'s Guide to Mastering Sales Efficiency Page)","type":"click","pageIds":["137703372"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017316":{"name":"On-page engagement (Guides: State of Sales Engagement Page)","type":"click","pageIds":["137703373"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017317":{"name":"On-page engagement (Guide: Sales Template Email Page)","type":"click","pageIds":["137703374"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017318":{"name":"On-page engagement (Guide: Best 5 Cold Calling Tips Page)","type":"click","pageIds":["137703375"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017338":{"name":"On-page engagement (Blog: ICP Sales (P2 Test) Page)","type":"click","pageIds":["137703381"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017339":{"name":"Form - Long - Website (1050) Form ID: 1050","type":"marketo","state":"live","formId":"1050"},"157017340":{"name":"Pricing Form - Long - (2887) Form ID: 2887","type":"marketo","state":"live","formId":"2887"},"157017341":{"name":"On-page engagement (Blog: QBR (P2 Test) Page)","type":"click","pageIds":["137703382"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017342":{"name":"On-page engagement (Blog: Sales Manager Skills (P2 Test) Page)","type":"click","pageIds":["137703384"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017343":{"name":"On-page engagement (Blog: BANT (P2 Test) Page)","type":"click","pageIds":["137703385"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017345":{"name":"On-page engagement (Template: Sales Template Email Page)","type":"click","pageIds":["137703388"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017346":{"name":"On-page engagement (Guide: Best 5 Calling Tips Page)","type":"click","pageIds":["137703389"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017347":{"name":"On-page engagement (Templates: Sales Call Templates Page)","type":"click","pageIds":["137703390"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157017367":{"name":"View pages: \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\"","type":"view","pageIds":["137700978","137700979","137700980","137703284"]},"157017464":{"name":"P2 Blog Form submission","type":"custom","apiName":"i-p2-blog-form-submission"},"157018148":{"name":"Tour Confirmation Forecast","type":"view","pageIds":["137704277"]},"157018149":{"name":"Tour Confirmation Engage","type":"view","pageIds":["137704274"]},"157018329":{"name":"On-page engagement (Gong Labs - Sales ROI (Feb 2024) Page)","type":"click","pageIds":["137704459"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018355":{"name":"On-page engagement (Platform Tour Page)","type":"click","pageIds":["137704498"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018356":{"name":"On-page engagement (Home (/home) Page)","type":"click","pageIds":["137700165"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018385":{"name":"On-page engagement (All Forecast Pages (Non-Branded))","type":"click","pageIds":["137704520"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018410":{"name":"On-page engagement (About Page)","type":"click","pageIds":["137695807"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018604":{"name":"On-page engagement (All Pages URL contains \\"Forecast\\" (not demo, not main forecast page))","type":"click","pageIds":["137704536"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018605":{"name":"On-page engagement (Content TYP Page)","type":"click","pageIds":["137696075"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157018661":{"name":"MQLs","type":"view","pageIds":["137700978","137700979","137700980","137704274","137704277"]},"157018887":{"name":"On-page engagement (Instant Demo Page)","type":"click","pageIds":["137704884"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019229":{"name":"On-page engagement (All Forecast URLs Page)","type":"click","pageIds":["137705042"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019479":{"name":"On-page engagement (Trust Center - Security Page)","type":"click","pageIds":["137695822"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019724":{"name":"On-page engagement (Persona - Sales Page)","type":"click","pageIds":["137698456"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019725":{"name":"On-page engagement (Demo - Engage Page)","type":"click","pageIds":["137705409"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019736":{"name":"On-page engagement (Persona - Customer Success Page)","type":"click","pageIds":["137698457"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157019759":{"name":"Tour or Instant Demo form submission (Product overview page) (1)","type":"click","pageIds":["137695774"],"selector":"#i-marketo-interface-success.tour-or-instant-demo"},"157020365":{"name":"Tour or Instant Demo form submission (Product overview page) (2)","type":"click","pageIds":["137705680"],"selector":"#i-marketo-interface-success.tour-or-instant-demo"},"157020366":{"name":"On-page engagement (Platform Page)","type":"click","pageIds":["137705680"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157020524":{"name":"On-page engagement (All pages in gong.io)","type":"click","pageIds":["137696048"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157020556":{"name":"On-page engagement (Why Gong?  Page)","type":"click","pageIds":["137705794"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157020710":{"name":"On-page engagement (All Forecast URLs Page) (1)","type":"click","pageIds":["137705851"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157020825":{"name":"On-page engagement (All \\"onboarding\\" URLs (excluding paid search, P2s, and webinars) Page)","type":"click","pageIds":["137705961"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157020905":{"name":"On-page engagement (PPC AI for Sales Page)","type":"click","pageIds":["137705999"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157021103":{"name":"On-page engagement (Sales Leaders Page)","type":"click","pageIds":["137695832"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157021131":{"name":"View pages: \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\", \\"Tour Confirmation Engage\\", \\"Tour Confirmation Forecast\\"","type":"view","pageIds":["137700978","137700979","137700980","137703284","137704274","137704277"]},"157021132":{"name":"View pages: \\"Confirmation\\", \\"Pricing Request Confirmation Page\\", \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\", \\"Tour Confirmation Engage\\", \\"Tour Confirmation Forecast\\"","type":"view","pageIds":["137695787","137695856","137700978","137700979","137700980","137703284","137704274","137704277"]},"157021316":{"name":"View pages: \\"Confirmation\\", \\"Pricing Request Confirmation Page\\", \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\", \\"Tour Confirmation Engage\\", \\"Tour Confirmation Forecast\\", \\"Instant Demo Sales Leader Confirmation Page\\", \\"Instant Demo Account Executive Confirmation\\"","type":"view","pageIds":["137695787","137695856","137700978","137700979","137700980","137703284","137704274","137704277","137706219","137706220"]},"157021317":{"name":"View pages: \\"Confirmation\\", \\"Pricing Request Confirmation Page\\", \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\", \\"Tour Confirmation Engage\\", \\"Tour Confirmation Forecast\\", \\"Instant Demo Sales Leader Confirmation Page\\", \\"Instant Demo Account Executive Confirmation\\", \\"Instant Demo SDR Confirmation Page\\", \\"Instant Demo Customer Success Manager Confirmation\\"","type":"view","pageIds":["137695787","137695856","137700978","137700979","137700980","137703284","137704274","137704277","137706219","137706220","137706221","137706222"]},"157021320":{"name":"View pages: \\"Confirmation\\", \\"Pricing Request Confirmation Page\\", \\"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)\\", \\"Instant Demo Confirmation Page\\", \\"Tour Confirmation Page\\", \\"On Demand Product Tour\\", \\"Tour Confirmation Engage\\", \\"Tour Confirmation Forecast\\", \\"Instant Demo Sales Leader Confirmation Page\\"","type":"view","pageIds":["137695787","137695856","137700978","137700979","137700980","137703284","137704274","137704277","137706219"]},"157021548":{"name":"On-page engagement (2024 State of Revenue Leadership Report  Page)","type":"click","pageIds":["137706360"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157021549":{"name":"On-page engagement (PPC P2 State of Revenue Leadership 2024 Report Page)","type":"click","pageIds":["137706361"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157021818":{"name":"View pages: \\"Why Gong? \\"","type":"view","pageIds":["137705794"]},"157022571":{"name":"View: All P0 and P3 Confirmation Pages","type":"view","pageIds":["137706964"]},"157022726":{"name":"On-page engagement (AI-Powered Sales Training Page)","type":"click","pageIds":["137707057"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157022874":{"name":"On-page engagement (AI-Powered Sales Training Page) (1)","type":"click","pageIds":["137707152"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157022875":{"name":"On-page engagement (AI-Powered Sales Training Page) (2)","type":"click","pageIds":["137707153"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157022908":{"name":"Click on #imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a (PPC Sales Call Recording Page)","type":"click","pageIds":["137707153"],"selector":"#imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a"},"157022911":{"name":"Click on #imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a (PPC Sales Execution Tools Page)","type":"click","pageIds":["137707152"],"selector":"#imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a"},"157023417":{"name":"On-page engagement (PPC Sales Coaching Page)","type":"click","pageIds":["137706214","137707153","137707467","137707473"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157023420":{"name":"On-page engagement (PPC AI for Sales Page, PPC Sales Enablement Page, PPC Deal Management Page, PPC Sales Pipeline Management  Page, PPC Revenue Intelligence Platform Page, PPC Sales Execution Tools Page)","type":"click","pageIds":["137705999","137707152","137707468","137707469","137707470","137707472"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157023433":{"name":"On-page engagement (PPC Sales Engagement Page, PPC Sales Prospecting Page, PPC Sales Outreach Page)","type":"click","pageIds":["137705841","137707490","137707491"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157023719":{"name":"On-page engagement (Enterprise Page)","type":"click","pageIds":["137695823"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157023840":{"name":"Click on #top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(1) > a (Resource TYP Page)","type":"click","pageIds":["137696075"],"selector":"#top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(1) > a"},"157023841":{"name":"Click on #top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(2) > a (Resource TYP Page)","type":"click","pageIds":["137696075"],"selector":"#top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(2) > a"},"157023842":{"name":"Click on #top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(3) > a (Resource TYP Page)","type":"click","pageIds":["137696075"],"selector":"#top > div.Page-content > div > div > div > div > div > div.i-cta-container > div:nth-child(3) > a"},"157023844":{"name":"Form - Talk to an Expert (4306) Form ID: 4306","type":"marketo","state":"live","formId":"4306"},"157023845":{"name":"Form - Website (1064) Form ID: 1064","type":"marketo","state":"live","formId":"1064"},"157024113":{"name":"Clicks Custom Quote","type":"click","pageIds":["137707057"],"selector":"#imize-9fc4bb4f-6096-4d3e-8c0f-50f5b466e1b4 > a"},"157024792":{"name":"On-page engagement (Celebrate 2024 Page)","type":"click","pageIds":["137708221"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157026231":{"name":"On-page engagement (The State of Revenue Growth 2025 Page)","type":"click","pageIds":["137708698"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"},"157026235":{"name":"On-page engagement (Better Way To Revenue eBook Page)","type":"click","pageIds":["137708699"],"selector":"a:not([href^=\\"(http:|https:)?//\\"],[href^=\\"#\\"])"}},"pages":{"137695774":{"name":"Home","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?([?#].*?)?$"},{"match":"simple","value":"https://staging-gong-2020.pantheonsite.io/"},{"match":"simple","value":"https://live-gong-io.pantheonsite.io/"}]},"137695781":{"name":"Demo Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo\\\\/?([?#].*?)?$"}]},"137695787":{"name":"Confirmation","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/confirmation\\\\/?([?#].*?)?$"}]},"137695796":{"name":"Pricing Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$"},{"match":"simple","value":"https://staging-gong-io.pantheonsite.io/pricing/"}]},"137695805":{"name":"Careers Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/careers(\\\\/[^\\\\/?#]+?)?\\\\/?([?#].*?)?$"}]},"137695806":{"name":"Product","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$"}]},"137695807":{"name":"About Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/about\\\\/?([?#].*?)?$"}]},"137695809":{"name":"Blog Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog(\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137695810":{"name":"Integrations Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/integrations\\\\/?([?#].*?)?$"}]},"137695811":{"name":"All Integration Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/integration\\\\/[^\\\\/?#]+?\\\\/?([?#].*?)?$"}]},"137695812":{"name":"Case Studies Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/case-studies(\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137695813":{"name":"Revenue Intelligence Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$"}]},"137695814":{"name":"People Intelligence Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/people-intelligence\\\\/?([?#].*?)?$"}]},"137695815":{"name":"Unsubscribed Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/opt-out\\\\/?([?#].*?)?$"}]},"137695816":{"name":"Deal Intelligence Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-intelligence\\\\/?([?#].*?)?$"}]},"137695817":{"name":"FAQ Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/faq\\\\/?([?#].*?)?$"}]},"137695818":{"name":"Resources Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/resources(\\\\/[^\\\\/?#]*\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137695819":{"name":"Demo Signed Up Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-signed-up\\\\/?([?#].*?)?$"}]},"137695820":{"name":"Privacy Policy Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/privacy-policy\\\\/?([?#].*?)?$"}]},"137695821":{"name":"Contact Us Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/contact-us\\\\/?([?#].*?)?$"}]},"137695822":{"name":"Trust Center - Security","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/trust-center/security/"}]},"137695823":{"name":"Enterprise Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/enterprise\\\\/?([?#].*?)?$"}]},"137695824":{"name":"Operating Principles Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/operating-principles\\\\/?([?#].*?)?$"}]},"137695825":{"name":"Help Us Grow Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/help-us-grow\\\\/?([?#].*?)?$"}]},"137695826":{"name":"Signature Generator Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/signature-generator\\\\/?([?#].*?)?$"}]},"137695827":{"name":"Call Recording Software (SEO)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$"}]},"137695828":{"name":"Field Sales Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/field-sales\\\\/?([?#].*?)?$"}]},"137695829":{"name":"Press Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/press(\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137695830":{"name":"Terms and Conditions Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/terms-and-conditions\\\\/?([?#].*?)?$"}]},"137695831":{"name":"Podcasts Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/podcasts(\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137695832":{"name":"Sales Leaders Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-leaders\\\\/?([?#].*?)?$"}]},"137695833":{"name":"Raving Fans Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/raving-fans\\\\/?([?#].*?)?$"}]},"137695834":{"name":"Sales Enablement Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement\\\\/?([?#].*?)?$"}]},"137695835":{"name":"Account Executives Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/account-executives\\\\/?([?#].*?)?$"}]},"137695836":{"name":"Martech Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/martech\\\\/?([?#].*?)?$"}]},"137695837":{"name":"Sales Training Software Page (SEO)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$"}]},"137695838":{"name":"Data Processing Addendum Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/data-processing-addendum\\\\/?([?#].*?)?$"}]},"137695839":{"name":"Sales Strategy Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-strategy\\\\/?([?#].*?)?$"}]},"137695840":{"name":"Conversation Intelligence Page (SEO)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$"}]},"137695841":{"name":"Sales Onboarding Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-onboarding\\\\/?([?#].*?)?$"}]},"137695842":{"name":"Frontline Sales Managers Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/frontline-sales-managers\\\\/?([?#].*?)?$"}]},"137695843":{"name":"Sales Engagement Platform Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$"}]},"137695844":{"name":"Sales Coaching Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-coaching\\\\/?([?#].*?)?$"}]},"137695845":{"name":"Sales Skills Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-skills\\\\/?([?#].*?)?$"}]},"137695846":{"name":"Sales Enablement Software Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$"}]},"137695847":{"name":"All Pages in pages.gong.io","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io(\\\\/[^\\\\/?#]+?)+?\\\\/?([?#].*?)?$"}]},"137695848":{"name":"Comcast Business Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/comcast-business\\\\/?([?#].*?)?$"}]},"137695849":{"name":"Content Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content(\\\\/[^\\\\/?#]+?)?\\\\/?([?#].*?)?$"}]},"137695850":{"name":"Sub processors Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sub-processors\\\\/?([?#].*?)?$"}]},"137695851":{"name":"Virtual Gong Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?virtualgong\\\\.com\\\\/?([?#].*?)?$"}]},"137695852":{"name":"Forrester Revenue Intelligence","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/forrester-revenue-intelligence\\\\/?([?#].*?)?$"}]},"137695856":{"name":"Pricing Request Confirmation Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/pricing-request-confirmation\\\\/?([?#].*?)?$"}]},"137695959":{"name":"Demo Signed Up Page 1","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/signed-up\\\\/?([?#].*?)?$"}]},"137696001":{"name":"/cheat-sheet-43-highly-effective-email-ctas","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/cheat-sheet-43-highly-effective-email-ctas\\\\/?([?#].*?)?$"}]},"137696048":{"name":"All pages in gong.io","code":"(function(){const{plugins:t}=window.intellimize;const e=t.createPage({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/total-economic-impact-study\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/sales-template-email\\\\/?([?#].*?)?$/]});return!e.matches()})();","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$"}]},"137696073":{"name":"Blog Hub (landing page)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/?([?#].*?)?$"}]},"137696075":{"name":"Resource TYP","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?(resources\\\\/)?\\\\/.+-typ\\\\/?([?#].*?)?$"}]},"137696346":{"name":"/7-habits-of-master-rapport-builders/","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/7-habits-of-master-rapport-builders\\\\/?([?#].*?)?$"}]},"137696859":{"name":"Content /uncensored-objection-handling-techniques","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/uncensored-objection-handling-techniques\\\\/?([?#].*?)?$"}]},"137696925":{"name":"Pages.gong.io /uncensored-objection-handling-techniques/","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/uncensored-objection-handling-techniques\\\\/?([?#].*?)?$"}]},"137697074":{"name":"Market Intelligence page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/market-intelligence\\\\/?([?#].*?)?$"}]},"137697154":{"name":"Staging Homepage","urls":[{"match":"simple","value":"https://staging-gong-2020.pantheonsite.io/"}]},"137697205":{"name":"Staging - Pricing","urls":[{"match":"substring","value":"staging-gong-2020.pantheonsite.io/pricing/"}]},"137697296":{"name":"Call sharing page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-sharing\\\\/?([?#].*?)?$"}]},"137697297":{"name":"Call recording page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording\\\\/?([?#].*?)?$"}]},"137697618":{"name":"14-day Free Trial thank you page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/14-day-trial-ty\\\\/?([?#].*?)?$"}]},"137697642":{"name":"Homepage UK","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/uk\\\\/?([?#].*?)?$"}]},"137697736":{"name":"Legacy Pricing Page","urls":[{"match":"simple","value":"https://legacy-gong-2020.pantheonsite.io/pricing/"}]},"137697766":{"name":"Sales analytics software Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$"}]},"137697767":{"name":"Voice of customer sofware Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$"}]},"137697768":{"name":"Sales tracking software Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$"}]},"137697769":{"name":"Sales management software page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$"}]},"137697770":{"name":"Auto Dialer Software page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$"}]},"137697771":{"name":"Call Software page (SEO)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$"}]},"137697772":{"name":"Pipeline management software page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$"}]},"137697773":{"name":"Zoom Call Transcription (SEO)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$"}]},"137697775":{"name":"Revenue operations software page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$"}]},"137697776":{"name":"Sales forecasting software page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$"}]},"137697861":{"name":"All pages in gong.io (excl. /demo/)","code":"!window.location.pathname.replace(/\\\\/$/,\\"\\").includes(\\"/demo\\");","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$"}]},"137698189":{"name":"All pages in gong.io w/ TimeBudget","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$"}]},"137698201":{"name":"All pages excluding Product Pages (fka SEO Pages) and Path Factory pages","code":"(function(){const{pages:n}=window.iGong;return n.anyExceptSeoAndProduct.matches()})();","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$"}]},"137698205":{"name":"Product Pages w/ time budget (for Floating Button Demo)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-skills\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-onboarding\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-strategy\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$"}]},"137698434":{"name":"Staging Demo Page","urls":[{"match":"simple","value":"https://demo-gong-2020.pantheonsite.io/demo/"}]},"137698443":{"name":"Use Case - Coaching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$"}]},"137698454":{"name":"Use Case - Strategic Initiatives","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/strategic-initiatives\\\\/?([?#].*?)?$"}]},"137698455":{"name":"Use Case - Deal Execution","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-execution\\\\/?([?#].*?)?$"}]},"137698456":{"name":"Persona - Sales","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales\\\\/?([?#].*?)?$"}]},"137698457":{"name":"Persona - Customer Success","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success\\\\/?([?#].*?)?$"}]},"137698458":{"name":"Persona - Marketing","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/marketing\\\\/?([?#].*?)?$"}]},"137698527":{"name":"Development Homepage","urls":[{"match":"simple","value":"https://kw-blog-21-gong-2020.pantheonsite.io/"}]},"137698625":{"name":"Product Pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/strategic-initiatives\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/marketing\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-execution\\\\/?([?#].*?)?$"}]},"137698626":{"name":"SEO Pages (1)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$"}]},"137698627":{"name":"Product Pages (w/ TimeBudget)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/strategic-initiatives\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/marketing\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-execution\\\\/?([?#].*?)?$"}]},"137698739":{"name":"Content Download Thank you pages [Single CTA](has JS)","code":"(function(t){const e=[\\"/content/cold-calling-cheat-sheet-typ/\\",\\"/content/sales-call-prep-checklist-typ/\\",\\"/content/words-that-sell-typ/\\",\\"/content/uncensored-objection-handling-techniques-typ/\\",\\"/content/sales-forecast-template-excel-typ/\\",\\"/content/sales-coaching-template-typ/\\",\\"/content/cold-calling-scripts-typ/\\",\\"/content/closing-committed-deals-typ/\\",\\"/content/sales-pipeline-template-typ/\\",\\"/content/sales-template-email-typ/\\",\\"/content/sales-pitch-template-script-typ/\\",\\"/content/sales-call-script-typ/\\",\\"/content/sales-playbook-examples-typ-bundle/\\",\\"/content/team-selling-typ/\\",\\"/content/complex-sales-guide-typ/\\",\\"/content/sales-presentation-templates-typ/\\",\\"/content/sales-deck-template-typ/\\",\\"/content/sales-strategy-template-typ/\\",\\"/content/words-that-close-typ/\\",\\"/content/sales-onboarding-typ/\\",\\"/content/holiday-selling-guide-typ/\\",\\"/content/win-executive-buy-in-typ/\\",\\"/content/5-habits-of-high-performing-enterprise-leaders-typ/\\",\\"/content/5-win-rate-stats-typ/\\",\\"/content/9-secret-elements-of-cold-calls-typ/\\",\\"/content/5-world-class-customer-success-plays-typ/\\"];return e.includes(t)})(window.location.pathname);","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?(pages\\\\.)?gong\\\\.io\\\\/?(content\\\\/)?\\\\/.+-typ\\\\/?([?#].*?)?$"},{"match":"simple","value":"https://www.gong.io/content/sales-playbook-examples-typ-bundle/"}]},"137698768":{"name":"Pathfactory pages","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220406-dgsend-all\\\\/reality-sales-talent\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220412-dgsend-all\\\\/highly-effective-email-ctas\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220419-dgsend-all\\\\/pipeline-review-checklist\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220517-dgsend-sales\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220517-dgsend-cs\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/220519-dgsend-dir\\\\/?([?#].*?)?$"}]},"137698829":{"name":"Pathfactory Demo form popup thank you","urls":[{"match":"simple","value":"https://www.gong.io/content/pathfactory-demo-form-typ/?success"}]},"137699179":{"name":"Pricing form submission page","code":"(function(r){return/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$/.test(r)})(document.referrer);","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/pricing-request-confirmation\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/pricing-meeting-scheduled\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-signed-up\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-confirmation\\\\/?([?#].*?)?$"}]},"137699307":{"name":"Pricing Page - max time budget","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$"}]},"137699482":{"name":"Blogs (excl. Hub, \'Forecast\', ICP Blog Post)","type":"matching","code":"(()=>{const n=window.location.origin+location.pathname;return!n.includes(\\"forecast\\")})();","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog(?!.*forecast)(?!\\\\/icp-sales)(\\\\/[^?#/]+)+?\\\\/?([?#].*?)?$"}]},"137699523":{"name":"Forecast Demo Page","urls":[{"match":"simple","value":"https://www.gong.io/forecast-demo/"}]},"137699568":{"name":"Demo Page (6min timebudget)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo\\\\/?([?#].*?)?$"}]},"137699574":{"name":"Pricing Page (6min timebudget)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$"}]},"137699626":{"name":"Forecast","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/forecast\\\\/?([?#].*?)?$"}]},"137699999":{"name":"CFO letter template typ","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/unlocking-gtm-success-typ\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/words-that-close-cheat-sheet-typ\\\\/?([?#].*?)?$"}]},"137700054":{"name":"zContent TYP ","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?(pages\\\\.)?gong\\\\.io\\\\/(resources\\\\/)?.+-typ\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/demo-signed-up\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/celebrate-2019-backstage-pass-ty\\\\/?([?#].*?)?$"}]},"137700113":{"name":"Case Studies Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/case-studies\\\\/?([?#].*?)?$"}]},"137700164":{"name":"Home Page (Test)","urls":[{"match":"simple","value":"https://www.gong.io/home/"}]},"137700165":{"name":"Home (/home)","urls":[{"match":"simple","value":"https://www.gong.io/home"}]},"137700189":{"name":"Patterns - Demo","urls":[{"match":"simple","value":"https://live-gong-io.pantheonsite.io/demo/"}]},"137700289":{"name":"Demo Page Redirect URL - Single Column (Dark BG)","urls":[{"match":"exact","value":"https://www.gong.io/live-demo/"}]},"137700290":{"name":"Demo Page Redirect URL - Single Column (Light BG)","urls":[{"match":"exact","value":"https://www.gong.io/get-demo/"}]},"137700291":{"name":"Patterns - Pricing","urls":[{"match":"simple","value":"https://live-gong-io.pantheonsite.io/pricing/"}]},"137700305":{"name":"Demo - Single Column (Dark BG)","urls":[{"match":"simple","value":"https://www.gong.io/live-demo/"}]},"137700467":{"name":"SEO Pages (2023)","type":"matching","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-intelligence-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-board\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/account-executives\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-retention-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/frontline-sales-managers\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/inside-sales-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-leaders\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/complete-sales-coaching\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-coaching-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-coaching\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-onboarding\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-skills\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-strategy\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-automation-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-pipeline-management-software-tools\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-pipeline-management-software-tools\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$"}]},"137700804":{"name":"Content TYP: Sales Template Email","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/resources\\\\/templates\\\\/sales-template-email-typ\\\\/?([?#].*?)?$"}]},"137700947":{"name":"Opt Out Page","urls":[{"match":"simple","value":"https://pages.gong.io/opt-out/"}]},"137700969":{"name":"Content: Sales Template Email","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-template-email/"}]},"137700970":{"name":"Content Bundle: Template Tests Confirmation Pages","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-template-email-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/cold-email-templates-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-deck-template-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-coaching-template-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-pitch-template-script-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-proposal-template-typ/"},{"match":"simple","value":"https://www.gong.io/resources/guides/best-cold-calling-tips-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-forecast-template-excel-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/revenue-forecast-template-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-report-template-excel-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-pipeline-template-typ/"},{"match":"simple","value":"https://www.gong.io/resources/guides/forrester-wave-ro-and-i-typ/"},{"match":"simple","value":"https://www.gong.io/resources/guides/5-win-rate-stats-typ/"},{"match":"simple","value":"https://www.gong.io/resources/guides/6-forecasting-metrics-for-revenue-leaders-typ/"},{"match":"simple","value":"https://www.gong.io/resources/guides/sales-playbook-examples-typ/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-template-typ/"}]},"137700971":{"name":"Content: Cold Email Templates","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/cold-email-templates/"}]},"137700972":{"name":"Content: Sales Deck Template","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-deck-template/"}]},"137700973":{"name":"Content: Sales Pitch Template Script","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-pitch-template-script/"}]},"137700974":{"name":"Content: Sales Coaching Template","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-coaching-template/"}]},"137700976":{"name":"Content: Sales Proposal Template","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-proposal-template/"}]},"137700977":{"name":"Content: Cold Calling Cheat Sheet Page","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/cold-calling-cheat-sheet/"}]},"137700978":{"name":"Confirmation Page (/confirmation, /pricing-confirmation, /demo-confirmation)","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/confirmation\\\\/?([?#].*?)?$"},{"match":"simple","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing-confirmation\\\\/?([?#].*?)?$"},{"match":"simple","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-confirmation\\\\/?([?#].*?)?$"}]},"137700979":{"name":"Instant Demo Confirmation Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/instant-demo-confirmation\\\\/?([?#].*?)?$"}]},"137700980":{"name":"Tour Confirmation Page","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/tour-confirmation\\\\/?([?#].*?)?$"}]},"137700981":{"name":"Any ending TYP","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/(.+)[aA-zZ]\\\\-typ\\\\/?([?#].*?)?$"}]},"137701366":{"name":"Engage PPC","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-engagement/"}]},"137701367":{"name":"Engage","urls":[{"match":"simple","value":"https://www.gong.io/engage/"}]},"137701368":{"name":"Engage (duplicate)","urls":[{"match":"simple","value":"https://www.gong.io/engage/"}]},"137701535":{"name":"Gong Engage Webinar","urls":[{"match":"simple","value":"https://www.gong.io/resources/webinars/announcing-gong-engage/"}]},"137702006":{"name":"PPC: Accelerate Growth","urls":[{"match":"simple","value":"https://www.gong.io/accelerate-growth/"}]},"137702317":{"name":"AI Product Page","urls":[{"match":"simple","value":"https://www.gong.io/product/ai/"}]},"137702346":{"name":"Win With Gong Pop Up","urls":[{"match":"simple","value":"https://www.gong.io/win-with-gong-p/"}]},"137702402":{"name":"Win With Gong Page","urls":[{"match":"simple","value":"https://www.gong.io/win-with-gong/"}]},"137702414":{"name":"Instant Demo Confirmation (Dark BG)","urls":[{"match":"simple","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/instant-demo-confirmation\\\\/?([?#].*?)?$"}]},"137702465":{"name":"Win With Gong (EMEA)","urls":[{"match":"simple","value":"https://www.gong.io/emea-win-with-gong/"}]},"137702471":{"name":"ARCHIVE - Demo","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/demo"}]},"137702477":{"name":"Engage (Q3)","urls":[{"match":"simple","value":"https://www.gong.io/engage/"}]},"137702754":{"name":"Win With Gong","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/win-with-gong"}]},"137703011":{"name":"Engage - MM Campaign","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/demo/engage/"}]},"137703012":{"name":"Engage Interest - MM Campaign","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/demo/engage/?utm_campaign=demo-engage&utm_medium=gong-app&utm_source=gong&utm_term=app_banner"}]},"137703146":{"name":"Deal Management Software (PPC)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/deal-management-software/"}]},"137703284":{"name":"On Demand Product Tour","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/on-demand-product-tour\\\\/?([?#].*?)?$"}]},"137703304":{"name":"Gong Product Webinar","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/webinars/live-product-tour-of-gong-engage/"}]},"137703305":{"name":"Guide: Achieve Revenue Predictability","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/achieve-revenue-predictability-with-ai-powered-forecasting/"}]},"137703308":{"name":"SEO: Sales Enablement Software","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-enablement-software/"}]},"137703321":{"name":"Webinar: EMEA Product Tour","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/webinars/live-gong-product-tour/"}]},"137703346":{"name":"Blog - ICP Sales","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/icp-sales/"}]},"137703369":{"name":"Guide: The top 5 ways RevOps teams use AI","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/5-reasons-revops-teams-are-reaching-for-ai/"}]},"137703370":{"name":"Webinar: Engage Product Tour (Customers Only)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/webinars/live-product-tour-of-gong-engage/"}]},"137703371":{"name":"Webinars: Win Mega Deals with Multithreading ","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/webinars/how-to-win-mega-deals-with-multi-threading-done-right/"}]},"137703372":{"name":"Guide: The Revenue Leader\'s Guide to Mastering Sales Efficiency","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/the-revenue-leaders-guide-to-mastering-sales-efficiency/"}]},"137703373":{"name":"Guides: State of Sales Engagement","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/state-of-sales-engagement/"}]},"137703374":{"name":"Guide: Sales Template Email","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-template-email/"}]},"137703375":{"name":"Guide: Best 5 Cold Calling Tips","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/best-5-cold-calling-tips/"}]},"137703381":{"name":"Blog: ICP Sales (P2 Test)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/icp-sales/"}]},"137703382":{"name":"Blog: QBR (P2 Test)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/quarterly-business-review-examples/"}]},"137703384":{"name":"Blog: Sales Manager Skills (P2 Test)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/sales-manager-skills/"}]},"137703385":{"name":"Blog: BANT (P2 Test)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/bant-sales/"}]},"137703387":{"name":"Blog: Sales Objective (P2 Test)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/sales-objective-examples/"}]},"137703388":{"name":"Template: Sales Template Email","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-template-email/"}]},"137703389":{"name":"Guide: Best 5 Calling Tips","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/best-5-cold-calling-tips/"}]},"137703390":{"name":"Templates: Sales Call Templates","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/templates/sales-call-templates/"}]},"137704274":{"name":"Tour Confirmation Engage","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/tour-confirmation-engage/"}]},"137704277":{"name":"Tour Confirmation Forecast","type":"matching","urls":[{"match":"simple","value":"https://gong.io/tour-confirmation-forecast"}]},"137704459":{"name":"Gong Labs ","type":"matching","urls":[{"match":"regex","value":"https://www.gong.io/resources/labs/"}]},"137704498":{"name":"Platform Tour","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/platform-tour/"}]},"137704520":{"name":"All Forecast Pages (Non-Branded)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/ai-powered-sales-forecasting/"},{"match":"simple","value":"https://www.gong.io/blog/sales-pipeline-tracking/"},{"match":"simple","value":"https://www.gong.io/blog/sales-productivity/"},{"match":"simple","value":"https://www.gong.io/blog/why-your-current-pipeline-view-is-an-illusion/"},{"match":"simple","value":"https://www.gong.io/resources/labs/spot-these-four-red-flags-to-boost-forecast-accuracy-and-revenue-predictability/"},{"match":"simple","value":"https://www.gong.io/resources/webinars/deal-warnings-webinar/"},{"match":"simple","value":"https://www.gong.io/resources/webinars/deal-warnings-webinar/"},{"match":"simple","value":"https://www.gong.io/resources/webinars/increase-pipeline-with-data-webinar/"},{"match":"simple","value":"https://www.gong.io/resources/guides/5-deal-warnings/"},{"match":"simple","value":"https://www.gong.io/resources/guides/pipeline-review-checklist/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-pipeline-template/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-report-template-excel/"},{"match":"simple","value":"https://www.gong.io/case-studies/a-focused-forecast-how-filtered-increased-its-acv-by-62/"},{"match":"simple","value":"https://www.gong.io/case-studies/gong-for-bdrs-how-aircall-boosted-qualified-pipeline-by-35-in-emea/"},{"match":"simple","value":"https://www.gong.io/case-studies/hello-new-reality-how-walkme-uses-gong-to-add-visibility-around-their-deals/"},{"match":"simple","value":"https://www.gong.io/case-studies/how-gong-forecast-helps-crayon-create-accurate-and-reliable-forecasting/"},{"match":"simple","value":"https://www.gong.io/case-studies/how-gong-forecast-is-helping-tackle-io-shave-40-off-forecasting-time/"},{"match":"simple","value":"https://www.gong.io/case-studies/how-gong-forecast-is-helping-tackle-io-shave-40-off-forecasting-time/"},{"match":"simple","value":"https://www.gong.io/case-studies/reality-based-forecasts-faster-smarter-more-aligned/"},{"match":"simple","value":"https://www.gong.io/case-studies/upworks-revops-team-rockets-to-95-sales-forecast-accuracy-using-gong/"},{"match":"simple","value":"https://www.gong.io/resources/labs/spot-these-four-red-flags-to-boost-forecast-accuracy-and-revenue-predictability/"},{"match":"simple","value":"https://www.gong.io/resources/webinars/forecast-customer-webinar/"},{"match":"simple","value":"https://www.gong.io/resources/webinars/forecast-roadmap-webinar/"},{"match":"simple","value":"https://www.gong.io/resources/guides/6-forecasting-metrics-for-revenue-leaders/"},{"match":"simple","value":"https://www.gong.io/resources/guides/6-forecasting-metrics-for-revenue-leaders/"},{"match":"simple","value":"https://www.gong.io/resources/guides/reality-of-forecasting-report/"},{"match":"simple","value":"https://www.gong.io/resources/templates/sales-forecast-template-excel/"},{"match":"simple","value":"https://www.gong.io/case-studies/a-focused-forecast-how-filtered-increased-its-acv-by-62/"},{"match":"simple","value":"https://www.gong.io/sales-pipeline-management-software-tools/"}]},"137704528":{"name":"All Pages URL Contains \\"Engage\\" (not demo, not main engage page)","type":"matching","urls":[{"match":"regex","value":"^(?!.*gong\\\\.io\\\\/engage\\\\/)(?!.*demo).*engag.*"}]},"137704536":{"name":"ICP Sales Blog Post","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/icp-sales/"}]},"137704884":{"name":"Instant Demo Page","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/instant-demo/"}]},"137705040":{"name":"ICP Sales Blog Post (P0 and P3 Pop Ups)","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/blog/icp-sales/"}]},"137705042":{"name":"All Forecast URLs (excluding P2 URLs and paid search)","type":"matching","urls":[{"match":"regex","value":"^(?!.*gong\\\\.io\\\\/forecast\\\\/)(?!.*demo)(?!.*the-edge)(?!.*confirm)(?!.*typ)(?!.*\\\\/5-key-metrics-for-a-reliable-forecast\\\\/)(?!.*\\\\/webinars\\\\/)(?!.*\\\\/guides\\\\/)(?!.*\\\\/templates\\\\/)(?!.*gong\\\\.io\\\\/ai-powered-sales-forecasting\\\\/)(?!.*gong\\\\.io\\\\/superhuman-sales-forecasting\\\\/).*forecast.*"}]},"137705105":{"name":"Case Studies Individual Pages (excluding topic based URLs for other tests)","type":"matching","urls":[{"match":"regex","value":"^(?!.*\\\\b(forecast|pipeline|onboard)\\\\b)(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/case-studies(\\\\/[^\\\\/?#]*)?\\\\/?([?#].*)?$"}]},"137705256":{"name":"Trust Center - Hub Only","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/trust-center/"}]},"137705257":{"name":"Trust Center - Compliance","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/trust-center/compliance/"}]},"137705258":{"name":"Trust Center - Privacy","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/trust-center/privacy/"}]},"137705362":{"name":"Trust Center - All Pages","type":"matching","urls":[{"match":"regex","value":"https?:\\\\/\\\\/[^\\\\/\\\\s]+\\\\/trust-center\\\\/[^\\\\/\\\\s]*"}]},"137705409":{"name":"Demo - Engage","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/demo/engage/"}]},"137705416":{"name":"PPC nonbrand LPs x 5","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/ai-powered-sales-intelligence\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-call-recording-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-management-software\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/all-in-one-revenue-intelligence-platform\\\\/?([?#].*?)?$"},{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/superhuman-sales-forecasting\\\\/?([?#].*?)?$"}]},"137705680":{"name":"Platform Page","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/platform/"}]},"137705794":{"name":"Why Gong? ","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/why-gong/"}]},"137705841":{"name":"PPC Sales Engagement","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-engagement/"}]},"137705851":{"name":"All \\"pipeline\\" URLs (excluding paid search, P2s, and webinars)","type":"matching","urls":[{"match":"regex","value":"^(?!.*(template|webinar|guide))(?!https:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/sales-pipeline-management-software\\\\/).*pipeline.*"}]},"137705896":{"name":"PPC Forecast Pages","type":"matching","urls":[{"match":"exact","value":"https://www.gong.io/ai-powered-sales-forecasting/"},{"match":"exact","value":"https://www.gong.io/superhuman-sales-forecasting/"}]},"137705897":{"name":"PPC Nonbrand Core Use Cases x 7","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-call-recording-software/"},{"match":"simple","value":"https://www.gong.io/sales-pipeline-management-software/"},{"match":"simple","value":"https://www.gong.io/deal-management-software/"},{"match":"simple","value":"https://www.gong.io/all-in-one-revenue-intelligence-platform/"},{"match":"simple","value":"https://www.gong.io/ai-powered-sales-intelligence/"},{"match":"simple","value":"https://www.gong.io/ai-for-sales/"},{"match":"simple","value":"https://www.gong.io/ai-powered-sales-coaching/"}]},"137705961":{"name":"All \\"onboarding\\" URLs (excluding paid search, P2s, and webinars)","type":"matching","urls":[{"match":"regex","value":"^(?!.*(?:template|webinar|guide))(?!.*https:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/gong-for-onboarding\\\\/)(?!.*https:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/sales-onboarding\\\\/)(?!.*https:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/patterns-cs-use-case\\\\/onboarding\\\\/)(?!.*https:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/onboarding-and-welcome-gift\\\\/).*onboard.*"}]},"137705999":{"name":"PPC AI for Sales","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-for-sales/"}]},"137706214":{"name":"PPC Sales Coaching","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-coaching/"}]},"137706219":{"name":"Instant Demo Sales Leader Confirmation Page","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/instant-demo/sales-leader/confirmation/"}]},"137706220":{"name":"Instant Demo Account Executive Confirmation","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/instant-demo/account-executive/confirmation/"}]},"137706221":{"name":"Instant Demo SDR Confirmation Page","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/instant-demo/sdr/confirmation/"}]},"137706222":{"name":"Instant Demo Customer Success Manager Confirmation","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/instant-demo/customer-success-manager/confirmation/"}]},"137706360":{"name":"2024 State of Revenue Leadership Report ","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/the-state-of-revenue-leadership-2024/"}]},"137706361":{"name":"PPC P2 State of Revenue Leadership 2024 Report","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/the-state-of-revenue-leadership-2024/"}]},"137706572":{"name":"Prospecting PPC","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-prospecting/"}]},"137706964":{"name":"All P0 and P3 Confirmation Pages","urls":[{"match":"regex","value":"https?:\\\\/\\\\/www\\\\.gong\\\\.io\\\\/.*confirmation.*"}]},"137707057":{"name":"PPC AI-Powered Sales Training","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-coaching/"}]},"137707152":{"name":"PPC Sales Execution Tools","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-sales-execution-tools/"}]},"137707153":{"name":"PPC Sales Call Recording","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-call-recording-software/"}]},"137707467":{"name":"PPC Sales Intelligence","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-intelligence/"}]},"137707468":{"name":"PPC Revenue Intelligence Platform","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/all-in-one-revenue-intelligence-platform/"}]},"137707469":{"name":"PPC Deal Management","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/deal-management-software/"}]},"137707470":{"name":"PPC Sales Pipeline Management ","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/sales-pipeline-management-software/"}]},"137707472":{"name":"PPC Sales Enablement","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-enablement-software/"}]},"137707473":{"name":"PPC Conversation Intelligence","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/conversation-intelligence-software/"}]},"137707490":{"name":"PPC Sales Prospecting","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-prospecting/"}]},"137707491":{"name":"PPC Sales Outreach","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/ai-powered-sales-outreach/"}]},"137708221":{"name":"Celebrate 2024 Page","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/celebrate-2024/"}]},"137708661":{"name":"Home Page Variation","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/home/"}]},"137708698":{"name":"The State of Revenue Growth 2025","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/the-state-of-revenue-2025/"}]},"137708699":{"name":"Better Way To Revenue eBook","type":"matching","urls":[{"match":"simple","value":"https://www.gong.io/resources/guides/how-these-leading-companies-unlocked-predictable-growth/"}]},"157009061":{"name":"Content Download Thank you pages (Pathfactory Redirect)","code":"(function(){const t=window.location.toString();const n=[\\"https://www.gong.io/content/reality-sales-talent-typ/\\",\\"https://www.gong.io/content/10-value-selling-prompts-typ/\\",\\"https://www.gong.io/content/pipeline-review-checklist-typ/\\",\\"https://www.gong.io/content/cheat-sheet-43-highly-effective-email-ctas-typ/\\"];return n.some(e=>t.includes(e))})();","urls":[{"match":"regex","value":"^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/([^/]+)-typ\\\\/?([?#].*?)?$"}]}},"audiences":{"187594874":{"name":"Desktop only","code":"(function(){return\\"icntxtlftrs\\"in window&&\\"D\\"in window.icntxtlftrs&&window.icntxtlftrs.D===\\"D\\"})();"},"187594894":{"name":"Mobile Only","code":"(function(t){return t===\\"P\\"})(window.icntxtlftrs&&window.icntxtlftrs.D);"},"187594964":{"name":"Customer","condition":{"type":"code","code":"window.iGong.customerStatus.isCustomer();"}},"187595015":{"name":"Demandbase: Enterprise","condition":{"type":"code","code":"(function(){var e=window.intellimize.getAttributes(\\"user\\",[\\"is_enterprise\\"]).is_enterprise;return e===\\"true\\"})();"}},"187595040":{"name":"50% of users","code":"(function(){let i;i=window.intellimize.getLocalState(\\"fiftyFiftySplit\\");if(typeof i===\\"number\\"){return i>=50}i=window.intellimize.plugins.randomNumberGenerator(1,100);window.intellimize.setLocalState(\\"fiftyFiftySplit\\",i);return i>=50})();"},"187595072":{"name":"Country exclusion list","condition":{"type":"code","code":"window.iGong.tracking.userGeo.country.matchesAny([\\"AR\\",\\"BO\\",\\"BR\\",\\"IO\\",\\"CL\\",\\"CN\\",\\"CO\\",\\"CR\\",\\"CU\\",\\"DO\\",\\"DE\\",\\"EC\\",\\"EG\\",\\"ES\\",\\"FR\\",\\"SV\\",\\"GT\\",\\"HT\\",\\"HN\\",\\"IN\\",\\"JP\\",\\"MX\\",\\"NI\\",\\"PA\\",\\"PY\\",\\"PR\\",\\"TW\\",\\"TZ\\",\\"UY\\",\\"VE\\"]);"}},"187595083":{"name":"Is Customer (Using Marketo Smart List 718718)","condition":{"type":"code","code":"(function(i){var n=false;if(Array.isArray(i)&&i.length>0){$.each(i,function(e){if(i[e].id===718718){n=true}})}return n})(window.intellimize.getIntegrationData&&window.intellimize.getIntegrationData(\\"marketoLead\\")&&window.intellimize.getIntegrationData(\\"marketoLead\\").lists);"}},"187595084":{"name":"Visitors to the Careers page","condition":{"type":"code","code":"(function(){return typeof window.intellimize.getAttributes(\\"user\\",[\\"visitedCareers\\"])===\\"object\\"&&window.intellimize.getAttributes(\\"user\\",[\\"visitedCareers\\"]).visitedCareers===\\"true\\"})();"}},"187595201":{"name":"3 way split A","code":"window.iGong.targeting.forcedSplit.checkSplit(\\"abc\\",\\"a\\");"},"187595202":{"name":"3 way split B","code":"window.iGong.targeting.forcedSplit.checkSplit(\\"abc\\",\\"b\\");"},"187595203":{"name":"3 way split C","code":"window.iGong.targeting.forcedSplit.checkSplit(\\"abc\\",\\"c\\");"},"187595223":{"name":"Only US, Canada, UK, AUS visitors","code":"window.iGong.tracking.userGeo.country.matchesAny([\\"US\\",\\"CA\\",\\"GB\\",\\"AU\\"]);"},"187595228":{"name":"Weekday only","code":"(function(n){const t=6;const c=17;const o=function(e,i,r){return e>=i&&e<=r};const s=function(){return n.dayOfWeek!==6&&n.dayOfWeek!==0};return o(n.getHours(),t,c)&&s()})(new Date);"},"187595229":{"name":"utm_source is call-external-share","code":"(function(){const t=window.iutmprms&&window.iutmprms.uts;return t===\\"call-external-share\\"})();"},"187595436":{"name":"Chrome","code":"var i=Object.defineProperty;var o=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty;var w=Object.prototype.propertyIsEnumerable;var c=(r,t,n)=>t in r?i(r,t,{enumerable:true,configurable:true,writable:true,value:n}):r[t]=n;var e=(r,t)=>{for(var n in t||(t={}))if(s.call(t,n))c(r,n,t[n]);if(o)for(var n of o(t)){if(w.call(t,n))c(r,n,t[n])}return r};(()=>{const{B:r}=e({},window.icntxtlftrs);return r===\\"Chrome\\"})();"},"187595438":{"name":"Demandbase: First time visitor","code":"!window.intellimize.getLocalState(\\"demandbase.returning-visitor\\");"},"187595439":{"name":"Demandbase: Returning visitor","code":"Boolean(window.intellimize.getLocalState(\\"demandbase.returning-visitor\\"));"},"187595440":{"name":"Demandbase: Eligible for Free Trial offer","code":"(function(){const a=window.iGong.targeting.demandbaseFields.freeTrial14days.allRulesMatch;const e=window.intellimize.getLocalState(\\"demandbase.data\\");const t=[window.intellimize.plugins.urlParams.idemandbase_match].flat()[0]===\\"true\\";return t||a(e)})();"},"187595512":{"name":"Returning visitor","code":"!window.intellimize.plugins.userState.isUserNew();"},"187595761":{"name":"Pathfactory redirect","code":"const{intellimize}=window;const{plugins}=intellimize;(function(t){const i={medium:\\"email\\",source:\\"gong\\",campaign:[\\"pf-the-reality-sales-talent\\",\\"pf-highly-effective-email-ctas\\",\\"pf-pipeline-review-checklist\\",\\"pf-10-value-selling-prompts-that-increase-deal-momentum\\",\\"pf-cs-10-value-selling-prompts-that-increase-deal-momentum\\",\\"pf-the-reality-sales-talent-report\\"],content:[220406,220412,220419,220517,220519],term:[\\"mgr\\",\\"ic\\",\\"dir\\"]};return Object.keys(i).every(e=>\\"utm_\\"+e in t&&[i[e]].flat().some(n=>t[\\"utm_\\"+e].includes(String(n))))})(plugins.urlParams);"},"187595983":{"name":"CPC ","condition":{"type":"comparison-string","operator":"eq","value":"cpc","attrDefId":{"name":"utm_medium","namespace":"standard"}}},"187596009":{"name":"User has submitted Demo Modal form","code":"(function(e){return JSON.parse(e)===true})(window.localStorage.getItem(\\"new_demo_modal_form_submission\\"));"},"187596010":{"name":"User has submitted Pricing Modal form","code":"(function(e){return JSON.parse(e)===true})(window.localStorage.getItem(\\"new_pricing_modal_form_submission\\"));"},"187596332":{"name":"WordPress Preview User","condition":{"type":"comparison-string","operator":"eq","value":"true","attrDefId":{"name":"preview","namespace":"url_param"}}},"187596689":{"name":"Organic Social","condition":{"type":"comparison-string","operator":"eq","value":"social","attrDefId":{"name":"utm_medium","namespace":"standard"}}},"187596767":{"name":"DG Email Sends","condition":{"type":"logic-and","conditions":[{"type":"comparison-string","operator":"eq","value":"email","attrDefId":{"name":"utm_medium","namespace":"standard"}},{"type":"comparison-string","operator":"eq","value":"tpv","attrDefId":{"name":"utm_medium","namespace":"standard"}}]}},"187596830":{"name":"US Only","condition":{"type":"comparison-enum","operator":"eq","value":"US","attrDefId":{"name":"country","namespace":"standard"}}},"187597296":{"name":"Ghost Inspector client","condition":{"type":"code","code":"navigator.userAgent.includes(\\"Ghost Inspector\\");"}},"187597311":{"name":"utm_source=llr","condition":{"type":"comparison-string","operator":"eq","value":"llr","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597323":{"name":"utm_source=marlin","condition":{"type":"comparison-string","operator":"eq","value":"marlin","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597324":{"name":"utm_source=alpha","condition":{"type":"comparison-string","operator":"eq","value":"alpha","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597325":{"name":"utm_source=jmi","condition":{"type":"comparison-string","operator":"eq","value":"jmi","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597326":{"name":"utm_source=generalatlantic","condition":{"type":"comparison-string","operator":"eq","value":"generalatlantic","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597358":{"name":"Gong","condition":{"type":"logic-or","conditions":[{"type":"logic-and","conditions":[{"type":"logic-or","conditions":[{"type":"comparison-string","operator":"eq","value":"Gong","attrDefId":{"name":"companyName","namespace":"firmographic"}},{"type":"comparison-string","operator":"eq","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"firmographic"}}]},{"type":"comparison-string","operator":"ne","value":"true","attrDefId":{"name":"preview","namespace":"url_param"}}]},{"type":"logic-and","conditions":[{"type":"logic-or","conditions":[{"type":"comparison-string","operator":"eq","value":"Gong","attrDefId":{"name":"companyName","namespace":"demandbase"}},{"type":"comparison-string","operator":"eq","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"demandbase"}}]},{"type":"comparison-string","operator":"ne","value":"true","attrDefId":{"name":"preview","namespace":"url_param"}}]}]}},"187597361":{"name":"utm_source=leap","condition":{"type":"comparison-string","operator":"eq","value":"leap","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597391":{"name":"utm_source=nvp","condition":{"type":"comparison-string","operator":"eq","value":"nvp","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187597467":{"name":"MM Campaign","condition":{"type":"logic-and","conditions":[{"type":"comparison-string","operator":"eq","value":"app_banner","attrDefId":{"name":"utm_term","namespace":"standard"}},{"type":"comparison-string","operator":"eq","value":"demo-engage","attrDefId":{"name":"utm_campaign","namespace":"standard"}}]}},"187597468":{"name":"MM Campaign Audience","condition":{"type":"logic-and","conditions":[{"type":"comparison-string","operator":"eq","value":"demo-engage","attrDefId":{"name":"utm_campaign","namespace":"standard"}},{"type":"comparison-string","operator":"eq","value":"app_banner","attrDefId":{"name":"utm_term","namespace":"standard"}},{"type":"comparison-string","operator":"eq","value":"gong-app","attrDefId":{"name":"utm_medium","namespace":"standard"}}]}},"187597495":{"name":"Has viewed Exit Intent Pop-up \'417214913\' in the last 7 days","condition":{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P7D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"v","operator":"eq"},"type":"comparison-enum"},{"fieldName":"experienceId","operation":{"argument":"417214913","operator":"eq"},"type":"comparison-enum"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":1,"operator":">="}}},"187597498":{"name":"Organic Search","condition":{"type":"comparison-enum","operator":"eq","value":"SO","attrDefId":{"name":"traffic_source","namespace":"standard"}}},"187597617":{"name":"Demandbase: Commercial (Excl. Gong)","condition":{"type":"logic-and","conditions":[{"type":"comparison-enum","operator":"eq","value":"Small","attrDefId":{"name":"employeeRange","namespace":"demandbase"}},{"type":"comparison-string","operator":"ne","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"demandbase"}}]}},"187597618":{"name":"Demandbase: Mid-Market (Excl. Gong)","condition":{"type":"logic-and","conditions":[{"type":"comparison-enum","operator":"eq","value":"Mid-Market","attrDefId":{"name":"employeeRange","namespace":"demandbase"}},{"type":"comparison-string","operator":"ne","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"demandbase"}}]}},"187597619":{"name":"Demandbase: Enterprise (Excl. Gong)","condition":{"type":"logic-and","conditions":[{"type":"comparison-enum","operator":"eq","value":"Enterprise","attrDefId":{"name":"employeeRange","namespace":"demandbase"}},{"type":"comparison-string","operator":"ne","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"demandbase"}}]}},"187597722":{"name":"Customer (excluding Gong and WordPress)","condition":{"type":"logic-and","conditions":[{"type":"comparison-string","operator":"eq","value":"True","attrDefId":{"name":"customer","namespace":"custom"}},{"type":"comparison-string","operator":"ne","value":"Gong","attrDefId":{"name":"companyName","namespace":"6sense"}},{"type":"comparison-string","operator":"ne","value":"Gong.Io Ltd","attrDefId":{"name":"companyName","namespace":"demandbase"}},{"type":"comparison-string","operator":"ne","value":"true","attrDefId":{"name":"preview","namespace":"url_param"}}]}},"187597727":{"name":"Marketo Customer List - Excl. Preview","condition":{"type":"logic-and","conditions":[{"type":"comparison-array-enum","operator":"includesAny","value":["718718"],"attrDefId":{"name":"smartLists","namespace":"marketo"}},{"type":"comparison-string","operator":"ne","value":"true","attrDefId":{"name":"preview","namespace":"url_param"}}]}},"187597965":{"name":"Paid Search","condition":{"type":"comparison-enum","operator":"eq","value":"SP","attrDefId":{"name":"traffic_source","namespace":"standard"}}},"187598008":{"name":"Customer: Forecast Product Tour","condition":{"type":"comparison-string","operator":"eq","value":"forecast-product-tour","attrDefId":{"name":"utm_campaign","namespace":"standard"}}},"187598009":{"name":"Customer: Engage Product Tour","condition":{"type":"comparison-string","operator":"eq","value":"engage-product-tour","attrDefId":{"name":"utm_campaign","namespace":"standard"}}},"187598031":{"name":"Trust Center P0 Experience Views","condition":{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P10D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"v","operator":"eq"},"type":"comparison-enum"},{"fieldName":"experienceId","operation":{"argument":"417217896","operator":"eq"},"type":"comparison-enum"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":2,"operator":">="}}},"187598101":{"name":"SMB Only Audience","condition":{"type":"comparison-string","operator":"eq","value":"SMB (0-50)","attrDefId":{"name":"6sense Business Segment","namespace":"custom"}}},"187598132":{"name":"Engage Tour","condition":{"type":"comparison-string","operator":"eq","value":"engage-tour","attrDefId":{"name":"utm_campaign","namespace":"standard"}}},"187598133":{"name":"Forecast Product Tour","condition":{"type":"comparison-string","operator":"eq","value":"forecast-tour","attrDefId":{"name":"utm_campaign","namespace":"standard"}}},"187598344":{"name":"Demandbase Vertical - Tech","condition":{"type":"logic-or","conditions":[{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Media & Storage","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Computer & Mobile Devices","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Data & Technical Services","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Semiconductor","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Specialized Equipment","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Electrical Components","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Imaging & Optics","attrDefId":{"name":"industry","namespace":"demandbase"}},{"type":"comparison-enum","operator":"eq","value":"Software & Technology: Software Applications","attrDefId":{"name":"industry","namespace":"demandbase"}}]}},"187598363":{"name":"6Sense =<50 employees","condition":{"type":"comparison-number","operator":"<","value":51,"attrDefId":{"name":"employeeCount","namespace":"6sense"}}},"187598387":{"name":"Zoom Referrals","condition":{"type":"comparison-string","operator":"eq","value":"zoom","attrDefId":{"name":"utm_source","namespace":"standard"}}},"187600115":{"name":"All device types","condition":{"type":"logic-or","conditions":[{"type":"comparison-enum","operator":"eq","value":"P","attrDefId":{"name":"device_type","namespace":"standard"}},{"type":"comparison-enum","operator":"eq","value":"D","attrDefId":{"name":"device_type","namespace":"standard"}},{"type":"comparison-enum","operator":"eq","value":"T","attrDefId":{"name":"device_type","namespace":"standard"}},{"type":"comparison-enum","operator":"eq","value":"O","attrDefId":{"name":"device_type","namespace":"standard"}}]}},"187600133":{"name":"Previously Viewed Pricing Page","condition":{"type":"logic-and","conditions":[{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P90D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"pv","operator":"eq"},"type":"comparison-enum"},{"fieldName":"hostingPageUrl","operation":{"argument":"https://www.gong.io/pricing/","operator":"eq"},"type":"comparison-string"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":1,"operator":">="}},{"type":"activity","filter":{"fieldName":"time","operation":{"argument":"P30D","operator":"withinPastDuration"},"type":"comparison-unix-time"},"aggregation":{"fieldName":"sessionId","type":"countDistinct"},"operation":{"argument":3,"operator":">="}}]}},"187600437":{"name":"User Saw Old Messaging on Homepage or Platform Page","condition":{"type":"logic-or","conditions":[{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P4D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"v","operator":"eq"},"type":"comparison-enum"},{"fieldName":"experienceId","operation":{"argument":"417225942","operator":"eq"},"type":"comparison-enum"},{"fieldName":"variationId","operation":{"argument":"617099488","operator":"eq"},"type":"comparison-enum"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":1,"operator":">="}},{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P4D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"v","operator":"eq"},"type":"comparison-enum"},{"fieldName":"experienceId","operation":{"argument":"417225943","operator":"eq"},"type":"comparison-enum"},{"fieldName":"variationId","operation":{"argument":"617099490","operator":"eq"},"type":"comparison-enum"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":1,"operator":">="}}]}},"187600462":{"name":"User Viewed Celebrate 24 Registration Page","condition":{"type":"activity","filter":{"filters":[{"fieldName":"time","operation":{"argument":"P5D","operator":"withinPastDuration"},"type":"comparison-unix-time"},{"fieldName":"eventType","operation":{"argument":"pv","operator":"eq"},"type":"comparison-enum"},{"fieldName":"hostingPageUrl","operation":{"argument":"https://www.gong.io/celebrate-2024-virtual/","operator":"substr"},"type":"comparison-string"}],"type":"logic-and"},"aggregation":{"type":"count"},"operation":{"argument":1,"operator":">="}}}},"model":{},"id":"117522036","name":"Gong","encrypt":false,"iint":{"gua":{"enabled":true,"autoConfig":true,"trackingIds":[]},"ga4":{"enabled":true,"autoConfig":true,"measurementIds":[]},"marketo":{"enabled":true,"fieldsToIngest":[{"name":"Persona_from_Marketo__c"}],"listsToIngest":[{"type":"smart","id":718718}]},"salesforce":{"enabled":true},"sixsense":{"enabled":true,"oemEnabled":true},"demandbase":{"enabled":true},"firmographic":{"enabled":true}},"code":"var LogLevel;LogLevel=(e=>(e[e.OFF=5]=\\"OFF\\",e[e.ERROR=4]=\\"ERROR\\",e[e.WARN=3]=\\"WARN\\",e[e.INFO=2]=\\"INFO\\",e[e.DEBUG=1]=\\"DEBUG\\",e[e.TRACE=0]=\\"TRACE\\",e))(LogLevel||{}),window.intellimize.plugins.utils=(()=>{const e=\\"[utils]\\",t=function(t,n){if(\\"number\\"!=typeof t)throw new TypeError(`${e} curryN(): invalid argCount must be a valid number`);if(\\"function\\"!=typeof n)throw new TypeError(`${e} curryN(): invalid func must be a valid function`);return function r(...o){return o.length>=t?n.apply({},o):function(t,n){if(\\"function\\"!=typeof t)throw new TypeError(`${e} bindArr(): invalid func must be a valid function`);if(!Array.isArray(n))throw new TypeError(`${e} bindArr(): invalid arr must be a valid array`);return t.bind({},...n)}(r,o)}},n=function(t,n){if(\\"function\\"!=typeof t)throw new TypeError(`${e} is(): invalid constructor must be a valid function`);if(null!=n&&n.constructor===t)return!0;try{return n instanceof t}catch(r){return!1}},r=function(t,o){if(null===t||\\"object\\"!=typeof t)throw new TypeError(`${e} matchSchema(): invalid schema must be a valid object`);if(null===o||\\"object\\"!=typeof o)throw new TypeError(`${e} matchSchema(): invalid obj must be a valid object`);return Object.keys(t).every((e=>{const i=t[e],c=o[e];return\\"function\\"==typeof i?n(i,c):null!==i&&\\"object\\"==typeof i&&r(i,c)}))},o=function(e){return function(){return this.getElem().length===e}};function i(t){if(\\"string\\"!=typeof t)throw new TypeError(`${e} templateFromStr(): provided HTML string must be a valid string`);const n=document.createElement(\\"template\\");return n.innerHTML=t.trim(),n}return{curry:function(n){if(\\"function\\"!=typeof n)throw new TypeError(`${e} curry(): invalid func must be a valid function`);return t(n.length,n)},once:function(t){if(\\"function\\"!=typeof t)throw new TypeError(`${e} once(): invalid action must be a valid function`);let n=!1;return function(...e){if(!n)return n=!0,t(...e)}},pipe:function(...t){if(!t.every((e=>\\"function\\"==typeof e)))throw new TypeError(`${e} pipe(): invalid functions to pipe, must be an array of valid functions`);return function(...e){const n=[...t].shift();return t.slice(1).reduce(((e,t)=>t(e)),n(...e))}},defer:function(t){if(\\"function\\"!=typeof t)throw new TypeError(`${e} defer(): invalid deferred must be a valid function`);return function(...e){setTimeout((()=>{t(...e)}),0)}},is:n,entries:function(t){if(null===t||\\"object\\"!=typeof t)throw new TypeError(`${e} entries(): invalid object must be a valid object`);return Object.keys(t).map((e=>[e,t[e]]))},fromEntries:function(t){if(!Array.isArray(t)||!t.every((e=>Array.isArray(e)&&2===e.length)))throw new TypeError(`${e} fromEntries(): keyValuePairs must be a valid array of arrays`);const n={};return t.forEach((([e,t])=>{n[e]=t})),n},matchSchema:r,simplePrecondition:o,perAncestorPrecondition:function(t){return function(){const n=this.getSelector(!0),r=this.getAncestor();if(void 0===r)throw new TypeError(`${e} perAncestorPrecondition(): no valid ancestor in perAncestorPrecondition for ${n}`);const o=r.getElem();let i=!0;return o.each(((e,r)=>{i=i&&$(r).find(n).length===t})),i}},ISelector:function(t,n={}){const{ancestor:r,precondition:i=o(1)}=n;if(\\"string\\"!=typeof t)throw new TypeError(`${e} ISelector(): invalid cssSelector must be a valid string`);if(null!=r&&(null==(c=r)||\\"object\\"!=typeof c||\\"function\\"!=typeof(null==c?void 0:c.getElem)))throw new TypeError(`${e} ISelector(): invalid ancestor must be a valid ISelector`);var c;let u,l=!1;const f=()=>void 0!==r?r.getElem().find(t):$(t);if(\\"function\\"!=typeof i)throw new TypeError(`${e} ISelector(): invalid precondition, must be a function`);u=f();let a=!1;this.getElem=function(e){return\\"function\\"!=typeof window.intellimize.log||a||(window.intellimize.log(`deprecating ISelector look to refactor [${t}]`,LogLevel.WARN),a=!0),l&&0!==u.closest(\\"body\\").length&&!0!==e||(u=f()),u},this.getSelector=function(e){return void 0!==r&&\\"function\\"==typeof r.getSelector&&!0!==e?r.getSelector()+\\" \\"+t:t},this.getAncestor=function(){return r},this.checkPrecondition=function(){const e=i.apply(this);return l=e,e}},createSimpleTextNode:function(t){return{selector:t,changeText(t){if(\\"string\\"!=typeof t)throw new TypeError(`${e} changeText(): invalid text string for headline`);return this.selector.getElem().html(t)}}},stringToHtmlNode:e=>i(e).content.firstChild,stringToHtmlNodes:e=>i(e).content.childNodes}})();\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;window.intellimize.plugins.classExists=function(e,t){const r=\\"[class-exists]\\";if(void 0===window.intellimize.plugins.utils||\\"function\\"!=typeof window.intellimize.plugins.utils.stringToHtmlNode)throw new TypeError(`${r} missing plugin dependency requires [utils]`);if(void 0===e||\\"string\\"!=typeof e||0===e.trim().length)throw new TypeError(`${r} className string must be provided`);if(void 0!==t&&(null===t||\\"object\\"!=typeof t))throw new TypeError(`${r} invalid options provided must be a valid object`);const{structure:o,target:i,tag:n=\\"div\\",properties:s}=((e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},t);if(\\"string\\"!=typeof n)throw new TypeError(`${r} tag must be a string`);if(void 0!==o&&\\"string\\"!=typeof o)throw new TypeError(`${r} structure must be a string`);if(void 0!==i&&\\"string\\"!=typeof i)throw new TypeError(`${r} target must be a string`);if(void 0!==s&&!(e=>{const t=document.documentElement.style;return Array.isArray(e)&&e.length>0&&e.every((e=>\\"string\\"==typeof e&&e in t))})(s))throw new TypeError(`${r} properties must be an array of valid CSS property names`);let l,d,p,a,u,m,w;if(void 0===o)l=document.createElement(n),document.head.append(l),d=l.cloneNode(!0),document.head.append(d),d.classList.add(e),u=window.getComputedStyle(l),m=window.getComputedStyle(d);else if(l=window.intellimize.plugins.utils.stringToHtmlNode(o),document.head.prepend(l),d=l.cloneNode(!0),void 0===i)l.classList.remove(e),d.classList.add(e),u=window.getComputedStyle(l),m=window.getComputedStyle(d);else{if(p=l.querySelector(i),!(p instanceof HTMLElement))return y=`${r} target provided but not found within structure`,g=4,\\"function\\"==typeof window.intellimize.log&&window.intellimize.log(y,g,c),!1;a=d.querySelector(i),p.classList.remove(e),a.classList.add(e),u=window.getComputedStyle(p),m=window.getComputedStyle(a)}var y,g,c;const f=JSON.stringify(u)!==JSON.stringify(m);return void 0!==s?(w=s.every((e=>u.getPropertyValue(e)!==m.getPropertyValue(e))),l.remove(),d.remove(),f&&w):(l.remove(),d.remove(),f)};\\n\\nwindow.intellimize.plugins.createPage=(()=>{const e=\\"[createPage]\\",o=(e,o)=>e&&o,n=(e,o)=>e||o,r=(e,o)=>e&&!o,t=(o,n)=>r=>{if(null===r||\\"object\\"!=typeof r||\\"function\\"!=typeof r.matches)throw new TypeError(`${e} invalid extension of Page must be a valid Page`);return i((()=>o(n(),r.matches())))};function i(e){return{matches:e,and:t(o,e),or:t(n,e),not:t(r,e)}}const a=e=>e instanceof RegExp;return o=>{if(null===o||\\"object\\"!=typeof o)throw new TypeError(`${e} invalid config must be a valid object`);const{regex:n,code:r}=o;if(void 0!==r&&\\"function\\"!=typeof r)throw new TypeError(`${e} invalid code in config must be a valid function`);if(void 0!==n&&!(a(n)||Array.isArray(n)&&n.length>0&&n.every((e=>a(e)))))throw new TypeError(`${e} invalid regex in config must be a valid RegExp or Array of RegExp`);const t=[n].flat().filter((e=>a(e)));return i((function(o){if(void 0!==o&&\\"string\\"!=typeof o)throw new TypeError(`${e} invalid url override must be a valid string`);const n=void 0===r||r(),i=0===t.length||((e,o)=>e.some((e=>e.test(o))))(t,null!=o?o:window.location.href);if(\\"boolean\\"!=typeof n)throw new TypeError(`${e} page code must return a boolean value`);return n&&i}))}})();\\n\\nwindow.intellimize.plugins.createTemplate=e=>{const n=\\"[create template]\\";function t(e,n){const t=function(e,n){return Object.keys(n).reduce(((n,t)=>(e.includes(t)&&n.push(function(e){return e.replace(/[-[\\\\]{}()*+?.,\\\\\\\\^$|#\\\\s]/g,\\"\\\\\\\\$&\\")}(t)),n)),[])}(e,n);return t.length>0?e.replace(new RegExp(t.join(\\"|\\"),\\"g\\"),(e=>n[e])):e}if(\\"string\\"!=typeof e||0===e.length)throw new Error(n+\\" template must be a valid string\\");return{render(r){if(void 0===r||\\"object\\"!=typeof r||null===r)throw new TypeError(n+\\" invalid map must be an Object solely containing strings\\");return Object.values(r).forEach((e=>{if(\\"string\\"!=typeof e)throw new TypeError(n+\\" invalid map must be an Object solely containing strings\\")})),t(e,r)}}};\\n\\nwindow.intellimize.plugins.elementInViewport=(e,t)=>{var n,o;const i=\\"[elementInViewport]\\";if(\\"string\\"!=typeof e)throw new TypeError(`${i} invalid element selector must be a valid string`);let r=0,l=0;if(null!=t)if(\\"number\\"==typeof t)r=t,l=t;else{if(void 0===(u=t)||\\"object\\"!=typeof u||\\"number\\"!=typeof(null==u?void 0:u.top)||\\"number\\"!=typeof(null==u?void 0:u.bottom))throw new TypeError(`${i} invalid offSet must be a valid number or object`);r=null!=(n=t.top)?n:r,l=null!=(o=t.bottom)?o:l}var u;const m=document.querySelector(e);if(null===m)return!1;const{top:p,bottom:d}=m.getBoundingClientRect();return p>=r&&p<=window.innerHeight-l||d>=r&&d<=window.innerHeight-l};\\n\\nwindow.intellimize.plugins.emailValidation={pattern:\\"^([a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+)@([a-zA-Z0-9-]+)(\\\\\\\\.[a-zA-Z0-9-]+)*$\\",validate(i){const e=new RegExp(window.intellimize.plugins.emailValidation.pattern).exec(i);return null!=e?e:void 0}};\\n\\nwindow.intellimize.plugins.exitIntent=function(e,t){var n,o,i;const l=\\"[exitIntent]\\";if(\\"function\\"!=typeof e)throw new TypeError(`${l} invalid callback must be a valid function`);if(null!=t&&\\"object\\"!=typeof t)throw new TypeError(`${l} invalid config must be a valid object`);const{idleTimer:r=2e3,noIdleOnMobile:c=!1,mobileScrollPercentage:d=.9,idleInitialDelay:u=500}=null!=t?t:{};if(\\"number\\"!=typeof r)throw new TypeError(`${l} invalid idleTimer must be a valid number`);if(\\"boolean\\"!=typeof c)throw new TypeError(`${l} invalid noIdleOnMobile must be a valid boolean`);if(\\"number\\"!=typeof d)throw new TypeError(`${l} invalid mobileScrollPercentage must be a valid number`);if(\\"number\\"!=typeof u)throw new TypeError(`${l} invalid idleInitialDelay must be a valid number`);const a=(()=>{let t=!1;return()=>{t||(e(),t=!0)}})();if(\\"D\\"===(null==(n=window.icntxtlftrs)?void 0:n.D))document.addEventListener(\\"mouseleave\\",(function e(t){t instanceof MouseEvent&&t.clientY<=0&&(document.removeEventListener(\\"mouseleave\\",e),a())}));else{if(void 0===t||!c){let e;const t=[\\"scroll\\",\\"click\\",\\"mousemove\\",\\"keypress\\",\\"touchstart\\",\\"touchmove\\",\\"touchend\\"],n=()=>setTimeout((()=>{t.forEach((e=>{document.removeEventListener(e,o)})),a()}),r),o=()=>{void 0!==e&&(clearTimeout(e),e=n())};setTimeout((()=>{e=n(),t.forEach((e=>{document.addEventListener(e,o)}))}),u)}let e=!1,n=(null!=(i=null!=(o=document.documentElement)?o:document.body.parentNode)?i:document.body).scrollTop;const l=()=>{var t;const{body:o,documentElement:i}=document,r=Math.max(o.scrollHeight,o.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),c=Math.max(window.innerHeight,i.clientHeight),u=(null!=(t=null!=i?i:o.parentNode)?t:o).scrollTop,m=u/(r-c);e?u<n?(a(),document.removeEventListener(\\"scroll\\",l)):n=u:(n=u,e=m>=d)};document.addEventListener(\\"scroll\\",l)}};\\n\\nwindow.intellimize.plugins.getVendorFunction=n=>{if(\\"string\\"!=typeof n||n.length<=2||\\"string\\"!=typeof n[0])throw new TypeError(\\"[get-vendor-function] invalid function name provided, must be a string longer than 1 character\\");const o=n=>n in window&&\\"function\\"==typeof window[n];if(o(n))return window[n];const t=[\\"ms\\",\\"moz\\",\\"webkit\\",\\"o\\"],i=n[0].toUpperCase()+n.slice(1);for(const e of t){const n=e+i;if(o(n))return window[n]}};\\n\\n(()=>{const e=\\"[request-animation-frame]\\",{getVendorFunction:n}=window.intellimize.plugins;if(\\"function\\"!=typeof n)throw new TypeError(`${e} plugin dependency missing or out of order: get-vendor-function must be present and before this plugin`);let i=n(\\"requestAnimationFrame\\"),o=n(\\"cancelAnimationFrame\\");\\"function\\"!=typeof o&&(o=n(\\"cancelRequestAnimationFrame\\")),\\"function\\"!=typeof i&&(i=n=>{if(\\"function\\"!=typeof n)throw new TypeError(`${e} invalid callback pasted to \\"request\\" polyfill`);return setTimeout((()=>{n()}),16)},o=n=>{if(\\"number\\"!=typeof n)throw new TypeError(`${e} invalid id passed to \\"cancel\\" polyfill`);clearTimeout(n)}),window.intellimize.plugins.requestAnimationFrame=i.bind(window),window.intellimize.plugins.cancelAnimationFrame=null==o?void 0:o.bind(window)})();\\n\\nwindow.intellimize.plugins.repeatAction=function(i,n){const e=\\"[repeat-action]\\";if(\\"function\\"!=typeof window.intellimize.plugins.requestAnimationFrame||\\"function\\"!=typeof window.intellimize.plugins.cancelAnimationFrame)throw new TypeError(`${e} plugin dependency missing: request-animation-frame`);if(\\"function\\"!=typeof i)throw new TypeError(`${e} invalid action must be a valid function`);if(null!=n&&\\"object\\"!=typeof n)throw new TypeError(`${e} invalid options must be a valid object`);const{timeLimit:t=3e3,quitEarly:o=!1,failure:l}=n;let a,r;window.intellimize.plugins.requestAnimationFrame((function n(){r=null!=r?r:Date.now();const m=Date.now()-r,c=i(m);c&&o?window.intellimize.plugins.cancelAnimationFrame(a):m<t?(void 0!==a&&window.intellimize.plugins.cancelAnimationFrame(a),a=window.intellimize.plugins.requestAnimationFrame((()=>{try{n()}catch(i){window.intellimize.logErr(`${e} action ran into an error ${String(i)}`)}}))):c||\\"function\\"!=typeof l||l()}))};\\n\\nwindow.intellimize.plugins.getControlStatus=function(i,e){if(\\"function\\"!=typeof window.intellimize.plugins.repeatAction)throw new TypeError(\\"[get-control-status] plugin dependency missing: repeat-action\\");window.intellimize.plugins.repeatAction((()=>{const t=function(i){let e,t,n,o=\\"control\\";try{t=JSON.parse(window.localStorage.getItem(\\"intellimize_\\"+i)).data,n=JSON.parse(t),n&&(e=n.c,void 0!==e&&(o=e?\\"control\\":\\"intellimize\\"))}catch(l){window.intellimize.logErr(\\"[\\"+i+\\"] error in retrieving value from local storage: \\"+l)}return o}(i);return(\\"control\\"===t||\\"intellimize\\"===t)&&(e(t),!0)}),{quitEarly:!0,failure(){window.intellimize.logErr(\\"[\\"+i+\\"] could not determine control status of user\\")}})};\\n\\nwindow.intellimize.plugins.getCurrentSession=function(){return window.intellimize.logErr(\\"[get current session] this plugin is in the process of being deprecated use window.intellimize.getSessionId() instead\\"),window.intellimize.getSessionId()};\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(()=>{const e=\\"[intellimize form]\\",t=e=>{const{type:t,name:r,placeholder:o=\\"\\",pattern:i=\\"\\",title:n=\\"\\",required:a=!1,value:l}=e,p=document.createElement(\\"input\\");return p.required=a,p.type=t,p.name=r,p.placeholder=o,p.pattern=i,p.title=n,void 0!==l&&(p.value=l),p};window.intellimize.plugins.form=function(r){if(!(null!==(o=r)&&\\"object\\"==typeof o&&Array.isArray(o.fields)&&o.fields.length>0&&o.fields.every((e=>(e=>null!==e&&\\"object\\"==typeof e&&\\"string\\"==typeof e.type&&\\"string\\"==typeof e.name)(e)))))throw new TypeError(`${e} invalid form configuration must be a valid object with a valid Fields attribute`);var o;const{fields:i,method:n=\\"post\\",action:a,submitCallback:l}=((e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},r);if(\\"string\\"!=typeof n)throw new TypeError(`${e} invalid method must be a valid string`);if(void 0!==a&&\\"string\\"!=typeof a)throw new TypeError(`${e} invalid action must be a valid string`);if(void 0!==l&&\\"function\\"!=typeof l)throw new TypeError(`${e} invalid submitCallback must be a valid function`);const p=document.createElement(\\"form\\");p.classList.add(\\"i-form\\"),p.method=n;let s=!1;return i.forEach((e=>{const r=t(e);p.append(r),\\"submit\\"===e.type&&(s=!0)})),s||p.append(t({type:\\"submit\\",name:\\"submit-button\\",value:\\"Submit\\"})),void 0!==a&&(p.action=a),void 0!==l&&p.addEventListener(\\"submit\\",(t=>{try{const e=new FormData(p),r=new URLSearchParams(e);l(t,r.toString())}catch(n){r=`${e} execution error in submit callback \\"${String(n)}\\"`,o=4,\\"function\\"==typeof window.intellimize.log&&window.intellimize.log(r,o,i)}var r,o,i})),p}})();\\n\\nwindow.intellimize.plugins.modal=function(e){const t=\\"[modal]\\",n=e=>{\\"function\\"==typeof window.intellimize.logErr&&window.intellimize.logErr(e)};if(null===e||\\"object\\"!=typeof e)throw new TypeError(`${t} invalid config must be a valid object`);const{type:o,cta:i,form:l,header:a,body:r,closeIcon:s=\\"&times;&#xFE0E;\\",cssClass:c,style:d}=e,u=[\\"cta\\",\\"form\\"];if(\\"string\\"!=typeof o||!u.includes(o.toLowerCase()))throw new TypeError(`${t} invalid modal type must be one of the following... ${u.join(\\", \\")}`);if(\\"string\\"!=typeof s)throw new TypeError(`${t} invalid closeIcon must be a valid string`);function f(e,t){const n=e.style;if(null===t||\\"object\\"!=typeof t)return;const{width:o,height:i,maxWidth:l,maxHeight:a,font:r,background:s}=t;if(e.style.width=null!=o?o:n.width,e.style.height=null!=i?i:n.height,e.style.maxWidth=null!=l?l:\\"string\\"==typeof o?\\"none\\":n.maxWidth,e.style.maxHeight=null!=a?a:\\"string\\"==typeof i?\\"none\\":n.maxHeight,null!==r&&\\"object\\"==typeof r){const{color:t,name:o,size:i}=r;e.style.color=null!=t?t:n.color,e.style.fontFamily=null!=o?o:n.fontFamily,e.style.fontSize=null!=i?i:n.fontSize}if(null!==s&&\\"object\\"==typeof s){const{color:t,image:{url:o,size:i,repeat:l,position:a}={}}=s;e.style.backgroundColor=null!=t?t:n.backgroundColor,e.style.backgroundImage=\\"string\\"==typeof o?`url(${o})`:n.backgroundImage,e.style.backgroundSize=null!=i?i:n.backgroundSize,e.style.backgroundPosition=null!=a?a:n.backgroundPosition,e.style.backgroundRepeat=null!=l?l:n.backgroundRepeat}}const m=document.createElement(\\"div\\");m.classList.add(\\"i-modal-background\\");const p=document.createElement(\\"div\\");p.classList.add(\\"i-modal-content\\");const y={domRef:p,configuration:e,show:()=>(m.style.display=\\"block\\",y),hide:()=>(m.style.display=\\"none\\",y),style:e=>(f(p,e),y)};switch(p.innerHTML=`\\\\n  ${\\"string\\"==typeof a?`<div class=\\"i-modal-headline\\">${a}</div>`:\\"\\"}\\\\n  ${\\"string\\"==typeof r?`<div class=\\"i-modal-body\\">${r}</div>`:\\"\\"}\\\\n      `,\\"string\\"==typeof c&&c.split(\\" \\").forEach((e=>{p.classList.add(e)})),o.toLowerCase()){case\\"cta\\":if(null!==i&&\\"object\\"==typeof i){const{link:e,text:o,action:l}=i,a=document.createElement(\\"a\\");a.classList.add(\\"i-modal-cta\\"),a.href=\\"string\\"==typeof e?e:\\"#\\",a.textContent=o,\\"function\\"==typeof l&&a.addEventListener(\\"click\\",(()=>{try{l(p)}catch(e){n(`${t} execution error in CTA action ${String(e)}`)}return!1})),p.append(a)}else n(`${t} attempt to create a modal of type CTA with no cta definition.`);break;case\\"form\\":null!==l&&\\"object\\"==typeof l?\\"function\\"==typeof window.intellimize.plugins.form?p.append(window.intellimize.plugins.form(l)):n(`${t} missing plugin dependency. The form plugin is required to make form modals`):n(`${t} attempt to create a modal of type Form with no form definition.`)}f(p,d),document.body.prepend(m),m.append(p);const g=document.createElement(\\"a\\");return g.classList.add(\\"i-modal-close\\"),g.href=\\"#\\",g.innerHTML=s,g.addEventListener(\\"click\\",(e=>{e.preventDefault(),y.hide()})),p.prepend(g),m.addEventListener(\\"click\\",(e=>{e.target===e.currentTarget&&y.hide()})),y};\\n\\nwindow.intellimize.plugins.randomNumberGenerator=function(n,r){return Math.floor(Math.random()*(r-n+1)+n)};\\n\\n(()=>{const e=(e,n,t)=>{var i;\\"function\\"==typeof(null==(i=null==window?void 0:window.intellimize)?void 0:i.log)&&window.intellimize.log(e,n,t)};window.intellimize.plugins.trackClick=({eventId:n,listener:t,precondition:i,capture:o=!1,captureBelow:l=!1,customEvent:r=!1}={})=>{var c,d;const a=\\"[trackClick]\\";if(\\"function\\"!=typeof(null==(d=null==(c=null==window?void 0:window.intellimize)?void 0:c.plugins)?void 0:d.repeatAction))throw new TypeError(`${a} missing plugin dependency repeat-action`);if(\\"string\\"!=typeof n)throw new TypeError(`${a} event id must be a string`);const u=`${a}[${n}]:`;if(\\"string\\"!=typeof t)throw new TypeError(`${u} listener must be a string`);if(void 0!==i&&\\"function\\"!=typeof i)throw new TypeError(`${u} precondition must be a function`);if(\\"boolean\\"!=typeof o)throw new TypeError(`${u} invalid capture flag must be a boolean`);if(\\"boolean\\"!=typeof l)throw new TypeError(`${u} invalid capture below flag must be a boolean`);if(\\"boolean\\"!=typeof r)throw new TypeError(`${u} invalid custom event flag must be a boolean`);let s;r||0!==document.querySelectorAll(`style#${n}`).length||(s=document.createElement(\\"style\\"),s.id=n,document.head.prepend(s));const w=o=>{const{target:c}=o;null!==c&&c instanceof Element&&(c.matches(t)||l&&null!==c.closest(t))&&(t=>{var o;(void 0===i||Boolean(i(t)))&&(r?\\"function\\"==typeof window.intellimize.sendEvent?null==(o=null==window?void 0:window.intellimize)||o.sendEvent(n):e(`${u} sendEvent function doesn\'t exist`,4):s.click())})(o)};o?document.addEventListener(\\"click\\",w,!0):window.intellimize.plugins.repeatAction((()=>{const e=document.querySelectorAll(t);if(e.length>0){for(const n of e)n.addEventListener(\\"click\\",(e=>{w(e)}));return!0}return!1}),{quitEarly:!0,failure(){e(`${u} failed to find target element with listener selector`,4)}})}})();\\n\\n(()=>{const n=\\"[url-params]\\",i=(n,i,l)=>{var e;\\"function\\"==typeof(null==(e=null==window?void 0:window.intellimize)?void 0:e.log)&&window.intellimize.log(n,i,l)},l=new DOMParser;function e(n){let i;try{return i=decodeURIComponent(n),i.length===n.length?i:e(i)}catch(l){return n}}function t(t,r){const o=e(r),a=l.parseFromString(`<!doctype html><body>${o}</body>`,\\"text/html\\");if(a.body.childElementCount>0)return i(`${n} unsafe url param |${t}| with value |${r}|${o}| generated ${a.body.childElementCount} elements`,4),\\"\\";let u=\\"\\";return a.body.childNodes.forEach((n=>{var i;\\"Text\\"===n.constructor.name&&(u+=null!=(i=n.textContent)?i:\\"\\")})),u}function r(l){if(void 0!==l&&\\"string\\"!=typeof l)throw new TypeError(`${n} invalid override string provided must be a valid string`);const e=null!=l?l:window.location.search;window.intellimize.plugins.urlParams={},window.intellimize.plugins.urlParamsUnsafe={},\\"\\"!==e&&e.slice(1).split(\\"&\\").forEach((l=>{var e,r,o,a;const u=window.intellimize.plugins.urlParams,s=window.intellimize.plugins.urlParamsUnsafe;if(void 0!==l){const d=/^([^=]+?)(?:=(.*?))?$/.exec(l);if(null===d)i(`${n} invalid url param |${l}|`,4);else{const n=null!=(e=d[1])?e:\\"\\",i=null!=(r=d[2])?r:\\"\\",l=t(n,i);n in u&&Array.isArray(u[n])?(null==(o=u[n])||o.push(l),null==(a=s[n])||a.push(i)):(u[n]=[l],s[n]=[i])}}}))}window.intellimize.plugins.urlParamsParse=r,r()})();\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,o)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,__spreadValues=(e,t)=>{for(var o in t||(t={}))__hasOwnProp.call(t,o)&&__defNormalProp(e,o,t[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(t))__propIsEnum.call(t,o)&&__defNormalProp(e,o,t[o]);return e};(()=>{const e=\\"[user-state]\\",t=\\"us-user-state\\";let o;if(\\"function\\"!=typeof window.intellimize.getLocalState||\\"function\\"!=typeof window.intellimize.setLocalState)throw new TypeError(`${e} missing getLocalState or setLocalState client likely failed to run`);if(\\"function\\"!=typeof window.intellimize.getSessionId)throw new TypeError(`${e} getSessionId missing client likely failed to run`);const s=()=>{const e=window.intellimize.getLocalState(t);return __spreadValues(__spreadValues({},{lastSessionId:\\"\\",newUser:!0,sessionCount:1}),e)};o=s(),window.intellimize.plugins.userState={track(){const e=window.intellimize.getSessionId();o=s(),\\"\\"===o.lastSessionId?o={newUser:!0,lastSessionId:e,sessionCount:1}:o.lastSessionId!==e&&(o.newUser=!1,o.sessionCount+=1,o.lastSessionId=e),window.intellimize.setLocalState(t,o)},isUserNew:()=>o.newUser,getSessionCount:()=>o.sessionCount}})();\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,n,o)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,__spreadValues=(e,n)=>{for(var o in n||(n={}))__hasOwnProp.call(n,o)&&__defNormalProp(e,o,n[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(n))__propIsEnum.call(n,o)&&__defNormalProp(e,o,n[o]);return e};(()=>{const e=(e,n,o)=>{\\"function\\"==typeof window.intellimize.log&&window.intellimize.log(e,n,o)};window.intellimize.plugins.marketoInterface=(()=>{const n=\\"[intellimize marketo-interface interface]\\";if(\\"function\\"!=typeof window.intellimize.plugins.repeatAction)throw new TypeError(`${n} missing dependency this plugin requires repeat-action`);let o,t=!1;const r={all:[]},i={},a=\\"i-marketo-interface-success\\";let l=document.querySelector(`#${a}`);const c=(()=>{let o,a=!1;return function(){return l=this,c=null,s=function*(){return void 0!==o?o:a?(e(`${n} already processing core promise waiting for it\'s resolution`,1),new Promise((t=>{const r=()=>{e(`${n} checking on reference request, processing: ${void 0===o}`,1),void 0===o?setTimeout(r,50):(e(`${n} done processing, resolving`,1),t(o))};r()}))):(a=!0,e(`${n} instantiating new promise to look for MktoForms2`,1),o=yield new Promise(((e,o)=>{window.intellimize.plugins.repeatAction((()=>{const n=window.MktoForms2;var o;return t=null!==(o=n)&&\\"object\\"==typeof o&&\\"function\\"==typeof o.whenReady&&\\"function\\"==typeof o.loadForm,!!t&&(e(n),!0)}),{timeLimit:1e4,quitEarly:!0,failure(){o(new Error(`${n} failed to get reference to marketo-interface control object`))}})})),e(`${n} reference to MktoForms2 found`,1),o.whenReady((o=>{const t=String(o.getId());e(`${n} new form ${t} ready`,1),t in i||(i[t]=[]),i[t].push(o),t in r&&(e(`${n} fulfilling active form ${r[t].length} requests`,1),r[t].forEach((e=>{e(o)}))),r.all.forEach((e=>{e(o)}))})),o)},new Promise(((e,n)=>{var o=e=>{try{r(s.next(e))}catch(o){n(o)}},t=e=>{try{r(s.throw(e))}catch(o){n(o)}},r=n=>n.done?e(n.value):Promise.resolve(n.value).then(o,t);r((s=s.apply(l,c)).next())}));var l,c,s}})();function s(){l instanceof Element||(l=document.createElement(\\"style\\"),l.id=a,document.head.prepend(l))}function f(e){if(!(l instanceof Element))throw new TypeError(`${n} invalid click goal trigger`);l.className=e,l.dispatchEvent(new Event(\\"click\\",{bubbles:!0})),l.className=\\"\\"}function p(e){if(null===e||\\"object\\"!=typeof e)throw new TypeError(`${n} marketo has not been properly configured. configure must be executed with valid params to perform this action.`);if(\\"string\\"!=typeof e.baseUrl)throw new TypeError(`${n} please provide a valid string as a baseUrl`);if(\\"string\\"!=typeof e.munchkinId)throw new TypeError(`${n} please provide a valid string as a munchkinId`);return!0}let u=0;function d(o){if(\\"function\\"!=typeof o)throw new TypeError(`${n} whenAvailable requires a valid function callback`);u++;const t=u;e(`${n} availability request: ${t}, made`,1),c().then((r=>{e(`${n} availability request: ${t}, fulfilled`,1),o(r)})).catch((n=>{e(n,4)}))}function m(e){if(\\"function\\"!=typeof e)throw new TypeError(`${n} invalid callback, expected a function`);r.all.push(e),d((()=>{Object.keys(i).forEach((n=>{i[n].forEach((n=>{e(n)}))}))}))}function w(o,t){if(\\"number\\"!=typeof o)throw new TypeError(`${n} invalid form id, expected a number`);if(\\"function\\"!=typeof t)throw new TypeError(`${n} invalid callback, expected a function`);const a=String(o);a in r||(r[a]=[]),r[a].push(t),d((()=>{a in i&&(e(`${n} form ${a} already exists`,1),i[a].forEach((e=>{t(e)})))}))}function y(e,o){if(\\"function\\"!=typeof o)throw new TypeError(`${n} provided callback must be a valid function`);w(e,(e=>{e.onSuccess(o)}))}return{configure:function(e){p(e)&&(o=__spreadValues(__spreadValues({},o),e))},isAvailable:()=>t,whenAvailable:d,getForm:w,getAllForms:m,listenForFormSuccess:y,setupSuccessGoal(o,t,r){const{customEvent:i=!1}=__spreadValues({},r);if(void 0===t||\\"string\\"!=typeof t)throw new TypeError(`${n} invalid eventName, expected a string`);e(`${n} setting up a new single form success goal for form ${o}`,1),i||s(),y(o,(()=>{i?\\"function\\"==typeof window.intellimize.sendEvent&&window.intellimize.sendEvent(t):f(t)}))},setupAllFormsSuccessGoal(e,o){const{customEvent:t=!1}=__spreadValues({},o);if(void 0===e||\\"string\\"!=typeof e)throw new TypeError(`${n} invalid eventName, expected a string`);t||s(),m((n=>{n.onSuccess((()=>{t?\\"function\\"==typeof window.intellimize.sendEvent&&window.intellimize.sendEvent(e):f(e)}))}))},loadForm:function(t,r){try{p(o)}catch(i){throw new Error(`${n} attempted to load a form with an invalid configuration. please make sure configure was executed properly.`)}if(\\"number\\"!=typeof t)throw new TypeError(`${n} must provide a valid form id`);if(void 0!==r&&\\"function\\"!=typeof r)throw new Error(`${n} provided callbacks must be a valid function`);e(`${n} waiting to load form ${t} when marketo is ready`,1),d((i=>{e(`${n} attempting to load form ${t}`,1),i.loadForm(o.baseUrl,o.munchkinId,t,r)}))}}})()})();\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;(()=>{const e=(e,t,r)=>{\\"function\\"==typeof window.intellimize.log&&window.intellimize.log(e,t,r)},t=\\"[inode]\\",r=10210,o=e=>void 0!==e&&\\"object\\"==typeof e&&\\"function\\"==typeof(null==e?void 0:e.getNodes),n=(n=1)=>i=>o(i)?i.getNodes().length===n:(e(`${t} error with simplePrecondition, self is not an Inode`,4,r),!1);window.intellimize.plugins.inode={create:function(e,r){let i,s=!1;if(\\"string\\"!=typeof e||0===e.trim().length)throw new Error(`${t} invalid selector expected a valid string`);if(void 0!==r&&\\"object\\"!=typeof r)throw new Error(`${t} invalid configuration expected an object`);const{ancestor:l,precondition:a=n(),textTarget:d}=((e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},r);if(void 0!==l&&!o(l))throw new Error(`${t} invalid ancestor expected a valid inode`);if(void 0!==d&&\\"string\\"!=typeof d)throw new TypeError(`${t} invalid text target expected a valid string`);const c=()=>{let t;return t=void 0!==l&&o(l)?l.getNodes().flatMap((t=>[...t.querySelectorAll(e)])):[...document.querySelectorAll(e)],void 0!==d&&(t=((e,t)=>[...e].filter((e=>String(e.textContent).trim().includes(t))))(t,d)),t},p=(e=!1)=>(Array.isArray(i)&&!e&&s&&i.every((e=>e.isConnected))||(i=c()),i);return{getNodes:p,getSelector:(t=!1)=>t||\\"object\\"!=typeof l?e:`${l.getSelector()} ${e}`,getAncestor:()=>l,checkPrecondition(){return s=a(this),s},addClass:e=>{if(!(\\"string\\"==typeof e||Array.isArray(e)&&e.every((e=>\\"string\\"==typeof e))))throw new TypeError(`${t} invalid css class must be a string or array of strings`);void 0===i&&(i=p());for(const t of i)t.classList.add(...[e].flat())},changeText:e=>{if(\\"string\\"!=typeof e)throw new TypeError(`${t} invalid text must be a valid string`);void 0===i&&(i=p());for(const t of i)t.textContent=e},on:(e,r,o)=>{if(\\"string\\"!=typeof e)throw new TypeError(`${t} invalid event type must be a valid string`);if(\\"function\\"!=typeof r)throw new TypeError(`${t} invalid event listener must be a valid function`);if(void 0!==o&&\\"object\\"!=typeof o)throw new TypeError(`${t} invalid options must be a valid object`);void 0===i&&(i=p());for(const t of i)t.addEventListener(e,r,o)}}},simplePrecondition:n,greaterThanPrecondition:(n=0)=>i=>o(i)?i.getNodes().length>n:(e(`${t} error with greaterThanPrecondition, self is not an Inode`,4,r),!1),perAncestorPrecondition:(n=1)=>i=>{if(!o(i))return e(`${t} error with perAncestorPrecondition, self is not an Inode`,4,r),!1;const s=i.getAncestor();if(!o(s))return e(`${t} error with perAncestorPrecondition, no valid ancestor`,4,r),!1;const l=s.getNodes(),a=i.getSelector(!0);return l.every((e=>e.querySelectorAll(a).length===n))}}})();\\n\\nvar __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,n,t)=>n in e?__defProp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,__async=(e,n,t)=>new Promise(((o,i)=>{var r=e=>{try{s(t.next(e))}catch(n){i(n)}},l=e=>{try{s(t.throw(e))}catch(n){i(n)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,l);s((t=t.apply(e,n)).next())}));!function(){window.intellimize.plugins.popup=(()=>{const e=\\"[popup]\\",{exitIntent:n}=window.intellimize.plugins,t=()=>window.location.search.slice(1).split(\\"&\\").includes(\\"imize_editor=true\\"),o=\\"intellimize-popup\\",i=document.createElement(\\"div\\");i.className=o,i.style.display=\\"none\\";const r=`${o}--content`;i.innerHTML=`\\\\n    <div class=\\"${r}\\">\\\\n      <h3>Header</h3>\\\\n      <p>Body text</p>\\\\n      <a href=\\"#temp\\" class=\\"${o}--cta\\">CTA</a>\\\\n    </div>\\\\n  `;const l=document.createElement(\\"div\\");l.className=`${o}--backdrop`,l.style.display=\\"none\\";const s=document.createElement(\\"a\\");s.className=`${o}--close`,s.innerHTML=\\"&times;&#xFE0E;\\",s.href=\\"#\\";const a=()=>{l.style.display=\\"none\\",i.style.display=\\"none\\"};s.addEventListener(\\"click\\",(e=>{e.preventDefault(),a()})),l.addEventListener(\\"click\\",(e=>{e.target===e.currentTarget&&a()}));const d=()=>{l.style.display=\\"block\\",i.style.display=\\"block\\"},c=e=>{\\"loading\\"===document.readyState?window.addEventListener(\\"DOMContentLoaded\\",(()=>{e()})):e()},p=(()=>{let e;return()=>__async(this,null,(function*(){return void 0===e&&(e=new Promise((e=>{c((()=>{e(!0)}))}))),e}))})(),m=(()=>{let e;return()=>__async(this,null,(function*(){return void 0===e&&(e=new Promise((e=>{const n=function(){var t;const{body:o,documentElement:i}=document,r=Math.max(o.scrollHeight,o.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),l=Math.max(window.innerHeight,i.clientHeight);(null!=(t=null!=i?i:o.parentNode)?t:o).scrollTop/(r-l)>=.5&&(e(!0),window.removeEventListener(\\"scroll\\",n))};window.addEventListener(\\"scroll\\",n)}))),e}))})(),u=(()=>{let t;return()=>__async(this,null,(function*(){return void 0===t&&(t=new Promise(((t,o)=>{c((()=>{\\"function\\"==typeof n?n((()=>{t(!0)})):o(new Error(`${e} missing plugin dependency exit-intent`))}))}))),t}))})();return n=>{if(!(null!==(a=n)&&\\"object\\"==typeof a&&\\"number\\"==typeof(c=null==a?void 0:a.trigger)&&c>=0&&c<=2)||\\"string\\"!=typeof(null==a?void 0:a.id)&&\\"string\\"!=typeof(null==a?void 0:a.bodyHtml))throw new TypeError(`${e} invalid PopupConfig must have a valid id or bodyHtml string property`);var a,c;const{trigger:y,style:f,id:v,bodyHtml:w,image:_}=((e,n)=>{for(var t in n||(n={}))__hasOwnProp.call(n,t)&&__defNormalProp(e,t,n[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(n))__propIsEnum.call(n,t)&&__defNormalProp(e,t,n[t]);return e})({},n);if(void 0!==v&&(i.dataset.intellimizeId=`v${v}`),void 0!==w&&(i.querySelector(`.${r}`).innerHTML=w),\\"string\\"==typeof _){const e=document.createElement(\\"img\\");e.src=_,e.className=`${o}--banner`,i.prepend(e)}document.body.prepend(l),l.append(i),i.prepend(s);const g=\\"2147483646\\";if(1===f)document.body.prepend(i),i.classList.add(\\"intellimize-sidepop\\"),l.remove(),t()||i.addEventListener(\\"animationend\\",(()=>{i.style.animation=\\"unset\\"})),t()&&(i.style.zIndex=g);if(t())return l.style.zIndex=g,void d();switch(y){case 0:p().then(d);break;case 1:m().then(d);break;case 2:u().then(d,(e=>{var n,t,o;n=e,t=4,o=10820,\\"function\\"==typeof window.intellimize.log&&window.intellimize.log(n,t,o)}))}}})()}();\\n\\n(()=>{var Dc=Object.create;var Gi=Object.defineProperty;var Uc=Object.getOwnPropertyDescriptor;var Fc=Object.getOwnPropertyNames;var Bc=Object.getPrototypeOf,$c=Object.prototype.hasOwnProperty;var n=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Gc=(r,e,t,i)=>{if(e&&typeof e==\\"object\\"||typeof e==\\"function\\")for(let a of Fc(e))!$c.call(r,a)&&a!==t&&Gi(r,a,{get:()=>e[a],enumerable:!(i=Uc(e,a))||i.enumerable});return r};var kc=(r,e,t)=>(t=r!=null?Dc(Bc(r)):{},Gc(e||!r||!r.__esModule?Gi(t,\\"default\\",{value:r,enumerable:!0}):t,r));var E=n((HS,ki)=>{var Kr=function(r){return r&&r.Math==Math&&r};ki.exports=Kr(typeof globalThis==\\"object\\"&&globalThis)||Kr(typeof window==\\"object\\"&&window)||Kr(typeof self==\\"object\\"&&self)||Kr(typeof global==\\"object\\"&&global)||function(){return this}()||Function(\\"return this\\")()});var O=n((zS,Ki)=>{Ki.exports=function(r){try{return!!r()}catch{return!0}}});var C=n((JS,Yi)=>{var Kc=O();Yi.exports=!Kc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var Tr=n((VS,Wi)=>{var Yc=O();Wi.exports=!Yc(function(){var r=function(){}.bind();return typeof r!=\\"function\\"||r.hasOwnProperty(\\"prototype\\")})});var x=n((XS,Hi)=>{var Wc=Tr(),Yr=Function.prototype.call;Hi.exports=Wc?Yr.bind(Yr):function(){return Yr.apply(Yr,arguments)}});var Xi=n(Vi=>{\\"use strict\\";var zi={}.propertyIsEnumerable,Ji=Object.getOwnPropertyDescriptor,Hc=Ji&&!zi.call({1:2},1);Vi.f=Hc?function(e){var t=Ji(this,e);return!!t&&t.enumerable}:zi});var Ir=n((ZS,Qi)=>{Qi.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var S=n((rO,en)=>{var Zi=Tr(),rn=Function.prototype,zc=rn.bind,Ue=rn.call,Jc=Zi&&zc.bind(Ue,Ue);en.exports=Zi?function(r){return r&&Jc(r)}:function(r){return r&&function(){return Ue.apply(r,arguments)}}});var k=n((eO,nn)=>{var tn=S(),Vc=tn({}.toString),Xc=tn(\\"\\".slice);nn.exports=function(r){return Xc(Vc(r),8,-1)}});var Be=n((tO,an)=>{var Qc=S(),Zc=O(),rl=k(),Fe=Object,el=Qc(\\"\\".split);an.exports=Zc(function(){return!Fe(\\"z\\").propertyIsEnumerable(0)})?function(r){return rl(r)==\\"String\\"?el(r,\\"\\"):Fe(r)}:Fe});var K=n((iO,on)=>{on.exports=function(r){return r==null}});var tr=n((nO,un)=>{var tl=K(),il=TypeError;un.exports=function(r){if(tl(r))throw il(\\"Can\'t call method on \\"+r);return r}});var ir=n((aO,vn)=>{var nl=Be(),al=tr();vn.exports=function(r){return nl(al(r))}});var g=n((oO,sn)=>{sn.exports=function(r){return typeof r==\\"function\\"}});var _=n((uO,ln)=>{var cn=g(),$e=typeof document==\\"object\\"&&document.all,ol=typeof $e>\\"u\\"&&$e!==void 0;ln.exports=ol?function(r){return typeof r==\\"object\\"?r!==null:cn(r)||r===$e}:function(r){return typeof r==\\"object\\"?r!==null:cn(r)}});var L=n((vO,fn)=>{var Ge=E(),ul=g(),vl=function(r){return ul(r)?r:void 0};fn.exports=function(r,e){return arguments.length<2?vl(Ge[r]):Ge[r]&&Ge[r][e]}});var Y=n((sO,pn)=>{var sl=S();pn.exports=sl({}.isPrototypeOf)});var xr=n((cO,qn)=>{var cl=L();qn.exports=cl(\\"navigator\\",\\"userAgent\\")||\\"\\"});var Hr=n((lO,Sn)=>{var En=E(),ke=xr(),dn=En.process,yn=En.Deno,gn=dn&&dn.versions||yn&&yn.version,hn=gn&&gn.v8,A,Wr;hn&&(A=hn.split(\\".\\"),Wr=A[0]>0&&A[0]<4?1:+(A[0]+A[1]));!Wr&&ke&&(A=ke.match(/Edge\\\\/(\\\\d+)/),(!A||A[1]>=74)&&(A=ke.match(/Chrome\\\\/(\\\\d+)/),A&&(Wr=+A[1])));Sn.exports=Wr});var Ke=n((fO,bn)=>{var On=Hr(),ll=O();bn.exports=!!Object.getOwnPropertySymbols&&!ll(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&On&&On<41})});var Ye=n((pO,Tn)=>{var fl=Ke();Tn.exports=fl&&!Symbol.sham&&typeof Symbol.iterator==\\"symbol\\"});var We=n((qO,In)=>{var pl=L(),ql=g(),dl=Y(),yl=Ye(),gl=Object;In.exports=yl?function(r){return typeof r==\\"symbol\\"}:function(r){var e=pl(\\"Symbol\\");return ql(e)&&dl(e.prototype,gl(r))}});var mr=n((dO,xn)=>{var hl=String;xn.exports=function(r){try{return hl(r)}catch{return\\"Object\\"}}});var D=n((yO,mn)=>{var El=g(),Sl=mr(),Ol=TypeError;mn.exports=function(r){if(El(r))return r;throw Ol(Sl(r)+\\" is not a function\\")}});var nr=n((gO,Rn)=>{var bl=D(),Tl=K();Rn.exports=function(r,e){var t=r[e];return Tl(t)?void 0:bl(t)}});var Cn=n((hO,Pn)=>{var He=x(),ze=g(),Je=_(),Il=TypeError;Pn.exports=function(r,e){var t,i;if(e===\\"string\\"&&ze(t=r.toString)&&!Je(i=He(t,r))||ze(t=r.valueOf)&&!Je(i=He(t,r))||e!==\\"string\\"&&ze(t=r.toString)&&!Je(i=He(t,r)))return i;throw Il(\\"Can\'t convert object to primitive value\\")}});var N=n((EO,_n)=>{_n.exports=!1});var zr=n((SO,An)=>{var wn=E(),xl=Object.defineProperty;An.exports=function(r,e){try{xl(wn,r,{value:e,configurable:!0,writable:!0})}catch{wn[r]=e}return e}});var Jr=n((OO,jn)=>{var ml=E(),Rl=zr(),Nn=\\"__core-js_shared__\\",Pl=ml[Nn]||Rl(Nn,{});jn.exports=Pl});var Vr=n((bO,Mn)=>{var Cl=N(),Ln=Jr();(Mn.exports=function(r,e){return Ln[r]||(Ln[r]=e!==void 0?e:{})})(\\"versions\\",[]).push({version:\\"3.25.0\\",mode:Cl?\\"pure\\":\\"global\\",copyright:\\"\\\\xA9 2014-2022 Denis Pushkarev (zloirock.ru)\\",license:\\"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE\\",source:\\"https://github.com/zloirock/core-js\\"})});var ar=n((TO,Dn)=>{var _l=tr(),wl=Object;Dn.exports=function(r){return wl(_l(r))}});var R=n((IO,Un)=>{var Al=S(),Nl=ar(),jl=Al({}.hasOwnProperty);Un.exports=Object.hasOwn||function(e,t){return jl(Nl(e),t)}});var Ve=n((xO,Fn)=>{var Ll=S(),Ml=0,Dl=Math.random(),Ul=Ll(1 .toString);Fn.exports=function(r){return\\"Symbol(\\"+(r===void 0?\\"\\":r)+\\")_\\"+Ul(++Ml+Dl,36)}});var b=n((mO,Kn)=>{var Fl=E(),Bl=Vr(),Bn=R(),$l=Ve(),$n=Ke(),kn=Ye(),or=Bl(\\"wks\\"),W=Fl.Symbol,Gn=W&&W.for,Gl=kn?W:W&&W.withoutSetter||$l;Kn.exports=function(r){if(!Bn(or,r)||!($n||typeof or[r]==\\"string\\")){var e=\\"Symbol.\\"+r;$n&&Bn(W,r)?or[r]=W[r]:kn&&Gn?or[r]=Gn(e):or[r]=Gl(e)}return or[r]}});var zn=n((RO,Hn)=>{var kl=x(),Yn=_(),Wn=We(),Kl=nr(),Yl=Cn(),Wl=b(),Hl=TypeError,zl=Wl(\\"toPrimitive\\");Hn.exports=function(r,e){if(!Yn(r)||Wn(r))return r;var t=Kl(r,zl),i;if(t){if(e===void 0&&(e=\\"default\\"),i=kl(t,r,e),!Yn(i)||Wn(i))return i;throw Hl(\\"Can\'t convert object to primitive value\\")}return e===void 0&&(e=\\"number\\"),Yl(r,e)}});var Xe=n((PO,Jn)=>{var Jl=zn(),Vl=We();Jn.exports=function(r){var e=Jl(r,\\"string\\");return Vl(e)?e:e+\\"\\"}});var Rr=n((CO,Xn)=>{var Xl=E(),Vn=_(),Qe=Xl.document,Ql=Vn(Qe)&&Vn(Qe.createElement);Xn.exports=function(r){return Ql?Qe.createElement(r):{}}});var Ze=n((_O,Qn)=>{var Zl=C(),rf=O(),ef=Rr();Qn.exports=!Zl&&!rf(function(){return Object.defineProperty(ef(\\"div\\"),\\"a\\",{get:function(){return 7}}).a!=7})});var Xr=n(ra=>{var tf=C(),nf=x(),af=Xi(),of=Ir(),uf=ir(),vf=Xe(),sf=R(),cf=Ze(),Zn=Object.getOwnPropertyDescriptor;ra.f=tf?Zn:function(e,t){if(e=uf(e),t=vf(t),cf)try{return Zn(e,t)}catch{}if(sf(e,t))return of(!nf(af.f,e,t),e[t])}});var rt=n((AO,ea)=>{var lf=C(),ff=O();ea.exports=lf&&ff(function(){return Object.defineProperty(function(){},\\"prototype\\",{value:42,writable:!1}).prototype!=42})});var P=n((NO,ta)=>{var pf=_(),qf=String,df=TypeError;ta.exports=function(r){if(pf(r))return r;throw df(qf(r)+\\" is not an object\\")}});var j=n(na=>{var yf=C(),gf=Ze(),hf=rt(),Qr=P(),ia=Xe(),Ef=TypeError,et=Object.defineProperty,Sf=Object.getOwnPropertyDescriptor,tt=\\"enumerable\\",it=\\"configurable\\",nt=\\"writable\\";na.f=yf?hf?function(e,t,i){if(Qr(e),t=ia(t),Qr(i),typeof e==\\"function\\"&&t===\\"prototype\\"&&\\"value\\"in i&&nt in i&&!i[nt]){var a=Sf(e,t);a&&a[nt]&&(e[t]=i.value,i={configurable:it in i?i[it]:a[it],enumerable:tt in i?i[tt]:a[tt],writable:!1})}return et(e,t,i)}:et:function(e,t,i){if(Qr(e),t=ia(t),Qr(i),gf)try{return et(e,t,i)}catch{}if(\\"get\\"in i||\\"set\\"in i)throw Ef(\\"Accessors not supported\\");return\\"value\\"in i&&(e[t]=i.value),e}});var B=n((LO,aa)=>{var Of=C(),bf=j(),Tf=Ir();aa.exports=Of?function(r,e,t){return bf.f(r,e,Tf(1,t))}:function(r,e,t){return r[e]=t,r}});var ut=n((MO,ua)=>{var at=C(),If=R(),oa=Function.prototype,xf=at&&Object.getOwnPropertyDescriptor,ot=If(oa,\\"name\\"),mf=ot&&function(){}.name===\\"something\\",Rf=ot&&(!at||at&&xf(oa,\\"name\\").configurable);ua.exports={EXISTS:ot,PROPER:mf,CONFIGURABLE:Rf}});var Zr=n((DO,va)=>{var Pf=S(),Cf=g(),vt=Jr(),_f=Pf(Function.toString);Cf(vt.inspectSource)||(vt.inspectSource=function(r){return _f(r)});va.exports=vt.inspectSource});var la=n((UO,ca)=>{var wf=E(),Af=g(),sa=wf.WeakMap;ca.exports=Af(sa)&&/native code/.test(String(sa))});var re=n((FO,pa)=>{var Nf=Vr(),jf=Ve(),fa=Nf(\\"keys\\");pa.exports=function(r){return fa[r]||(fa[r]=jf(r))}});var ee=n((BO,qa)=>{qa.exports={}});var Cr=n(($O,Ea)=>{var Lf=la(),ha=E(),st=S(),Mf=_(),Df=B(),ct=R(),lt=Jr(),Uf=re(),Ff=ee(),da=\\"Object already initialized\\",pt=ha.TypeError,Bf=ha.WeakMap,te,Pr,ie,$f=function(r){return ie(r)?Pr(r):te(r,{})},Gf=function(r){return function(e){var t;if(!Mf(e)||(t=Pr(e)).type!==r)throw pt(\\"Incompatible receiver, \\"+r+\\" required\\");return t}};Lf||lt.state?($=lt.state||(lt.state=new Bf),ya=st($.get),ft=st($.has),ga=st($.set),te=function(r,e){if(ft($,r))throw pt(da);return e.facade=r,ga($,r,e),e},Pr=function(r){return ya($,r)||{}},ie=function(r){return ft($,r)}):(H=Uf(\\"state\\"),Ff[H]=!0,te=function(r,e){if(ct(r,H))throw pt(da);return e.facade=r,Df(r,H,e),e},Pr=function(r){return ct(r,H)?r[H]:{}},ie=function(r){return ct(r,H)});var $,ya,ft,ga,H;Ea.exports={set:te,get:Pr,has:ie,enforce:$f,getterFor:Gf}});var ba=n((GO,Oa)=>{var kf=O(),Kf=g(),ne=R(),qt=C(),Yf=ut().CONFIGURABLE,Wf=Zr(),Sa=Cr(),Hf=Sa.enforce,zf=Sa.get,ae=Object.defineProperty,Jf=qt&&!kf(function(){return ae(function(){},\\"length\\",{value:8}).length!==8}),Vf=String(String).split(\\"String\\"),Xf=Oa.exports=function(r,e,t){String(e).slice(0,7)===\\"Symbol(\\"&&(e=\\"[\\"+String(e).replace(/^Symbol\\\\(([^)]*)\\\\)/,\\"$1\\")+\\"]\\"),t&&t.getter&&(e=\\"get \\"+e),t&&t.setter&&(e=\\"set \\"+e),(!ne(r,\\"name\\")||Yf&&r.name!==e)&&(qt?ae(r,\\"name\\",{value:e,configurable:!0}):r.name=e),Jf&&t&&ne(t,\\"arity\\")&&r.length!==t.arity&&ae(r,\\"length\\",{value:t.arity});try{t&&ne(t,\\"constructor\\")&&t.constructor?qt&&ae(r,\\"prototype\\",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var i=Hf(r);return ne(i,\\"source\\")||(i.source=Vf.join(typeof e==\\"string\\"?e:\\"\\")),r};Function.prototype.toString=Xf(function(){return Kf(this)&&zf(this).source||Wf(this)},\\"toString\\")});var z=n((kO,Ta)=>{var Qf=g(),Zf=j(),rp=ba(),ep=zr();Ta.exports=function(r,e,t,i){i||(i={});var a=i.enumerable,o=i.name!==void 0?i.name:e;if(Qf(t)&&rp(t,o,i),i.global)a?r[e]=t:ep(e,t);else{try{i.unsafe?r[e]&&(a=!0):delete r[e]}catch{}a?r[e]=t:Zf.f(r,e,{value:t,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return r}});var xa=n((KO,Ia)=>{var tp=Math.ceil,ip=Math.floor;Ia.exports=Math.trunc||function(e){var t=+e;return(t>0?ip:tp)(t)}});var ur=n((YO,ma)=>{var np=xa();ma.exports=function(r){var e=+r;return e!==e||e===0?0:np(e)}});var Pa=n((WO,Ra)=>{var ap=ur(),op=Math.max,up=Math.min;Ra.exports=function(r,e){var t=ap(r);return t<0?op(t+e,0):up(t,e)}});var dt=n((HO,Ca)=>{var vp=ur(),sp=Math.min;Ca.exports=function(r){return r>0?sp(vp(r),9007199254740991):0}});var vr=n((zO,_a)=>{var cp=dt();_a.exports=function(r){return cp(r.length)}});var yt=n((JO,Aa)=>{var lp=ir(),fp=Pa(),pp=vr(),wa=function(r){return function(e,t,i){var a=lp(e),o=pp(a),s=fp(i,o),u;if(r&&t!=t){for(;o>s;)if(u=a[s++],u!=u)return!0}else for(;o>s;s++)if((r||s in a)&&a[s]===t)return r||s||0;return!r&&-1}};Aa.exports={includes:wa(!0),indexOf:wa(!1)}});var ht=n((VO,ja)=>{var qp=S(),gt=R(),dp=ir(),yp=yt().indexOf,gp=ee(),Na=qp([].push);ja.exports=function(r,e){var t=dp(r),i=0,a=[],o;for(o in t)!gt(gp,o)&&gt(t,o)&&Na(a,o);for(;e.length>i;)gt(t,o=e[i++])&&(~yp(a,o)||Na(a,o));return a}});var oe=n((XO,La)=>{La.exports=[\\"constructor\\",\\"hasOwnProperty\\",\\"isPrototypeOf\\",\\"propertyIsEnumerable\\",\\"toLocaleString\\",\\"toString\\",\\"valueOf\\"]});var Da=n(Ma=>{var hp=ht(),Ep=oe(),Sp=Ep.concat(\\"length\\",\\"prototype\\");Ma.f=Object.getOwnPropertyNames||function(e){return hp(e,Sp)}});var Fa=n(Ua=>{Ua.f=Object.getOwnPropertySymbols});var $a=n((rb,Ba)=>{var Op=L(),bp=S(),Tp=Da(),Ip=Fa(),xp=P(),mp=bp([].concat);Ba.exports=Op(\\"Reflect\\",\\"ownKeys\\")||function(e){var t=Tp.f(xp(e)),i=Ip.f;return i?mp(t,i(e)):t}});var ue=n((eb,ka)=>{var Ga=R(),Rp=$a(),Pp=Xr(),Cp=j();ka.exports=function(r,e,t){for(var i=Rp(e),a=Cp.f,o=Pp.f,s=0;s<i.length;s++){var u=i[s];!Ga(r,u)&&!(t&&Ga(t,u))&&a(r,u,o(e,u))}}});var Et=n((tb,Ka)=>{var _p=O(),wp=g(),Ap=/#|\\\\.prototype\\\\./,_r=function(r,e){var t=jp[Np(r)];return t==Mp?!0:t==Lp?!1:wp(e)?_p(e):!!e},Np=_r.normalize=function(r){return String(r).replace(Ap,\\".\\").toLowerCase()},jp=_r.data={},Lp=_r.NATIVE=\\"N\\",Mp=_r.POLYFILL=\\"P\\";Ka.exports=_r});var m=n((ib,Ya)=>{var St=E(),Dp=Xr().f,Up=B(),Fp=z(),Bp=zr(),$p=ue(),Gp=Et();Ya.exports=function(r,e){var t=r.target,i=r.global,a=r.stat,o,s,u,c,v,l;if(i?s=St:a?s=St[t]||Bp(t,{}):s=(St[t]||{}).prototype,s)for(u in e){if(v=e[u],r.dontCallGetSet?(l=Dp(s,u),c=l&&l.value):c=s[u],o=Gp(i?u:t+(a?\\".\\":\\"#\\")+u,r.forced),!o&&c!==void 0){if(typeof v==typeof c)continue;$p(v,c)}(r.sham||c&&c.sham)&&Up(v,\\"sham\\",!0),Fp(s,u,v,r)}}});var za=n((nb,Ha)=>{var kp=b(),Kp=kp(\\"toStringTag\\"),Wa={};Wa[Kp]=\\"z\\";Ha.exports=String(Wa)===\\"[object z]\\"});var se=n((ab,Ja)=>{var Yp=za(),Wp=g(),ve=k(),Hp=b(),zp=Hp(\\"toStringTag\\"),Jp=Object,Vp=ve(function(){return arguments}())==\\"Arguments\\",Xp=function(r,e){try{return r[e]}catch{}};Ja.exports=Yp?ve:function(r){var e,t,i;return r===void 0?\\"Undefined\\":r===null?\\"Null\\":typeof(t=Xp(e=Jp(r),zp))==\\"string\\"?t:Vp?ve(e):(i=ve(e))==\\"Object\\"&&Wp(e.callee)?\\"Arguments\\":i}});var J=n((ob,Va)=>{var Qp=se(),Zp=String;Va.exports=function(r){if(Qp(r)===\\"Symbol\\")throw TypeError(\\"Cannot convert a Symbol value to a string\\");return Zp(r)}});var le=n((ub,oo)=>{var sq=Tr(),ao=Function.prototype,io=ao.apply,no=ao.call;oo.exports=typeof Reflect==\\"object\\"&&Reflect.apply||(sq?no.bind(io):function(){return no.apply(io,arguments)})});var vo=n((vb,uo)=>{var cq=g(),lq=String,fq=TypeError;uo.exports=function(r){if(typeof r==\\"object\\"||cq(r))return r;throw fq(\\"Can\'t set \\"+lq(r)+\\" as a prototype\\")}});var Ar=n((sb,so)=>{var pq=S(),qq=P(),dq=vo();so.exports=Object.setPrototypeOf||(\\"__proto__\\"in{}?function(){var r=!1,e={},t;try{t=pq(Object.getOwnPropertyDescriptor(Object.prototype,\\"__proto__\\").set),t(e,[]),r=e instanceof Array}catch{}return function(a,o){return qq(a),dq(o),r?t(a,o):a.__proto__=o,a}}():void 0)});var lo=n((cb,co)=>{var yq=j().f;co.exports=function(r,e,t){t in r||yq(r,t,{configurable:!0,get:function(){return e[t]},set:function(i){e[t]=i}})}});var qo=n((lb,po)=>{var gq=g(),hq=_(),fo=Ar();po.exports=function(r,e,t){var i,a;return fo&&gq(i=e.constructor)&&i!==t&&hq(a=i.prototype)&&a!==t.prototype&&fo(r,a),r}});var go=n((fb,yo)=>{var Eq=J();yo.exports=function(r,e){return r===void 0?arguments.length<2?\\"\\":e:Eq(r)}});var Eo=n((pb,ho)=>{var Sq=_(),Oq=B();ho.exports=function(r,e){Sq(e)&&\\"cause\\"in e&&Oq(r,\\"cause\\",e.cause)}});var To=n((qb,bo)=>{var bq=S(),So=Error,Tq=bq(\\"\\".replace),Iq=function(r){return String(So(r).stack)}(\\"zxcasd\\"),Oo=/\\\\n\\\\s*at [^:]*:[^\\\\n]*/,xq=Oo.test(Iq);bo.exports=function(r,e){if(xq&&typeof r==\\"string\\"&&!So.prepareStackTrace)for(;e--;)r=Tq(r,Oo,\\"\\");return r}});var xo=n((db,Io)=>{var mq=O(),Rq=Ir();Io.exports=!mq(function(){var r=Error(\\"a\\");return\\"stack\\"in r?(Object.defineProperty(r,\\"stack\\",Rq(1,7)),r.stack!==7):!0})});var Ao=n((yb,wo)=>{\\"use strict\\";var mo=L(),Pq=R(),bt=B(),Cq=Y(),Ro=Ar(),Po=ue(),Co=lo(),_q=qo(),wq=go(),Aq=Eo(),Nq=To(),jq=xo(),Lq=C(),_o=N();wo.exports=function(r,e,t,i){var a=\\"stackTraceLimit\\",o=i?2:1,s=r.split(\\".\\"),u=s[s.length-1],c=mo.apply(null,s);if(!!c){var v=c.prototype;if(!_o&&Pq(v,\\"cause\\")&&delete v.cause,!t)return c;var l=mo(\\"Error\\"),f=e(function(q,p){var y=wq(i?p:q,void 0),d=i?new c(q):new c;return y!==void 0&&bt(d,\\"message\\",y),jq&&bt(d,\\"stack\\",Nq(d.stack,2)),this&&Cq(v,this)&&_q(d,this,f),arguments.length>o&&Aq(d,arguments[o]),d});if(f.prototype=v,u!==\\"Error\\"?Ro?Ro(f,l):Po(f,l,{name:!0}):Lq&&a in c&&(Co(f,c,a),Co(f,c,\\"prepareStackTrace\\")),Po(f,c),!_o)try{v.name!==u&&bt(v,\\"name\\",u),v.constructor=f}catch{}return f}}});var pe=n((gb,Mo)=>{var Dq=k();Mo.exports=Array.isArray||function(e){return Dq(e)==\\"Array\\"}});var Uo=n((hb,Do)=>{var Uq=TypeError,Fq=9007199254740991;Do.exports=function(r){if(r>Fq)throw Uq(\\"Maximum allowed index exceeded\\");return r}});var Nr=n((Eb,Bo)=>{var Fo=S(),Bq=D(),$q=Tr(),Gq=Fo(Fo.bind);Bo.exports=function(r,e){return Bq(r),e===void 0?r:$q?Gq(r,e):function(){return r.apply(e,arguments)}}});var ko=n((Sb,Go)=>{\\"use strict\\";var kq=pe(),Kq=vr(),Yq=Uo(),Wq=Nr(),$o=function(r,e,t,i,a,o,s,u){for(var c=a,v=0,l=s?Wq(s,u):!1,f,q;v<i;)v in t&&(f=l?l(t[v],v,e):t[v],o>0&&kq(f)?(q=Kq(f),c=$o(r,e,f,q,c,o-1)-1):(Yq(c+1),r[c]=f),c++),v++;return c};Go.exports=$o});var mt=n((Ob,zo)=>{var Hq=S(),zq=O(),Ko=g(),Jq=se(),Vq=L(),Xq=Zr(),Yo=function(){},Qq=[],Wo=Vq(\\"Reflect\\",\\"construct\\"),xt=/^\\\\s*(?:class|function)\\\\b/,Zq=Hq(xt.exec),rd=!xt.exec(Yo),jr=function(e){if(!Ko(e))return!1;try{return Wo(Yo,Qq,e),!0}catch{return!1}},Ho=function(e){if(!Ko(e))return!1;switch(Jq(e)){case\\"AsyncFunction\\":case\\"GeneratorFunction\\":case\\"AsyncGeneratorFunction\\":return!1}try{return rd||!!Zq(xt,Xq(e))}catch{return!0}};Ho.sham=!0;zo.exports=!Wo||zq(function(){var r;return jr(jr.call)||!jr(Object)||!jr(function(){r=!0})||r})?Ho:jr});var Qo=n((bb,Xo)=>{var Jo=pe(),ed=mt(),td=_(),id=b(),nd=id(\\"species\\"),Vo=Array;Xo.exports=function(r){var e;return Jo(r)&&(e=r.constructor,ed(e)&&(e===Vo||Jo(e.prototype))?e=void 0:td(e)&&(e=e[nd],e===null&&(e=void 0))),e===void 0?Vo:e}});var ru=n((Tb,Zo)=>{var ad=Qo();Zo.exports=function(r,e){return new(ad(r))(e===0?0:e)}});var tu=n((Ib,eu)=>{var fd=ht(),pd=oe();eu.exports=Object.keys||function(e){return fd(e,pd)}});var nu=n(iu=>{var qd=C(),dd=rt(),yd=j(),gd=P(),hd=ir(),Ed=tu();iu.f=qd&&!dd?Object.defineProperties:function(e,t){gd(e);for(var i=hd(t),a=Ed(t),o=a.length,s=0,u;o>s;)yd.f(e,u=a[s++],i[u]);return e}});var Rt=n((mb,au)=>{var Sd=L();au.exports=Sd(\\"document\\",\\"documentElement\\")});var Lr=n((Rb,fu)=>{var Od=P(),bd=nu(),ou=oe(),Td=ee(),Id=Rt(),xd=Rr(),md=re(),uu=\\">\\",vu=\\"<\\",Ct=\\"prototype\\",_t=\\"script\\",cu=md(\\"IE_PROTO\\"),Pt=function(){},lu=function(r){return vu+_t+uu+r+vu+\\"/\\"+_t+uu},su=function(r){r.write(lu(\\"\\")),r.close();var e=r.parentWindow.Object;return r=null,e},Rd=function(){var r=xd(\\"iframe\\"),e=\\"java\\"+_t+\\":\\",t;return r.style.display=\\"none\\",Id.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(lu(\\"document.F=Object\\")),t.close(),t.F},qe,de=function(){try{qe=new ActiveXObject(\\"htmlfile\\")}catch{}de=typeof document<\\"u\\"?document.domain&&qe?su(qe):Rd():su(qe);for(var r=ou.length;r--;)delete de[Ct][ou[r]];return de()};Td[cu]=!0;fu.exports=Object.create||function(e,t){var i;return e!==null?(Pt[Ct]=Od(e),i=new Pt,Pt[Ct]=null,i[cu]=e):i=de(),t===void 0?i:bd.f(i,t)}});var ye=n((Pb,pu)=>{var Pd=b(),Cd=Lr(),_d=j().f,wt=Pd(\\"unscopables\\"),At=Array.prototype;At[wt]==null&&_d(At,wt,{configurable:!0,value:Cd(null)});pu.exports=function(r){At[wt][r]=!0}});var du=n((Cb,qu)=>{qu.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var hu=n((_b,gu)=>{var Dd=Rr(),Nt=Dd(\\"span\\").classList,yu=Nt&&Nt.constructor&&Nt.constructor.prototype;gu.exports=yu===Object.prototype?void 0:yu});var sr=n((wb,Eu)=>{Eu.exports={}});var Ou=n((Ab,Su)=>{var Ud=O();Su.exports=!Ud(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})});var Lt=n((Nb,Tu)=>{var Fd=R(),Bd=g(),$d=ar(),Gd=re(),kd=Ou(),bu=Gd(\\"IE_PROTO\\"),jt=Object,Kd=jt.prototype;Tu.exports=kd?jt.getPrototypeOf:function(r){var e=$d(r);if(Fd(e,bu))return e[bu];var t=e.constructor;return Bd(t)&&e instanceof t?t.prototype:e instanceof jt?Kd:null}});var Ft=n((jb,mu)=>{\\"use strict\\";var Yd=O(),Wd=g(),Hd=_(),zd=Lr(),Iu=Lt(),Jd=z(),Vd=b(),Xd=N(),Ut=Vd(\\"iterator\\"),xu=!1,F,Mt,Dt;[].keys&&(Dt=[].keys(),\\"next\\"in Dt?(Mt=Iu(Iu(Dt)),Mt!==Object.prototype&&(F=Mt)):xu=!0);var Qd=!Hd(F)||Yd(function(){var r={};return F[Ut].call(r)!==r});Qd?F={}:Xd&&(F=zd(F));Wd(F[Ut])||Jd(F,Ut,function(){return this});mu.exports={IteratorPrototype:F,BUGGY_SAFARI_ITERATORS:xu}});var ge=n((Lb,Pu)=>{var Zd=j().f,ry=R(),ey=b(),Ru=ey(\\"toStringTag\\");Pu.exports=function(r,e,t){r&&!t&&(r=r.prototype),r&&!ry(r,Ru)&&Zd(r,Ru,{configurable:!0,value:e})}});var _u=n((Mb,Cu)=>{\\"use strict\\";var ty=Ft().IteratorPrototype,iy=Lr(),ny=Ir(),ay=ge(),oy=sr(),uy=function(){return this};Cu.exports=function(r,e,t,i){var a=e+\\" Iterator\\";return r.prototype=iy(ty,{next:ny(+!i,t)}),ay(r,a,!1,!0),oy[a]=uy,r}});var $u=n((Db,Bu)=>{\\"use strict\\";var vy=m(),sy=x(),he=N(),Uu=ut(),cy=g(),ly=_u(),wu=Lt(),Au=Ar(),fy=ge(),py=B(),Bt=z(),qy=b(),Nu=sr(),Fu=Ft(),dy=Uu.PROPER,yy=Uu.CONFIGURABLE,ju=Fu.IteratorPrototype,Ee=Fu.BUGGY_SAFARI_ITERATORS,Mr=qy(\\"iterator\\"),Lu=\\"keys\\",Dr=\\"values\\",Mu=\\"entries\\",Du=function(){return this};Bu.exports=function(r,e,t,i,a,o,s){ly(t,e,i);var u=function(T){if(T===a&&q)return q;if(!Ee&&T in l)return l[T];switch(T){case Lu:return function(){return new t(this,T)};case Dr:return function(){return new t(this,T)};case Mu:return function(){return new t(this,T)}}return function(){return new t(this)}},c=e+\\" Iterator\\",v=!1,l=r.prototype,f=l[Mr]||l[\\"@@iterator\\"]||a&&l[a],q=!Ee&&f||u(a),p=e==\\"Array\\"&&l.entries||f,y,d,I;if(p&&(y=wu(p.call(new r)),y!==Object.prototype&&y.next&&(!he&&wu(y)!==ju&&(Au?Au(y,ju):cy(y[Mr])||Bt(y,Mr,Du)),fy(y,c,!0,!0),he&&(Nu[c]=Du))),dy&&a==Dr&&f&&f.name!==Dr&&(!he&&yy?py(l,\\"name\\",Dr):(v=!0,q=function(){return sy(f,this)})),a)if(d={values:u(Dr),keys:o?q:u(Lu),entries:u(Mu)},s)for(I in d)(Ee||v||!(I in l))&&Bt(l,I,d[I]);else vy({target:e,proto:!0,forced:Ee||v},d);return(!he||s)&&l[Mr]!==q&&Bt(l,Mr,q,{name:a}),Nu[e]=q,d}});var Hu=n((Ub,Wu)=>{\\"use strict\\";var gy=ir(),$t=ye(),Gu=sr(),Ku=Cr(),hy=j().f,Ey=$u(),Sy=N(),Oy=C(),Yu=\\"Array Iterator\\",by=Ku.set,Ty=Ku.getterFor(Yu);Wu.exports=Ey(Array,\\"Array\\",function(r,e){by(this,{type:Yu,target:gy(r),index:0,kind:e})},function(){var r=Ty(this),e=r.target,t=r.kind,i=r.index++;return!e||i>=e.length?(r.target=void 0,{value:void 0,done:!0}):t==\\"keys\\"?{value:i,done:!1}:t==\\"values\\"?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},\\"values\\");var ku=Gu.Arguments=Gu.Array;$t(\\"keys\\");$t(\\"values\\");$t(\\"entries\\");if(!Sy&&Oy&&ku.name!==\\"values\\")try{hy(ku,\\"name\\",{value:\\"values\\"})}catch{}});var Yt=n((Fb,Zu)=>{\\"use strict\\";var xy=P();Zu.exports=function(){var r=xy(this),e=\\"\\";return r.hasIndices&&(e+=\\"d\\"),r.global&&(e+=\\"g\\"),r.ignoreCase&&(e+=\\"i\\"),r.multiline&&(e+=\\"m\\"),r.dotAll&&(e+=\\"s\\"),r.unicode&&(e+=\\"u\\"),r.unicodeSets&&(e+=\\"v\\"),r.sticky&&(e+=\\"y\\"),e}});var ev=n((Bb,rv)=>{var Wt=O(),my=E(),Ht=my.RegExp,zt=Wt(function(){var r=Ht(\\"a\\",\\"y\\");return r.lastIndex=2,r.exec(\\"abcd\\")!=null}),Ry=zt||Wt(function(){return!Ht(\\"a\\",\\"y\\").sticky}),Py=zt||Wt(function(){var r=Ht(\\"^r\\",\\"gy\\");return r.lastIndex=2,r.exec(\\"str\\")!=null});rv.exports={BROKEN_CARET:Py,MISSED_STICKY:Ry,UNSUPPORTED_Y:zt}});var iv=n(($b,tv)=>{var Cy=O(),_y=E(),wy=_y.RegExp;tv.exports=Cy(function(){var r=wy(\\".\\",\\"s\\");return!(r.dotAll&&r.exec(`\\n`)&&r.flags===\\"s\\")})});var av=n((Gb,nv)=>{var Ay=O(),Ny=E(),jy=Ny.RegExp;nv.exports=Ay(function(){var r=jy(\\"(?<a>b)\\",\\"g\\");return r.exec(\\"b\\").groups.a!==\\"b\\"||\\"b\\".replace(r,\\"$<a>c\\")!==\\"bc\\"})});var Te=n((kb,uv)=>{\\"use strict\\";var cr=x(),be=S(),Ly=J(),My=Yt(),Dy=ev(),Uy=Vr(),Fy=Lr(),By=Cr().get,$y=iv(),Gy=av(),ky=Uy(\\"native-string-replace\\",String.prototype.replace),Oe=RegExp.prototype.exec,Vt=Oe,Ky=be(\\"\\".charAt),Yy=be(\\"\\".indexOf),Wy=be(\\"\\".replace),Jt=be(\\"\\".slice),Xt=function(){var r=/a/,e=/b*/g;return cr(Oe,r,\\"a\\"),cr(Oe,e,\\"a\\"),r.lastIndex!==0||e.lastIndex!==0}(),ov=Dy.BROKEN_CARET,Qt=/()??/.exec(\\"\\")[1]!==void 0,Hy=Xt||Qt||ov||$y||Gy;Hy&&(Vt=function(e){var t=this,i=By(t),a=Ly(e),o=i.raw,s,u,c,v,l,f,q;if(o)return o.lastIndex=t.lastIndex,s=cr(Vt,o,a),t.lastIndex=o.lastIndex,s;var p=i.groups,y=ov&&t.sticky,d=cr(My,t),I=t.source,T=0,h=a;if(y&&(d=Wy(d,\\"y\\",\\"\\"),Yy(d,\\"g\\")===-1&&(d+=\\"g\\"),h=Jt(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Ky(a,t.lastIndex-1)!==`\\n`)&&(I=\\"(?: \\"+I+\\")\\",h=\\" \\"+h,T++),u=new RegExp(\\"^(?:\\"+I+\\")\\",d)),Qt&&(u=new RegExp(\\"^\\"+I+\\"$(?!\\\\\\\\s)\\",d)),Xt&&(c=t.lastIndex),v=cr(Oe,y?u:t,h),y?v?(v.input=Jt(v.input,T),v[0]=Jt(v[0],T),v.index=t.lastIndex,t.lastIndex+=v[0].length):t.lastIndex=0:Xt&&v&&(t.lastIndex=t.global?v.index+v[0].length:c),Qt&&v&&v.length>1&&cr(ky,v[0],u,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(v[l]=void 0)}),v&&p)for(v.groups=f=Fy(null),l=0;l<p.length;l++)q=p[l],f[q[0]]=v[q[1]];return v});uv.exports=Vt});var Zt=n(()=>{\\"use strict\\";var zy=m(),vv=Te();zy({target:\\"RegExp\\",proto:!0,forced:/./.exec!==vv},{exec:vv})});var qv=n((Wb,pv)=>{\\"use strict\\";Zt();var sv=S(),cv=z(),Jy=Te(),lv=O(),fv=b(),Vy=B(),Xy=fv(\\"species\\"),ri=RegExp.prototype;pv.exports=function(r,e,t,i){var a=fv(r),o=!lv(function(){var v={};return v[a]=function(){return 7},\\"\\"[r](v)!=7}),s=o&&!lv(function(){var v=!1,l=/a/;return r===\\"split\\"&&(l={},l.constructor={},l.constructor[Xy]=function(){return l},l.flags=\\"\\",l[a]=/./[a]),l.exec=function(){return v=!0,null},l[a](\\"\\"),!v});if(!o||!s||t){var u=sv(/./[a]),c=e(a,\\"\\"[r],function(v,l,f,q,p){var y=sv(v),d=l.exec;return d===Jy||d===ri.exec?o&&!p?{done:!0,value:u(l,f,q)}:{done:!0,value:y(f,l,q)}:{done:!1}});cv(String.prototype,r,c[0]),cv(ri,a,c[1])}i&&Vy(ri[a],\\"sham\\",!0)}});var hv=n((Hb,gv)=>{var ei=S(),Qy=ur(),Zy=J(),rg=tr(),eg=ei(\\"\\".charAt),dv=ei(\\"\\".charCodeAt),tg=ei(\\"\\".slice),yv=function(r){return function(e,t){var i=Zy(rg(e)),a=Qy(t),o=i.length,s,u;return a<0||a>=o?r?\\"\\":void 0:(s=dv(i,a),s<55296||s>56319||a+1===o||(u=dv(i,a+1))<56320||u>57343?r?eg(i,a):s:r?tg(i,a,a+2):(s-55296<<10)+(u-56320)+65536)}};gv.exports={codeAt:yv(!1),charAt:yv(!0)}});var Sv=n((zb,Ev)=>{\\"use strict\\";var ig=hv().charAt;Ev.exports=function(r,e,t){return e+(t?ig(r,e).length:1)}});var ai=n((Jb,Ov)=>{var ni=S(),ng=ar(),ag=Math.floor,ti=ni(\\"\\".charAt),og=ni(\\"\\".replace),ii=ni(\\"\\".slice),ug=/\\\\$([$&\'`]|\\\\d{1,2}|<[^>]*>)/g,vg=/\\\\$([$&\'`]|\\\\d{1,2})/g;Ov.exports=function(r,e,t,i,a,o){var s=t+r.length,u=i.length,c=vg;return a!==void 0&&(a=ng(a),c=ug),og(o,c,function(v,l){var f;switch(ti(l,0)){case\\"$\\":return\\"$\\";case\\"&\\":return r;case\\"`\\":return ii(e,0,t);case\\"\'\\":return ii(e,s);case\\"<\\":f=a[ii(l,1,-1)];break;default:var q=+l;if(q===0)return v;if(q>u){var p=ag(q/10);return p===0?v:p<=u?i[p-1]===void 0?ti(l,1):i[p-1]+ti(l,1):v}f=i[q-1]}return f===void 0?\\"\\":f})}});var Iv=n((Vb,Tv)=>{var bv=x(),sg=P(),cg=g(),lg=k(),fg=Te(),pg=TypeError;Tv.exports=function(r,e){var t=r.exec;if(cg(t)){var i=bv(t,r,e);return i!==null&&sg(i),i}if(lg(r)===\\"RegExp\\")return bv(fg,r,e);throw pg(\\"RegExp#exec called on incompatible receiver\\")}});var _v=n((Xb,Cv)=>{var jg=_(),Lg=k(),Mg=b(),Dg=Mg(\\"match\\");Cv.exports=function(r){var e;return jg(r)&&((e=r[Dg])!==void 0?!!e:Lg(r)==\\"RegExp\\")}});var Nv=n((Qb,Av)=>{var Ug=x(),Fg=R(),Bg=Y(),$g=Yt(),wv=RegExp.prototype;Av.exports=function(r){var e=r.flags;return e===void 0&&!(\\"flags\\"in wv)&&!Fg(r,\\"flags\\")&&Bg(wv,r)?Ug($g,r):e}});var Bv=n((Zb,Fv)=>{var th=D(),ih=ar(),nh=Be(),ah=vr(),oh=TypeError,Uv=function(r){return function(e,t,i,a){th(t);var o=ih(e),s=nh(o),u=ah(o),c=r?u-1:0,v=r?-1:1;if(i<2)for(;;){if(c in s){a=s[c],c+=v;break}if(c+=v,r?c<0:u<=c)throw oh(\\"Reduce of empty array with no initial value\\")}for(;r?c>=0:u>c;c+=v)c in s&&(a=t(a,s[c],c,o));return a}};Fv.exports={left:Uv(!1),right:Uv(!0)}});var Gv=n((rT,$v)=>{\\"use strict\\";var uh=O();$v.exports=function(r,e){var t=[][r];return!!t&&uh(function(){t.call(null,e||function(){return 1},1)})}});var pr=n((eT,kv)=>{var vh=k(),sh=E();kv.exports=vh(sh.process)==\\"process\\"});var Hv=n((tT,Wv)=>{\\"use strict\\";var yh=L(),gh=j(),hh=b(),Eh=C(),Yv=hh(\\"species\\");Wv.exports=function(r){var e=yh(r),t=gh.f;Eh&&e&&!e[Yv]&&t(e,Yv,{configurable:!0,get:function(){return this}})}});var Jv=n((iT,zv)=>{var Sh=Y(),Oh=TypeError;zv.exports=function(r,e){if(Sh(e,r))return r;throw Oh(\\"Incorrect invocation\\")}});var Xv=n((nT,Vv)=>{var bh=mt(),Th=mr(),Ih=TypeError;Vv.exports=function(r){if(bh(r))return r;throw Ih(Th(r)+\\" is not a constructor\\")}});var rs=n((aT,Zv)=>{var Qv=P(),xh=Xv(),mh=K(),Rh=b(),Ph=Rh(\\"species\\");Zv.exports=function(r,e){var t=Qv(r).constructor,i;return t===void 0||mh(i=Qv(t)[Ph])?e:xh(i)}});var ts=n((oT,es)=>{var Ch=S();es.exports=Ch([].slice)});var ns=n((uT,is)=>{var _h=TypeError;is.exports=function(r,e){if(r<e)throw _h(\\"Not enough arguments\\");return r}});var si=n((vT,as)=>{var wh=xr();as.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(wh)});var hi=n((sT,ps)=>{var w=E(),Ah=le(),Nh=Nr(),os=g(),jh=R(),Lh=O(),us=Rt(),Mh=ts(),vs=Rr(),Dh=ns(),Uh=si(),Fh=pr(),di=w.setImmediate,yi=w.clearImmediate,Bh=w.process,ci=w.Dispatch,$h=w.Function,ss=w.MessageChannel,Gh=w.String,li=0,Fr={},cs=\\"onreadystatechange\\",Br,Q,fi,pi;try{Br=w.location}catch{}var gi=function(r){if(jh(Fr,r)){var e=Fr[r];delete Fr[r],e()}},qi=function(r){return function(){gi(r)}},ls=function(r){gi(r.data)},fs=function(r){w.postMessage(Gh(r),Br.protocol+\\"//\\"+Br.host)};(!di||!yi)&&(di=function(e){Dh(arguments.length,1);var t=os(e)?e:$h(e),i=Mh(arguments,1);return Fr[++li]=function(){Ah(t,void 0,i)},Q(li),li},yi=function(e){delete Fr[e]},Fh?Q=function(r){Bh.nextTick(qi(r))}:ci&&ci.now?Q=function(r){ci.now(qi(r))}:ss&&!Uh?(fi=new ss,pi=fi.port2,fi.port1.onmessage=ls,Q=Nh(pi.postMessage,pi)):w.addEventListener&&os(w.postMessage)&&!w.importScripts&&Br&&Br.protocol!==\\"file:\\"&&!Lh(fs)?(Q=fs,w.addEventListener(\\"message\\",ls,!1)):cs in vs(\\"script\\")?Q=function(r){us.appendChild(vs(\\"script\\"))[cs]=function(){us.removeChild(this),gi(r)}}:Q=function(r){setTimeout(qi(r),0)});ps.exports={set:di,clear:yi}});var ds=n((cT,qs)=>{var kh=xr(),Kh=E();qs.exports=/ipad|iphone|ipod/i.test(kh)&&Kh.Pebble!==void 0});var gs=n((lT,ys)=>{var Yh=xr();ys.exports=/web0s(?!.*chrome)/i.test(Yh)});var ms=n((fT,xs)=>{var rr=E(),hs=Nr(),Wh=Xr().f,Ei=hi().set,Hh=si(),zh=ds(),Jh=gs(),Si=pr(),Es=rr.MutationObserver||rr.WebKitMutationObserver,Ss=rr.document,Os=rr.process,xe=rr.Promise,bs=Wh(rr,\\"queueMicrotask\\"),Is=bs&&bs.value,$r,Z,Gr,qr,Oi,bi,me,Ts;Is||($r=function(){var r,e;for(Si&&(r=Os.domain)&&r.exit();Z;){e=Z.fn,Z=Z.next;try{e()}catch(t){throw Z?qr():Gr=void 0,t}}Gr=void 0,r&&r.enter()},!Hh&&!Si&&!Jh&&Es&&Ss?(Oi=!0,bi=Ss.createTextNode(\\"\\"),new Es($r).observe(bi,{characterData:!0}),qr=function(){bi.data=Oi=!Oi}):!zh&&xe&&xe.resolve?(me=xe.resolve(void 0),me.constructor=xe,Ts=hs(me.then,me),qr=function(){Ts($r)}):Si?qr=function(){Os.nextTick($r)}:(Ei=hs(Ei,rr),qr=function(){Ei($r)}));xs.exports=Is||function(r){var e={fn:r,next:void 0};Gr&&(Gr.next=e),Z||(Z=e,qr()),Gr=e}});var Ps=n((pT,Rs)=>{var Vh=E();Rs.exports=function(r,e){var t=Vh.console;t&&t.error&&(arguments.length==1?t.error(r):t.error(r,e))}});var Re=n((qT,Cs)=>{Cs.exports=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}}});var As=n((dT,ws)=>{var _s=function(){this.head=null,this.tail=null};_s.prototype={add:function(r){var e={item:r,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r)return this.head=r.next,this.tail===r&&(this.tail=null),r.item}};ws.exports=_s});var dr=n((yT,Ns)=>{var Xh=E();Ns.exports=Xh.Promise});var Ti=n((gT,js)=>{js.exports=typeof Deno==\\"object\\"&&Deno&&typeof Deno.version==\\"object\\"});var Ms=n((hT,Ls)=>{var Qh=Ti(),Zh=pr();Ls.exports=!Qh&&!Zh&&typeof window==\\"object\\"&&typeof document==\\"object\\"});var yr=n((ET,Fs)=>{var rE=E(),kr=dr(),eE=g(),tE=Et(),iE=Zr(),nE=b(),aE=Ms(),oE=Ti(),uE=N(),Ii=Hr(),Ds=kr&&kr.prototype,vE=nE(\\"species\\"),xi=!1,Us=eE(rE.PromiseRejectionEvent),sE=tE(\\"Promise\\",function(){var r=iE(kr),e=r!==String(kr);if(!e&&Ii===66||uE&&!(Ds.catch&&Ds.finally))return!0;if(!Ii||Ii<51||!/native code/.test(r)){var t=new kr(function(o){o(1)}),i=function(o){o(function(){},function(){})},a=t.constructor={};if(a[vE]=i,xi=t.then(function(){})instanceof i,!xi)return!0}return!e&&(aE||oE)&&!Us});Fs.exports={CONSTRUCTOR:sE,REJECTION_EVENT:Us,SUBCLASSING:xi}});var gr=n((ST,$s)=>{\\"use strict\\";var Bs=D(),cE=TypeError,lE=function(r){var e,t;this.promise=new r(function(i,a){if(e!==void 0||t!==void 0)throw cE(\\"Bad Promise constructor\\");e=i,t=a}),this.resolve=Bs(e),this.reject=Bs(t)};$s.exports.f=function(r){return new lE(r)}});var oc=n(()=>{\\"use strict\\";var fE=m(),pE=N(),we=pr(),G=E(),Or=x(),Gs=z(),ks=Ar(),qE=ge(),dE=Hv(),yE=D(),_e=g(),gE=_(),hE=Jv(),EE=rs(),zs=hi().set,_i=ms(),SE=Ps(),OE=Re(),bE=As(),Js=Cr(),Ae=dr(),wi=yr(),Vs=gr(),Ne=\\"Promise\\",Xs=wi.CONSTRUCTOR,TE=wi.REJECTION_EVENT,IE=wi.SUBCLASSING,mi=Js.getterFor(Ne),xE=Js.set,hr=Ae&&Ae.prototype,er=Ae,Pe=hr,Qs=G.TypeError,Ri=G.document,Ai=G.process,Pi=Vs.f,mE=Pi,RE=!!(Ri&&Ri.createEvent&&G.dispatchEvent),Zs=\\"unhandledrejection\\",PE=\\"rejectionhandled\\",Ks=0,rc=1,CE=2,Ni=1,ec=2,Ce,Ys,_E,Ws,tc=function(r){var e;return gE(r)&&_e(e=r.then)?e:!1},ic=function(r,e){var t=e.value,i=e.state==rc,a=i?r.ok:r.fail,o=r.resolve,s=r.reject,u=r.domain,c,v,l;try{a?(i||(e.rejection===ec&&AE(e),e.rejection=Ni),a===!0?c=t:(u&&u.enter(),c=a(t),u&&(u.exit(),l=!0)),c===r.promise?s(Qs(\\"Promise-chain cycle\\")):(v=tc(c))?Or(v,c,o,s):o(c)):s(t)}catch(f){u&&!l&&u.exit(),s(f)}},nc=function(r,e){r.notified||(r.notified=!0,_i(function(){for(var t=r.reactions,i;i=t.get();)ic(i,r);r.notified=!1,e&&!r.rejection&&wE(r)}))},ac=function(r,e,t){var i,a;RE?(i=Ri.createEvent(\\"Event\\"),i.promise=e,i.reason=t,i.initEvent(r,!1,!0),G.dispatchEvent(i)):i={promise:e,reason:t},!TE&&(a=G[\\"on\\"+r])?a(i):r===Zs&&SE(\\"Unhandled promise rejection\\",t)},wE=function(r){Or(zs,G,function(){var e=r.facade,t=r.value,i=Hs(r),a;if(i&&(a=OE(function(){we?Ai.emit(\\"unhandledRejection\\",t,e):ac(Zs,e,t)}),r.rejection=we||Hs(r)?ec:Ni,a.error))throw a.value})},Hs=function(r){return r.rejection!==Ni&&!r.parent},AE=function(r){Or(zs,G,function(){var e=r.facade;we?Ai.emit(\\"rejectionHandled\\",e):ac(PE,e,r.value)})},Er=function(r,e,t){return function(i){r(e,i,t)}},Sr=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=CE,nc(r,!0))},Ci=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw Qs(\\"Promise can\'t be resolved itself\\");var i=tc(e);i?_i(function(){var a={done:!1};try{Or(i,e,Er(Ci,a,r),Er(Sr,a,r))}catch(o){Sr(a,o,r)}}):(r.value=e,r.state=rc,nc(r,!1))}catch(a){Sr({done:!1},a,r)}}};if(Xs&&(er=function(e){hE(this,Pe),yE(e),Or(Ce,this);var t=mi(this);try{e(Er(Ci,t),Er(Sr,t))}catch(i){Sr(t,i)}},Pe=er.prototype,Ce=function(e){xE(this,{type:Ne,done:!1,notified:!1,parent:!1,reactions:new bE,rejection:!1,state:Ks,value:void 0})},Ce.prototype=Gs(Pe,\\"then\\",function(e,t){var i=mi(this),a=Pi(EE(this,er));return i.parent=!0,a.ok=_e(e)?e:!0,a.fail=_e(t)&&t,a.domain=we?Ai.domain:void 0,i.state==Ks?i.reactions.add(a):_i(function(){ic(a,i)}),a.promise}),Ys=function(){var r=new Ce,e=mi(r);this.promise=r,this.resolve=Er(Ci,e),this.reject=Er(Sr,e)},Vs.f=Pi=function(r){return r===er||r===_E?new Ys(r):mE(r)},!pE&&_e(Ae)&&hr!==Object.prototype)){Ws=hr.then,IE||Gs(hr,\\"then\\",function(e,t){var i=this;return new er(function(a,o){Or(Ws,i,a,o)}).then(e,t)},{unsafe:!0});try{delete hr.constructor}catch{}ks&&ks(hr,Pe)}fE({global:!0,constructor:!0,wrap:!0,forced:Xs},{Promise:er});qE(er,Ne,!1,!0);dE(Ne)});var vc=n((TT,uc)=>{var NE=b(),jE=sr(),LE=NE(\\"iterator\\"),ME=Array.prototype;uc.exports=function(r){return r!==void 0&&(jE.Array===r||ME[LE]===r)}});var ji=n((IT,cc)=>{var DE=se(),sc=nr(),UE=K(),FE=sr(),BE=b(),$E=BE(\\"iterator\\");cc.exports=function(r){if(!UE(r))return sc(r,$E)||sc(r,\\"@@iterator\\")||FE[DE(r)]}});var fc=n((xT,lc)=>{var GE=x(),kE=D(),KE=P(),YE=mr(),WE=ji(),HE=TypeError;lc.exports=function(r,e){var t=arguments.length<2?WE(r):e;if(kE(t))return KE(GE(t,r));throw HE(YE(r)+\\" is not iterable\\")}});var dc=n((mT,qc)=>{var zE=x(),pc=P(),JE=nr();qc.exports=function(r,e,t){var i,a;pc(r);try{if(i=JE(r,\\"return\\"),!i){if(e===\\"throw\\")throw t;return t}i=zE(i,r)}catch(o){a=!0,i=o}if(e===\\"throw\\")throw t;if(a)throw i;return pc(i),t}});var Li=n((RT,Ec)=>{var VE=Nr(),XE=x(),QE=P(),ZE=mr(),rS=vc(),eS=vr(),yc=Y(),tS=fc(),iS=ji(),gc=dc(),nS=TypeError,je=function(r,e){this.stopped=r,this.result=e},hc=je.prototype;Ec.exports=function(r,e,t){var i=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),s=!!(t&&t.IS_ITERATOR),u=!!(t&&t.INTERRUPTED),c=VE(e,i),v,l,f,q,p,y,d,I=function(h){return v&&gc(v,\\"normal\\",h),new je(!0,h)},T=function(h){return a?(QE(h),u?c(h[0],h[1],I):c(h[0],h[1])):u?c(h,I):c(h)};if(o)v=r.iterator;else if(s)v=r;else{if(l=iS(r),!l)throw nS(ZE(r)+\\" is not iterable\\");if(rS(l)){for(f=0,q=eS(r);q>f;f++)if(p=T(r[f]),p&&yc(hc,p))return p;return new je(!1)}v=tS(r,l)}for(y=o?r.next:v.next;!(d=XE(y,v)).done;){try{p=T(d.value)}catch(h){gc(v,\\"throw\\",h)}if(typeof p==\\"object\\"&&p&&yc(hc,p))return p}return new je(!1)}});var Ic=n((PT,Tc)=>{var aS=b(),Oc=aS(\\"iterator\\"),bc=!1;try{Sc=0,Mi={next:function(){return{done:!!Sc++}},return:function(){bc=!0}},Mi[Oc]=function(){return this},Array.from(Mi,function(){throw 2})}catch{}var Sc,Mi;Tc.exports=function(r,e){if(!e&&!bc)return!1;var t=!1;try{var i={};i[Oc]=function(){return{next:function(){return{done:t=!0}}}},r(i)}catch{}return t}});var Di=n((CT,xc)=>{var oS=dr(),uS=Ic(),vS=yr().CONSTRUCTOR;xc.exports=vS||!uS(function(r){oS.all(r).then(void 0,function(){})})});var mc=n(()=>{\\"use strict\\";var sS=m(),cS=x(),lS=D(),fS=gr(),pS=Re(),qS=Li(),dS=Di();sS({target:\\"Promise\\",stat:!0,forced:dS},{all:function(e){var t=this,i=fS.f(t),a=i.resolve,o=i.reject,s=pS(function(){var u=lS(t.resolve),c=[],v=0,l=1;qS(e,function(f){var q=v++,p=!1;l++,cS(u,t,f).then(function(y){p||(p=!0,c[q]=y,--l||a(c))},o)}),--l||a(c)});return s.error&&o(s.value),i.promise}})});var Pc=n(()=>{\\"use strict\\";var yS=m(),gS=N(),hS=yr().CONSTRUCTOR,Fi=dr(),ES=L(),SS=g(),OS=z(),Rc=Fi&&Fi.prototype;yS({target:\\"Promise\\",proto:!0,forced:hS,real:!0},{catch:function(r){return this.then(void 0,r)}});!gS&&SS(Fi)&&(Ui=ES(\\"Promise\\").prototype.catch,Rc.catch!==Ui&&OS(Rc,\\"catch\\",Ui,{unsafe:!0}));var Ui});var Cc=n(()=>{\\"use strict\\";var bS=m(),TS=x(),IS=D(),xS=gr(),mS=Re(),RS=Li(),PS=Di();bS({target:\\"Promise\\",stat:!0,forced:PS},{race:function(e){var t=this,i=xS.f(t),a=i.reject,o=mS(function(){var s=IS(t.resolve);RS(e,function(u){TS(s,t,u).then(i.resolve,a)})});return o.error&&a(o.value),i.promise}})});var _c=n(()=>{\\"use strict\\";var CS=m(),_S=x(),wS=gr(),AS=yr().CONSTRUCTOR;CS({target:\\"Promise\\",stat:!0,forced:AS},{reject:function(e){var t=wS.f(this);return _S(t.reject,void 0,e),t.promise}})});var Ac=n((UT,wc)=>{var NS=P(),jS=_(),LS=gr();wc.exports=function(r,e){if(NS(r),jS(e)&&e.constructor===r)return e;var t=LS.f(r),i=t.resolve;return i(e),t.promise}});var Lc=n(()=>{\\"use strict\\";var MS=m(),DS=L(),Nc=N(),US=dr(),jc=yr().CONSTRUCTOR,FS=Ac(),BS=DS(\\"Promise\\"),$S=Nc&&!jc;MS({target:\\"Promise\\",stat:!0,forced:Nc||jc},{resolve:function(e){return FS($S&&this===BS?US:this,e)}})});var rq=m(),eq=C(),tq=E(),ce=S(),iq=R(),nq=g(),aq=Y(),oq=J(),uq=j().f,vq=ue(),U=tq.Symbol,V=U&&U.prototype;eq&&nq(U)&&(!(\\"description\\"in V)||U().description!==void 0)&&(Ot={},wr=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:oq(arguments[0]),t=aq(V,this)?new U(e):e===void 0?U():U(e);return e===\\"\\"&&(Ot[t]=!0),t},vq(wr,U),wr.prototype=V,V.constructor=wr,Xa=String(U(\\"test\\"))==\\"Symbol(test)\\",Qa=ce(V.valueOf),Za=ce(V.toString),ro=/^Symbol\\\\((.*)\\\\)[^)]+$/,eo=ce(\\"\\".replace),to=ce(\\"\\".slice),uq(V,\\"description\\",{configurable:!0,get:function(){var e=Qa(this);if(iq(Ot,e))return\\"\\";var t=Za(e),i=Xa?to(t,7,-1):eo(t,ro,\\"$1\\");return i===\\"\\"?void 0:i}}),rq({global:!0,constructor:!0,forced:!0},{Symbol:wr}));var Ot,wr,Xa,Qa,Za,ro,eo,to;var jo=m(),Mq=E(),M=le(),Lo=Ao(),Tt=\\"WebAssembly\\",No=Mq[Tt],fe=Error(\\"e\\",{cause:7}).cause!==7,X=function(r,e){var t={};t[r]=Lo(r,e,fe),jo({global:!0,constructor:!0,arity:1,forced:fe},t)},It=function(r,e){if(No&&No[r]){var t={};t[r]=Lo(Tt+\\".\\"+r,e,fe),jo({target:Tt,stat:!0,constructor:!0,arity:1,forced:fe},t)}};X(\\"Error\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"EvalError\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"RangeError\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"ReferenceError\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"SyntaxError\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"TypeError\\",function(r){return function(t){return M(r,this,arguments)}});X(\\"URIError\\",function(r){return function(t){return M(r,this,arguments)}});It(\\"CompileError\\",function(r){return function(t){return M(r,this,arguments)}});It(\\"LinkError\\",function(r){return function(t){return M(r,this,arguments)}});It(\\"RuntimeError\\",function(r){return function(t){return M(r,this,arguments)}});var od=m(),ud=ko(),vd=ar(),sd=vr(),cd=ur(),ld=ru();od({target:\\"Array\\",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=vd(this),i=sd(t),a=ld(t,0);return a.length=ud(a,t,t,i,0,e===void 0?1:cd(e)),a}});var wd=ye();wd(\\"flat\\");var Ad=m(),Nd=yt().includes,jd=O(),Ld=ye(),Md=jd(function(){return!Array(1).includes()});Ad({target:\\"Array\\",proto:!0,forced:Md},{includes:function(e){return Nd(this,e,arguments.length>1?arguments[1]:void 0)}});Ld(\\"includes\\");var zu=E(),Vu=du(),Iy=hu(),Ur=Hu(),Gt=B(),Xu=b(),kt=Xu(\\"iterator\\"),Ju=Xu(\\"toStringTag\\"),Kt=Ur.values,Qu=function(r,e){if(r){if(r[kt]!==Kt)try{Gt(r,kt,Kt)}catch{r[kt]=Kt}if(r[Ju]||Gt(r,Ju,e),Vu[e]){for(var t in Ur)if(r[t]!==Ur[t])try{Gt(r,t,Ur[t])}catch{r[t]=Ur[t]}}}};for(Se in Vu)Qu(zu[Se]&&zu[Se].prototype,Se);var Se;Qu(Iy,\\"DOMTokenList\\");var HT=kc(Zt());var qg=le(),xv=x(),Ie=S(),dg=qv(),yg=O(),gg=P(),hg=g(),Eg=K(),Sg=ur(),Og=dt(),lr=J(),bg=tr(),Tg=Sv(),Ig=nr(),xg=ai(),mg=Iv(),Rg=b(),ui=Rg(\\"replace\\"),Pg=Math.max,Cg=Math.min,_g=Ie([].concat),oi=Ie([].push),mv=Ie(\\"\\".indexOf),Rv=Ie(\\"\\".slice),wg=function(r){return r===void 0?r:String(r)},Ag=function(){return\\"a\\".replace(/./,\\"$0\\")===\\"$0\\"}(),Pv=function(){return/./[ui]?/./[ui](\\"a\\",\\"$0\\")===\\"\\":!1}(),Ng=!yg(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:\\"7\\"},e},\\"\\".replace(r,\\"$<a>\\")!==\\"7\\"});dg(\\"replace\\",function(r,e,t){var i=Pv?\\"$\\":\\"$0\\";return[function(o,s){var u=bg(this),c=Eg(o)?void 0:Ig(o,ui);return c?xv(c,o,u,s):xv(e,lr(u),o,s)},function(a,o){var s=gg(this),u=lr(a);if(typeof o==\\"string\\"&&mv(o,i)===-1&&mv(o,\\"$<\\")===-1){var c=t(e,s,u,o);if(c.done)return c.value}var v=hg(o);v||(o=lr(o));var l=s.global;if(l){var f=s.unicode;s.lastIndex=0}for(var q=[];;){var p=mg(s,u);if(p===null||(oi(q,p),!l))break;var y=lr(p[0]);y===\\"\\"&&(s.lastIndex=Tg(u,Og(s.lastIndex),f))}for(var d=\\"\\",I=0,T=0;T<q.length;T++){p=q[T];for(var h=lr(p[0]),br=Pg(Cg(Sg(p.index),u.length),0),Le=[],Me=1;Me<p.length;Me++)oi(Le,wg(p[Me]));var De=p.groups;if(v){var Bi=_g([h],Le,br,u);De!==void 0&&oi(Bi,De);var $i=lr(qg(o,void 0,Bi))}else $i=xg(h,u,br,Le,De,o);br>=I&&(d+=Rv(u,I,br)+$i,I=br+h.length)}return d+Rv(u,I)}]},!Ng||!Ag||Pv);var Gg=m(),kg=x(),vi=S(),jv=tr(),Kg=g(),Yg=K(),Wg=_v(),fr=J(),Hg=nr(),zg=Nv(),Jg=ai(),Vg=b(),Xg=N(),Qg=Vg(\\"replace\\"),Zg=TypeError,Dv=vi(\\"\\".indexOf),rh=vi(\\"\\".replace),Lv=vi(\\"\\".slice),eh=Math.max,Mv=function(r,e,t){return t>r.length?-1:e===\\"\\"?t:Dv(r,e,t)};Gg({target:\\"String\\",proto:!0},{replaceAll:function(e,t){var i=jv(this),a,o,s,u,c,v,l,f,q,p=0,y=0,d=\\"\\";if(!Yg(e)){if(a=Wg(e),a&&(o=fr(jv(zg(e))),!~Dv(o,\\"g\\")))throw Zg(\\"`.replaceAll` does not allow non-global regexes\\");if(s=Hg(e,Qg),s)return kg(s,e,i,t);if(Xg&&a)return rh(fr(i),e,t)}for(u=fr(i),c=fr(e),v=Kg(t),v||(t=fr(t)),l=c.length,f=eh(1,l),p=Mv(u,c,0);p!==-1;)q=v?fr(t(c,p,u)):Jg(c,u,p,[],void 0,t),d+=Lv(u,y,p)+q,y=p+l,p=Mv(u,c,p+f);return y<u.length&&(d+=Lv(u,y)),d}});var ch=m(),lh=Bv().left,fh=Gv(),Kv=Hr(),ph=pr(),qh=fh(\\"reduce\\"),dh=!ph&&Kv>79&&Kv<83;ch({target:\\"Array\\",proto:!0,forced:!qh||dh},{reduce:function(e){var t=arguments.length;return lh(this,e,t,t>1?arguments[1]:void 0)}});oc();mc();Pc();Cc();_c();Lc();var GS=m(),kS=S(),KS=pe(),YS=kS([].reverse),Mc=[1,2];GS({target:\\"Array\\",proto:!0,forced:String(Mc)===String(Mc.reverse())},{reverse:function(){return KS(this)&&(this.length=this.length),YS(this)}});})();\\n;\\n(()=>{var ee=Object.defineProperty,te=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var V=(o,s,e)=>s in o?ee(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,x=(o,s)=>{for(var e in s||(s={}))se.call(s,e)&&V(o,e,s[e]);if(U)for(var e of U(s))ne.call(s,e)&&V(o,e,s[e]);return o},Q=(o,s)=>te(o,oe(s));var Z;const{log:$,getAttributes:j,setAttributes:L,getIntegrationData:re,getLocalState:C,setLocalState:A,sendEvent:P,getSessionId:M,plugins:{inode:N,marketoInterface:k,urlParams:I,modal:D,userState:Y,utils:W,repeatAction:z,randomNumberGenerator:ie,getControlStatus:ae,exitIntent:J,createPage:u,elementInViewport:ce}}=window.intellimize,le=M(),S=(()=>{const o=W.curry((l,t)=>l===t),s=(()=>{const l=window.location.href,t=\\"urlHistory\\",a=5;let c=C(t);return Array.isArray(c)||(c=[]),c[0]!==l&&(c.unshift(l),c.length>a&&(c=c.slice(0,a)),A(t,c)),function(i){const n=typeof i==\\"number\\"&&i>0?i:1;return c.slice(1,1+n)}})(),e=(l,t)=>()=>t.every(a=>a.checkPrecondition()?!0:($(`[${l}] precondition failed for selector \\"${a.getSelector()}\\"`,2,10100),!1));return Q(x({},W),{compareTo:o,getUrlHistory:s,checkManyPreconditions:e})})(),ge=(()=>{const o={maxRecords:100,saveLater:!1,map(r){return r.hostname+r.pathname},filter(){return!0}},s=S.curry((r,g)=>r.filter(m=>m.includes(g))),e=S.curry((r,g)=>s(r,g).length>0);function l(r,{map:g,filter:m,maxRecords:d}={}){const h=g(window.location),p=r.length>d,v=m(h,r),b=p?d-1:d;return v?[...r,...h].slice(-b):r}function t(r){return`navigationHistory-${r}`}function a(r){return C(t(r))}function c(r,g){A(t(r),g)}function i(r){return{history:r,find:s(r),contains:e(r)}}function n(r,g){const m=x(x({},o),g),d=a(r),h=Array.isArray(d)?d:[],p=l(h,m);return m.saveLater||c(r,p),{previous:i(h),current:i(p),save:S.once(()=>{m.saveLater&&c(r,p)})}}return{create:n}})(),ue=(()=>{function o(e){z(()=>{const{drift:l}=window;return S.is(Object,l)&&S.is(Function,l.on)?(e(l),!0):!1},{timeLimit:1e4,quitEarly:!0,failure(){$(\\"[driftChat]: timed out waiting for window.drift\\",4)}})}function s(e){o(l=>{l.on(\\"emailCapture\\",t=>{e(t)})})}return{onEmailSubmitted:s}})(),w=(()=>{const o=[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-confirmation\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/signed-up\\\\/?([?#].*?)?$/],s=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/pricing-request-confirmation\\\\/?([?#].*?)?$/,e=u({regex:o}),l=u({regex:s}),t=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/?([?#].*?)?$/,a=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-sharing\\\\/?([?#].*?)?$/,c=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo\\\\/?([?#].*?)?$/,i=/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/demo-signed-up\\\\/?([?#].*?)?$/,n=u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$/]}),r=u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/strategic-initiatives\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/marketing\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-execution\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/people-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/market-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$/]}),g=u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/pathfactory-[^/?#]+?\\\\/?([?#].*?)?$/]}),m=u({regex:/^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/[^/?#]+?\\\\/?([?#].*?)?$/});return{rawRegexes:{home:t,callSharing:a,demo:c,demoSignedUp:i},any:n,anyExceptSeoAndProduct:n.not(r).not(g),home:u({regex:[t]}),callSharing:u({regex:[a]}),thankYouMql:e.or(l),emailCtaCheatSheet:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/cheat-sheet-43-highly-effective-email-ctas\\\\/?([?#].*?)?$/}),demo:u({regex:[c]}),getDemo:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/get-demo\\\\/?([?#].*?)?$/]}),liveDemo:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/live-demo\\\\/?([?#].*?)?$/]}),productDemo:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product-demo\\\\/?([?#].*?)?$/]}),demoSignedUp:u({regex:[i]}),economicStudy:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/total-economic-impact-study\\\\/?([?#].*?)?$/}),pathFactory:g,pathFactoryDemo:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/explore\\\\/\\\\d{6}-dgsend-all\\\\/[^/?#]+?\\\\/?([?#].*?)?$/]}),pathFactoryContentTYP:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/([^/]+)-typ\\\\/?([?#].*?)?$/]}),pricing:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pricing\\\\/?([?#].*?)?$/}),product:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$/}),contentDownload:u({regex:[/^(https?:\\\\/\\\\/)?(pages\\\\.)?gong\\\\.io\\\\/.+-typ\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/uncensored-objection-handling-techniques\\\\/?([?#].*?)?$/]}),masterRapportBuilders:u({regex:/^(https?:\\\\/\\\\/)?(pages\\\\.)gong\\\\.io\\\\/7-habits-of-master-rapport-builders\\\\/?([?#].*?)?$/}),resources:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/resources\\\\/?([?#].*?)?$/}),revenueIntelligence:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$/}),salesTemplate:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/sales-template-email\\\\/?([?#].*?)?$/}),gongIo:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io((\\\\/[^/?#]+?)+?)?\\\\/?([?#].*?)?$/}),overview:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/overview\\\\/?([?#].*?)?$/}),blogs:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog(\\\\/[^?#/]+)+?\\\\/?([?#].*?)?$/}),seoLps:r,seoLpsTwo:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/conversation-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-intelligence\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-intelligence-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-board\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/account-executives\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-retention-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/frontline-sales-managers\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/inside-sales-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-operations-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-enablement\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-leaders\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/voice-of-customer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/complete-sales-coaching\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/pipeline-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/revenue-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-coaching-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-coaching\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-forecasting-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-management-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-onboarding\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-skills\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-strategy\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/auto-dialer-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/salesforce-call-log-recording\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-analytics-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-automation-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-engagement-platform\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-pipeline-management-software-tools\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-pipeline-management-software-tools\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-software\\\\/?([?#].*?)?$/,/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-tracking-software\\\\/?([?#].*?)?$/]}),forecast:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/forecast\\\\/?([?#].*?)?$/]}),sales:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales\\\\/?([?#].*?)?$/]}),customerSuccess:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/customer-success\\\\/?([?#].*?)?$/]}),marketing:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/marketing\\\\/?([?#].*?)?$/]}),coaching:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training\\\\/?([?#].*?)?$/]}),dealExecution:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/deal-execution\\\\/?([?#].*?)?$/]}),enterprise:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/enterprise\\\\/?([?#].*?)?$/]}),caseStudies:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/case-studies\\\\/?([?#].*?)?$/]}),ravingFans:u({regex:[/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/raving-fans\\\\/?([?#].*?)?$/]}),pagesGongIo:m,allContentPages:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/content\\\\/[^/?#]+?\\\\/?([?#].*?)?$/}),zoomCallTranscription:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/zoom-call-transcription\\\\/?([?#].*?)?$/}),callSoftware:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-software\\\\/?([?#].*?)?$/}),salesTrainingSoftware:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/sales-training-software\\\\/?([?#].*?)?$/}),callRecordingSoftware:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/call-recording-software\\\\/?([?#].*?)?$/}),bantBlog:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/bant-sales\\\\/?([?#].*?)?$/}),salesManagerBlog:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/sales-manager-skills\\\\/?([?#].*?)?$/}),qbrBlog:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/quarterly-business-review-examples\\\\/?([?#].*?)?$/}),icpSalesBlog:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/icp-sales\\\\/?([?#].*?)?$/}),salesObjectiveBlog:u({regex:/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/blog\\\\/sales-objective-examples\\\\/?([?#].*?)?$/})}})(),we=(()=>{const o=j(\\"user\\",[\\"customer\\"]).customer;let s=o||\\"False\\";const e=\'a[href^=\\"https://app.gong.io\\"]\';function l(){L(\\"user\\",{customer:s})}function t(c){const i=Y.getSessionCount();c.target.matches(e)&&s===\\"False\\"&&i>=3&&(s=\\"True\\",l())}function a(){document.addEventListener(\\"click\\",t,!0),z(()=>document.querySelectorAll(e).length>0,{quitEarly:!0,timeLimit:3e3,failure(){$(\\"[customerStatus]: login btn not found\\",4)}})}return w.gongIo.matches()&&!w.allContentPages.matches()&&(a(),o||l()),{isCustomer(){return s===\\"True\\"}}})(),me=(()=>{const o=x({},window.iiloc);return{country:{matchesAny:S.curry((e,l)=>Boolean(e)&&l.some(S.compareTo(e)))(o.country)}}})(),de=(()=>{const o=\\"forced-splits\\",s=x({},C(o)),e={abc:[\\"a\\",\\"b\\",\\"c\\"]};function l(t){const c=e[t].length-1;return(!(t in s)||s[t]>c)&&(s[t]=ie(0,c),A(o,s)),s[t]}return{createSplit(t,a){if(typeof t!=\\"string\\")throw new TypeError(\\"invalid new split key, must be a string\\");if(!Array.isArray(a)||!a.every(c=>typeof c==\\"string\\"))throw new Error(\\"invalid new split, must be an array of strings\\");if(t in e)throw new Error(\'split \\"\'+t+\'\\" already exists\');e[t]=a},getSplitRange(t){if(!(t in e))throw new Error(\\"split does not exist \\"+t);return e[t]},checkSplit(t,a){if(!(t in e))throw new Error(\\"split does not exist \\"+t);const c=e[t];if(!c.includes(a))throw new Error(\\"split does not contain target [\\"+c.join(\\",\\")+\\"]\\");return e[t].indexOf(a)===l(t)}}})(),G=(()=>{const s=[],e=[];let l=!1;function t(){return x({},x({},window.Demandbase).IP).CompanyProfile}function a(i){const n=t();n?i(n):s.push(i)}function c(i){l?i():e.push(i)}return z(()=>{const i=t();return i&&s.forEach(n=>{n(i)}),Boolean(i)},{timeLimit:1e4,quitEarly:!0,failure(){l=!0,e.forEach(i=>{i()}),$(\\"[demandbase] failed to load data within time limit\\",4)}}),(()=>{const i=le,n=C(\\"demandbase.last-session-with-data\\");n&&n!==i&&A(\\"demandbase.returning-visitor\\",!0),a(r=>{A(\\"demandbase.data\\",r),A(\\"demandbase.last-session-with-data\\",i)})})(),{onLoad:a,onFail:c}})(),pe=(()=>{const o={getRules(s){const e=x({},s),l=[\\"E.J. Eitel\\",\\"Gabrielle Mazaltarim\\",\\"Jen Silvestri\\",\\"Nick Makrakis\\"],t=[\\"Tier 1\\",\\"Tier 2\\"];return[{rule:\'\\"owner_Role__c\\" contains \\"Comm\\"\',matches:String(e.custom_fields_owner_Role__c).toLowerCase().includes(\\"comm\\")},{rule:\'\\"aE_Tier__c\\" is one of these: \'+t,matches:t.includes(e.custom_fields_aE_Tier__c)},{rule:\'\\"type\\" equals \\"Prospect\\"\',matches:e.custom_fields_type===\\"Prospect\\"},{rule:\'\\"sfdcOwnerId\\" is one of these: \'+l,matches:l.includes(e.custom_fields_sfdcOwnerId)}]},allRulesMatch(s){return o.getRules(s).every(e=>e.matches)}};return{freeTrial14days:o}})(),O=(()=>{const o=\\"[trigger controller]\\",s=[\\"exit\\",\\"scroll\\",\\"idle\\",\\"immediate\\"],e=a=>s.includes(a.toLowerCase()),l=a=>typeof a!=\\"number\\"||Number.isNaN(a),t=a=>a*1e3;return{waitFor(a,c){if(typeof a!=\\"string\\"||!e(a))throw new TypeError(`${o} invalid trigger by must be a valid string of one of the following [${s.join(\\", \\")}]`);if(!c||!S.is(Object,c))throw new TypeError(`${o} invalid configuration must be a valid object`);const{delay:i=0,targetScrollPercent:n,targetScrollSelector:r,idleTimer:g}=c;if(l(i))throw new TypeError(`${o} invalid delay must be a valid number`);if((a===\\"idle\\"||g)&&l(g))throw new TypeError(`${o} invalid idleTimer must be a valid number`);if((a===\\"scroll\\"&&!r||n)&&l(n))throw new TypeError(`${o} invalid targetScrollPercent must be a valid number or must have a valid targetScrollSelector`);let m;if(a===\\"scroll\\"&&!n||r){if(typeof r!=\\"string\\")throw new TypeError(`${o} invalid targetScrollSelector must be a valid string or must have a valid targetScrollPercent`);if(m=document.querySelectorAll(r),m.length===0)throw new Error(`${o} found 0 elements for targetScrollSelector`)}const d=p=>{$(`${o} delaying action by ${i}s`,2),setTimeout(()=>{$(`${o} ${i}s delay complete`,2),p()},t(i))};let h;switch(a){case\\"exit\\":{h=new Promise(p=>{d(()=>J(()=>{$(`${o} user has shown exit intent`,2),p()},{mobileScrollPercentage:n,idleTimer:t(g)}))});break}case\\"idle\\":{h=new Promise(p=>{let v;const b=[\\"scroll\\",\\"click\\",\\"mousemove\\",\\"keypress\\",\\"touchstart\\",\\"touchmove\\",\\"touchend\\"],f=()=>setTimeout(()=>{b.forEach(_=>{document.removeEventListener(_,y)}),$(`${o} user found to be idle`,2),p()},t(g)),y=()=>{v!==void 0&&(clearTimeout(v),v=f())};d(()=>{v=f(),b.forEach(_=>{document.addEventListener(_,y)})})});break}case\\"scroll\\":{h=new Promise(p=>{const v=()=>{var f;let b=!1;if(n){const{body:y,documentElement:_}=document,T=Math.max(y.scrollHeight,y.offsetHeight,_.clientHeight,_.scrollHeight,_.offsetHeight),E=Math.max(window.innerHeight,_.clientHeight),R=((f=_!=null?_:y.parentNode)!=null?f:y).scrollTop,F=T-E;b=R/F*100>=n}else b=ce(r);b&&($(`${o} scroll target reached`,2),p(),window.removeEventListener(\\"scroll\\",v))};d(()=>window.addEventListener(\\"scroll\\",v))});break}default:{h=new Promise(p=>{d(()=>{$(`${o} immediately triggered`,2),p()})});break}}return h}}})(),fe=(()=>{const{is:o}=S,s=\\"sidebarPopup\\",e=()=>A(s,M()),l=()=>C(s)!==M()||Array.isArray(I.iev);function t({headline:a,body:c,formId:i,submitBtnTxt:n,topImage:r,useChilipiper:g=!0,redirectUrl:m}={},d,h){if(!o(String,a)||!a)throw new Error(\\"invalid header, expected a valid string\\");if(!o(String,c)||!c)throw new Error(\\"invalid body, expected a valid string\\");if(!o(Number,i)||Number.isNaN(i))throw new Error(\\"invalid formId, expected a valid number\\");if(r&&!o(String,r))throw new Error(\\"invalid topImage, expected a valid string\\");if(n&&!o(String,n))throw new Error(\\"invalid submitBtnTxt, expected a valid string\\");if(m&&!o(String,m))throw new Error(\\"invalid redirectUrl, expected a valid string\\");const p=D({type:\\"cta\\",cta:{text:\\"\\"},cssClass:\\"i-sidebar-popup\\",header:r?`<img src=\\"${r}\\" alt=\\"popup banner image\\"/>`:void 0,body:`<div class=\\"i-popup-headline\\">${a}</div>\\n            <div class=\\"i-body-text\\">${c}</div>`});p.domRef.parentElement.classList.add(\\"i-darker-bg\\",\\"i-sidebar-popup--bg\\");const v=p.domRef.querySelector(\\"a.i-modal-close\\");v.innerHTML=\'<button aria-label=\\"Close popup\\" class=\\"Popup-close i-gong-popup__close\\"><svg width=\\"14\\" height=\\"14\\" viewBox=\\"0 0 14 14\\" fill=\\"none\\" stroke=\\"currentColor\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M1.558 1.559 12.44 12.44M12.44 1.559 1.558 12.44\\" stroke-width=\\"1.6\\" stroke-linecap=\\"round\\"></path></svg></button>\';const b=v.cloneNode(!0);b.addEventListener(\\"click\\",y=>{y.preventDefault(),v.click()}),p.domRef.parentElement.append(b),p.domRef.querySelector(\\"a.i-modal-cta\\").remove();const f=document.createElement(\\"form\\");f.setAttribute(\\"dataforminstance\\",\\"cta\\"),f.setAttribute(\\"dataformchilipiper\\",\\"demo-request-long-form\\"),f.dataset.intellimizeFormId=i.toString(),f.dataset.intellimize=\\"1\\",p.domRef.querySelector(\\".i-modal-body\\").append(f),k.loadForm(i,y=>{y.render(window.jQuery(f));const _=f.querySelector(\\".mktoFormRow input[name=Consent_to_Processing__c]\\");_===null?$(\\"[sideBarPopup] consent field missing\\",4,10001):_.closest(\\".mktoFormRow\\").classList.add(\\"i-consent-row\\"),n&&(f.querySelector(\\"button.mktoButton\\").textContent=n);const T=()=>{const E={Email:\\"Email Address\\"};f.querySelectorAll(\\"input[id][placeholder]\\").forEach(R=>{const F=R;F.placeholder=F.id in E?E[F.id]:F.placeholder.replaceAll(\\":\\",\\"\\")})};T(),new MutationObserver(T).observe(f,{childList:!0,subtree:!0}),y.onSuccess(E=>g===!0?(window.ChiliPiper.submit(\\"gong-io\\",f.getAttribute(\\"dataformchilipiper\\"),{match:!0,lead:E}),p.hide(),!1):m?(window.location.assign(m),!1):!0)}),l()&&O.waitFor(d,h).then(()=>{p.show(),e()})}return{create:t}})(),he=(()=>{const{loadForm:o}=k,s=\\"modalLastSession\\";let e=C(s);const l=M(),t=()=>e===l&&!Array.isArray(I.iev),a=()=>{e=l,A(s,l)},c=({title:n,subTitle:r,formId:g,submitTag:m,submitText:d})=>`\\n  <div class=\\"i-gong-popup__container\\">\\n    <div class=\\"i-gong-popup__container__left\\">\\n      <h1 class=\\"i-gong-popup__container__left__title\\">${n}</h1>\\n      <h6 class=\\"i-gong-popup__container__left__subTitle\\">${r}</h6>\\n    </div>\\n\\n    <div class=\\"i-gong-popup__container__right\\">\\n        <div class=\\"DemoForm\\">\\n          <form form data-intellimize-id=\\"${g}\\" dataformchilipiper=\\"${m}\\" databutton=\\"${d}\\"></form>\\n        </div>\\n    </div>\\n  </div>\\n`;return{create:n=>{const{formId:r,submitText:g,redirectUrl:m,exitIntentDelay:d=0,onLoad:h}=n;if(typeof d!=\\"number\\"||Number.isNaN(d))throw new TypeError(\\"[exit modal] invalid exitIntentDelay must be a valid number\\");const p=D({body:c(n),type:\\"cta\\",cta:{text:\\"\\"},cssClass:\\"i-exit-intent-modal i-gong-modal\\"});t()||(o(r,v=>{const b=document.querySelector(\\".i-gong-popup__container__right .DemoForm form\\");v.render(window.jQuery(b)),document.querySelector(\'.mktoButtonRow [type=\\"submit\\"].mktoButton\').textContent=g;const f=document.querySelector(\\".mktoFormRow input[name=Consent_to_Processing__c]\\");f?f.closest(\\".mktoFormRow\\").classList.add(\\"i-consent-row\\"):$(\\"[exitModal] consent field missing\\",4,10001),v.onSuccess(y=>(w.pagesGongIo.matches()||window.ChiliPiper.submit(\\"gong-io\\",b.getAttribute(\\"dataformchilipiper\\"),{match:!0,lead:y}),window.location.href=m,!1)),typeof h==\\"function\\"&&h(v)}),setTimeout(()=>{J(()=>{p.show(),a()})},d*1e3))},hasBeenViewed:t,shouldRun:()=>typeof window.jQuery==\\"function\\",popUpTemplate:c}})(),ve=(()=>{const o=\\"[popup modal]\\",s=()=>window.jQuery,e=({formId:a,redirect:c,submitText:i})=>`<form data-intellimize-id=\\"${a}\\" data-redirect=\\"${c}\\" data-submit-text=\\"${i}\\"></form>`;return{templates:{vertical:({src:a,alt:c,headline:i,body:n,formId:r,redirect:g,submitText:m})=>`\\n        <img src=\\"${a}\\" alt=\\"${c}\\" class=\\"i-header-img\\">\\n        <div class=\\"i-popup-content\\">\\n            <h3>${i}</h3>\\n            <p>${n}</p>\\n            ${typeof r==\\"number\\"?e({formId:r,redirect:g,submitText:m}):\\"\\"}\\n        </div>`,horizontal:({title:a,subTitle:c,formId:i,redirect:n,submitText:r})=>`\\n        <div class=\\"i-gong-popup__container\\">\\n          <div class=\\"i-gong-popup__container__left\\">\\n            <h1 class=\\"i-gong-popup__container__left__title\\">${a}</h1>\\n            <h6 class=\\"i-gong-popup__container__left__subTitle\\">${c}</h6>\\n          </div>\\n          <div class=\\"i-gong-popup__container__right\\">\\n              <div class=\\"MarketoBlock is-withBorders\\">\\n                <div class=\\"MarketoBlock-form Block-form\\">\\n                  ${e({formId:i,redirect:n,submitText:r})}\\n                </div>\\n              </div>\\n          </div>\\n        </div>`},create:(a,c,i)=>{if(a===null||typeof a!=\\"object\\")throw new TypeError(`${o} invalid configuration object`);const{html:n,cssClasses:r,moveCloseOutside:g=!1,formFieldFills:m}=a,d=D({type:\\"cta\\",cta:{text:\\"replace\\"},cssClass:\\"i-popup-modal\\"+(Array.isArray(r)?\\" \\"+r.join(\\" \\"):\\"\\")});d.domRef.parentElement.classList.add(\\"i-darker-bg\\"),d.domRef.querySelector(\\".i-modal-cta\\").remove();const h=d.domRef.querySelector(\\"a.i-modal-close\\");h.innerHTML=\'<button aria-label=\\"Close popup\\" class=\\"Popup-close i-gong-popup__close\\"><svg width=\\"14\\" height=\\"14\\" viewBox=\\"0 0 14 14\\" fill=\\"none\\" stroke=\\"currentColor\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path d=\\"M1.558 1.559 12.44 12.44M12.44 1.559 1.558 12.44\\" stroke-width=\\"1.6\\" stroke-linecap=\\"round\\"></path></svg></button>\',g&&(h.classList.add(\\"i-outside\\"),d.domRef.parentElement.prepend(h)),S.stringToHtmlNodes(n).forEach(b=>d.domRef.append(b));const v=d.domRef.querySelectorAll(\\"form[data-intellimize-id]\\");if(v.length>0){const b=s();v.forEach(f=>{const{intellimizeId:y,redirect:_,submitText:T}=f.dataset,E=Number.parseInt(y,10),R=_&&_!==\\"undefined\\"?_:\\"https://www.gong.io/confirmation/\\",F=T&&T!==\\"undefined\\"?T:\\"Submit\\";X(E,f),k.loadForm(E,q=>{if(q.render(b(f)),f.querySelector(\\"button[type=submit]\\").textContent=F,Array.isArray(m)&&m.every(B=>Array.isArray(B))){const B=q.getValues();for(const[H,K]of m)H in B?B[H]=K:$(`${o} field \\"${H}\\" does not exist`,3,10100);q.setValues(B)}q.onSuccess(()=>(location.assign(R),!1))})})}O.waitFor(c,i).then(()=>{d.show()})},checkPreconditions(){return typeof s()==\\"function\\"}}})(),be=(()=>{const o=N.create(\'.PostAsideBlock form[id^=\\"mkto_\\"]\');return{checkPreconditions(){return typeof window.jQuery==\\"function\\"&&o.checkPrecondition()},replace(s,e={}){const{fields:l,preventRedirect:t=!0,redirectOverride:a}=e,c=document.createElement(\\"form\\");c.dataset.intellimizeId=s,c.className=\\"i-sub-form\\";const i=o.getNodes()[0];i.after(c),i.remove(),k.loadForm(s,n=>{n.render(window.jQuery(c)),l!==null&&typeof l==\\"object\\"&&n.vals(l),t===!0?n.onSuccess(()=>(n.getFormElem().replaceWith(\'<h2 class=\\"my-0 h4 Block-title TitleBlock-title\\">Thank you for your submission.</h2>\'),!1)):a&&typeof a==\\"string\\"&&n.onSuccess(()=>(window.open(a,\\"_blank\\"),!1))})}}})(),X=(()=>{const o=[],s=()=>{const i=document.querySelectorAll(\\"#mktoForms2BaseStyle, #mktoForms2ThemeStyle\\");if(i.length>0)for(const n of i)n.remove()},e=i=>{let n=i.matches(\\"[style]\\")?[i]:[];if(n=[...n,...i.querySelectorAll(\\"[style]\\")],n.length>0)for(const g of n)g.removeAttribute(\\"style\\");const r=i.querySelectorAll(\\"style\\");if(r.length>0)for(const g of r)g.remove()},l=i=>{for(const n of i.querySelectorAll(\\"label.mktoLabel\\"))n.remove()},t=i=>{const n=\\"mktoSimple\\",r=i.querySelector(`.mktoButtonWrap.${n}`);r&&(r.classList.remove(n),r.classList.add(\\"mktoNative\\"))},a=i=>{for(const n of i.querySelectorAll(\\".mktoFormRow\\")){const r=n.querySelector(\\"input, textarea, select\\"),g=!r&&(n.textContent.length===0||n.textContent.length===1);n.classList.toggle(\\"is-empty\\",g);const m=Boolean(r)&&r.type===\\"hidden\\";n.classList.toggle(\\"is-hidden\\",m),r&&n.classList.add(`input-${r.getAttribute(\\"name\\")}`);for(const d of n.querySelectorAll(\\".mktoGutter, .mktoClear\\"))d.remove()}},c=()=>{k.whenAvailable(i=>{i.onFormRender(n=>{for(const[r,g]of o)n.getId()===r&&n.getFormElem()[0]===g&&(s(),e(g),l(g),a(g),t(g))})})};return(i,n)=>{o.some(r=>r[0]===i)||(o.push([i,n]),n.classList.add(\\"i-style-override\\"),o.length===1&&c(),new MutationObserver(()=>{$(`watching form ${i} and mutation occurred`,2),e(n)}).observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\\"style\\"]}))}})(),_e=o=>{const s=I,e=Object.keys(s),l=Object.values(s);let t=o;if(document.querySelector(\\"html\\").classList.add(\\"i-hide\\"),e.length>0)for(const[a,c]of e.entries())t+=(a>0||o.includes(\\"?\\")?\\"&\\":\\"?\\")+`${c}=${l[a]}`;return t};window.iGong=(Z=window.iGong)!=null?Z:{utils:S,pages:w,customerStatus:we,demandbase:G,targeting:{forcedSplit:de,demandbaseFields:pe},scroll,uniqueNavigationHistory:ge.create(\\"uniqueNavigationHistory\\",{filter:(o,s)=>s.slice(-1)[0]!==o}),tracking:{userGeo:me},experiences:{},RevenueIntelligence:{ShowPopupFormForCompaniesWithFewerEmployeesThan:50},triggerController:O,sideBarPopup:fe,exitModal:he,popupModal:ve,blogSubscriptionForm:be,cleanupForm:X,redirectTo:_e},k.configure({baseUrl:\\"//hitthe.gong.io\\",munchkinId:\\"185-VCR-682\\"}),Y.track(),ue.onEmailSubmitted(()=>{P(\\"drift-chat-email-submission\\")}),(()=>{const{getForm:o,listenForFormSuccess:s,setupSuccessGoal:e}=k,l=\\"demo_form_submission\\";s(1057,t=>{t.getFormElem().is(\\".Header form\\")&&P(\\"form-submit-all-pages-header\\"),t.getFormElem().is(\\".Footer form\\")&&P(\\"form-submit-all-pages-footer\\")}),w.home.or(w.callSharing).or(w.pricing).matches()&&o(1057,t=>{function a(i){const n=\\"i-see-it-in-action-submit\\";let r=[...document.querySelectorAll(`.${n}`)];if(r.length===0){const g=document.createElement(\\"style\\");g.className=n,document.head.prepend(g),r=[g]}t.onSuccess(()=>{const[g]=r;g.classList.add(i),g.click(),g.classList.remove(i)})}const c=t.getFormElem();switch(1){case c.closest(\\".Header-form, .Header-form-mobile\\").length:{a(\\"nav\\");break}case c.closest(\\".HeroBlock\\").length:{a(\\"hero\\");break}case c.closest(\\".Block:not(.HeroBlock)\\").length:{a(\\"middle\\");break}case c.closest(\\".Footer\\").length:{a(\\"footer\\");break}default:$(\\"invalid form location for form 1057\\",4)}}),w.emailCtaCheatSheet.matches()&&e(2878,\\"i-submit-email-cta-cheatsheet-form\\"),w.demo.matches()&&([1050,2884,3502,3479].forEach(t=>e(t,l,{customEvent:!0})),document.referrer===\\"https://www.gong.io/\\"&&e(1050,\\"demo_form_submission_referrer_homepage\\",{customEvent:!0}),[1050,3502,3479,3897].forEach(t=>{e(t,\\"i-demo-form\\")}),e(1057,\\"demo-form\\"),e(1050,\\"i_live_demo_popup_submission\\",{customEvent:!0}),e(3725,\\"i_live_tour_popup_submission\\",{customEvent:!0}),e(3726,\\"i_instant_demo_popup_submission\\",{customEvent:!0})),w.getDemo.matches()&&[1050].forEach(t=>e(t,l,{customEvent:!0})),w.liveDemo.matches()&&[1050].forEach(t=>e(t,l,{customEvent:!0})),w.productDemo.matches()&&[3897].forEach(t=>e(t,l,{customEvent:!0})),w.pricing.matches()&&([2887,1064,3479,3513].forEach(t=>{s(t,()=>{P(\\"pricing_form_submission_pricing_page\\"),sessionStorage.setItem(\\"i-pricing-form-redirect\\",\\"true\\"),/^(https?:\\\\/\\\\/)?(www\\\\.)?gong\\\\.io\\\\/product\\\\/?([?#].*?)?$/.test(document.referrer)&&P(\\"pricing_form_submission_from_product\\")})}),[1050,3513].forEach(t=>{e(t,\\"pricing_demo_submits\\",{customEvent:!0})})),w.product.matches()&&(e(2887,\\"pricing_form_submission_pdp\\",{customEvent:!0}),[1057,1050].forEach(t=>e(t,\\"demo_form_submission_pdp\\",{customEvent:!0})),[3725,3726].forEach(t=>e(t,\\"tour-or-instant-demo\\"))),w.contentDownload.matches()&&[3034,1885,2878].forEach(t=>{e(t,\\"content_download_form_submit\\")}),w.masterRapportBuilders.matches()&&e(3077,\\"master_rapport_builders_form_submit\\",{customEvent:!0}),w.overview.matches()&&e(1057,\\"form-submit-overview\\",{customEvent:!0}),w.revenueIntelligence.matches()&&(e(1057,\\"ri_form_submitted\\",{customEvent:!0}),window.iGong.tracking.onHighQualityMql(()=>{P(\\"sn_form_submitted\\")})),w.seoLps.matches()&&(e(1057,\\"personalized_demo_form_submission_pdp\\",{customEvent:!0}),e(3466,\\"personalized_demo_form_submission_pdp\\",{customEvent:!0}),e(1069,\\"blog_subscription_form_submission_pdp\\",{customEvent:!0}),e(2878,\\"modal_seo_form_submission_pdp\\",{customEvent:!0})),w.seoLpsTwo.matches()&&[1050,3725,3726].forEach(t=>e(t,\\"seo-form\\")),w.resources.matches()&&e(1069,\\"resources_subscription_form_submission\\",{customEvent:!0}),w.salesTemplate.matches()&&e(2878,\\"get_sales_template_form_submission\\",{customEvent:!0}),w.economicStudy.matches()&&e(2878,\\"get_the_study_form_submission\\",{customEvent:!0}),w.home.matches()&&([1057,1050,3513].forEach(t=>{e(t,\\"homepage_demo_submits\\",{customEvent:!0})}),e(1050,\\"homepage_demo_popup_submits\\",{customEvent:!0}),[1050,3725,3726].forEach(t=>{e(t,\\"i-demo-timed-popup\\",{customEvent:!0})})),w.pathFactoryContentTYP.matches()&&[1885,2878].forEach(t=>{e(t,\\"demo-form-thank-you-submit-form\\")}),w.forecast.matches()&&[1050,1057].forEach(t=>{e(t,\\"forecast_demo_submits\\",{customEvent:!0})}),w.blogs.matches()&&(e(1050,\\"i-demo-form-submission\\",{customEvent:!0}),e(3725,\\"i-instant-demo-tour-form-submissions\\",{customEvent:!0}),e(1069,\\"i-blogs-form-submission\\",{customEvent:!0})),w.bantBlog.or(w.icpSalesBlog).or(w.qbrBlog).or(w.salesManagerBlog).or(w.salesObjectiveBlog).matches()&&k.setupAllFormsSuccessGoal(\\"i-p2-blog-form-submission\\",{customEvent:!0})})(),(()=>{const o=\\"user\\";j(o,[\\"visitedCareers\\"]).visitedCareers||L(o,{visitedCareers:\\"false\\"}),window.location.pathname.includes(\\"/careers/\\")&&L(o,{visitedCareers:\\"true\\"})})(),(()=>{function o(e){return j(\\"user\\",[\\"is_enterprise\\"]).is_enterprise===\\"true\\"||e.employee_count>=1e3||Array.isArray(I.iev)}function s(e){L(\\"user\\",{is_enterprise:o(e)?\\"true\\":\\"false\\"})}G.onLoad(s),G.onFail(()=>{const e=C(\\"demandbase.data\\");e&&s(e)})})(),(()=>{const o=re(\\"6sense\\")||{},{employeeCount:s}=o;let e=\\"unknown\\";const l=0,t=51,a=1001;typeof s==\\"number\\"&&!Number.isNaN(s)&&(s>=l&&s<t?e=\\"SMB (0-50)\\":s>=t&&s<a?e=\\"SMB/MM (51-1000)\\":e=\\"Enterprise (1001+)\\"),L(\\"user\\",{\\"6sense Business Segment\\":e})})(),window.location.host===\\"www.gong.io\\"&&ae(\\"117522036\\",o=>{const s=o===\\"control\\"?\\"Control\\":\\"Intellimize\\";k.getAllForms(e=>{e.addHiddenFields({Testing_Variation__c:s})})}),(()=>{if(w.zoomCallTranscription.or(w.callSoftware).or(w.callRecordingSoftware).or(w.salesTrainingSoftware).matches()){const o=\\"417214376\\";window.iGong.experiences[o]=(()=>{const s=N.create(\\".FrequentlyAskedQuestionsBlock\\",{textTarget:\\"REASON\\"}),e=N.create(\\".FrequentlyAskedQuestionsBlock-content > .Block\\",{ancestor:s,precondition:N.greaterThanPrecondition(4)});return{selectors:{accordion:s,items:e},checkAllPreconditions:S.checkManyPreconditions(o,[s,e]),openItem(l){const t=e.getNodes()[l];if(!t)throw new Error(\\"invalid accordion item id\\");t.setAttribute(\\"open\\",!0),t.classList.add(\\"is-open\\")}}})()}})(),L(\\"pageview\\",{\\"Page Path\\":window.location.pathname});})();;","css":".i-form{width:100%}.i-form>input:not([type=submit]){margin:.25em auto;box-sizing:border-box;border:1px solid #000000;width:100%;height:auto;padding:.25em;background:#ffffff;color:#000;font-family:inherit;font-size:inherit}.i-form>input:not([type=submit])::placeholder{opacity:.6;color:#000}.i-form>input[type=submit]{margin:10px auto 0;display:block;border:2px solid #000000;border-radius:0;width:auto;height:auto;padding:.25em 2em;background:#000000;color:#fff;font-family:inherit;font-size:inherit}.i-form>input[type=submit]:hover{background:transparent;color:#000}\\n\\n.i-modal-background{z-index:2147483647;position:fixed;top:0;left:0;display:none;width:100vw;height:100vh;background:rgba(0,0,0,.6)}.i-modal-content{margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-sizing:border-box;width:80%;height:60%;max-width:700px;max-height:400px;padding:20px;background:#ffffff;overflow:auto;color:#000;text-align:center;font-size:20px;line-height:1}.i-modal-content a.i-modal-close{position:absolute;top:2px;right:2px;display:block;width:20px;height:20px;color:#000;font-size:30px;text-align:center;line-height:22px}.i-modal-content a.i-modal-close:hover{color:#000;font-weight:bolder}.i-modal-content .i-modal-headline{color:inherit;font-family:inherit;font-size:2em;text-transform:none}.i-modal-content .i-modal-body{margin:1em 0;color:inherit;font-family:inherit;font-size:1em;text-transform:none}\\n\\n@keyframes i-slide-in--left{0%{transform:translate(-120%)}to{transform:translate(0)}}@keyframes i-slide-in--up{0%{transform:translateY(120%)}to{transform:translateY(0)}}.intellimize-popup{margin:auto;position:absolute!important;left:50%;top:50%;display:none;box-sizing:border-box;width:40%;max-width:100vw;min-width:300px;height:auto;min-height:300px;max-height:80vh;background:#ffffff;overflow:visible;color:#000;font-size:16px;text-align:center;transform:translate(-50%,-50%)}.intellimize-popup img.intellimize-popup--banner{margin:0;display:block;width:100%;max-width:100%!important;height:auto}.intellimize-popup--content{padding:32px 20px 48px;overflow:auto}.intellimize-popup h3{margin:0 0 10px;font-size:2em;line-height:.9em}.intellimize-popup p{margin-top:10px;margin-bottom:10px;font-size:1em}.intellimize-popup--cta{display:inline-block;padding:5px 20px;background:#000000;color:#fff;text-decoration:none}.intellimize-popup--cta:hover{opacity:.75}.intellimize-popup--close{position:absolute;right:10px;top:10px;padding:5px;display:block;width:1em;height:1em;color:#000;font-size:26px;line-height:1;text-decoration:none}.intellimize-popup--close:hover{color:#0074d9}.intellimize-popup--backdrop{z-index:2147483647;position:fixed;inset:0;display:none;width:100%;height:100%;background:rgba(0,0,0,.6)}.intellimize-popup.intellimize-sidepop{z-index:2147483647;width:300px;min-height:auto;position:fixed!important;left:50px;top:unset;bottom:50px;border-top:6px solid #000000;box-shadow:#0000005c 0 0 10px 2px;transform:none;animation:i-slide-in--left .75s ease-in}@media (max-width: 749px){.intellimize-popup.intellimize-sidepop{left:0;bottom:0;width:100%;box-shadow:none;animation:i-slide-in--up .75s ease-in}}.intellimize-popup.intellimize-sidepop .intellimize-popup--close{right:100%;top:unset;bottom:0;width:1em;height:1em;background:#000000;color:#fff;line-height:1}@media (max-width: 749px){.intellimize-popup.intellimize-sidepop .intellimize-popup--close{right:0;top:0}}\\n\\n.i-hide{display:none!important;visibility:hidden}form.mktoForm.i-style-override,form.mktoForm.i-style-override .mktoFormRow,form.mktoForm.i-style-override .mktoFormCol,form.mktoForm.i-style-override .mktoFieldWrap,form.mktoForm.i-style-override input{width:100%}.i-modal-background:not(.i-darker-bg){background:rgba(29,2,84,.68)!important}.i-modal-background.i-darker-bg{background:rgba(38,30,51,.94)}.i-modal-background .i-modal-content{background:#fff linear-gradient(135deg,rgba(76,254,203,.5),rgba(255,255,255,.6),rgba(144,105,231,.3))}.i-modal-background .i-modal-content .mktoButtonRow button{background-color:var(--color-rose)!important;font-size:var(--font-size-button);font-weight:var(--font-weight-button);line-height:19.6px}.i-modal-background .i-modal-content label[data-optin=auto]{line-height:19.6px}.i-modal-background .i-modal-content .i-modal-cta{display:none}.i-modal-background .i-modal-content .i-modal-body{display:grid;grid-template-rows:1fr;padding:0;height:100%;margin:0;overflow:hidden}@media (max-width: 960px){.i-modal-background .i-modal-content.desktop-only{display:none!important}}.i-modal-background>a.i-modal-close.i-outside{position:fixed;right:20px;top:20px;width:.5em;height:.5em;color:#fff;font-size:46px;line-height:.5}.i-modal-background>a.i-modal-close.i-outside:hover{text-decoration:none}.i-modal-background[class*=footer]{transform:none!important;max-width:100%;max-height:15vmax;top:auto;bottom:0;transition-property:background-color,visibility}.i-modal-background .i-modal-content[class*=footer]{transform:none!important;top:0;left:inherit;bottom:inherit;width:inherit;height:inherit;max-width:100%;max-height:100%;transition-property:transform}.i-modal-background .i-modal-content[class*=footer] .i-modal-cta{display:none}.i-modal-content[class*=footer] .i-modal-body{text-align:left;margin:0;display:grid;grid-template-rows:1fr;height:100%;padding:1em;padding-right:46px!important;overflow:hidden}@media (max-width: 960px){.i-modal-content[class*=footer].desktop-only{transform:translateY(101%)!important;display:none!important}}.i-modal-background .i-modal-content:not(.i-sidebar-popup,.i-popup-modal) .i-modal-close{width:1px;height:1px;font-size:1px;line-height:1px;top:0;right:0}.i-modal-background .i-modal-content:not(.i-sidebar-popup,.i-popup-modal) .i-modal-close:after{content:url(\\"data:image/svg+xml;utf8, %3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 24 24%22 stroke%3D%22%23000%22%3E%3Cpath d%3D%22m0 0 24 24m0-24L0 24%22%2F%3E%3C%2Fsvg%3E\\");display:block;width:18px;height:18px;padding:0;position:absolute;top:28px;right:28px}@media (max-width: 960px){.i-modal-content[class*=footer].desktop-only{transform:translateY(101%)!important;display:none!important}.i-logo-bar .d-block--mobile.d-block--tablet{padding-top:80px!important}}.i-demo-popup{max-width:1234px!important;max-height:fit-content;height:auto;padding:80px;border-radius:10px}.i-demo-popup__container{display:grid;align-items:center;grid-template-columns:repeat(2,1fr)}.i-demo-popup__container__left{text-align:left;color:#3e0075}.i-demo-popup__container__left__title{margin:0;font:700 60px BN Axel Grotesk;letter-spacing:-.01em;text-transform:uppercase}.i-demo-popup__container__left__subtitle{margin:30px 45px 30px 0;font:500 18px Messina Sans;line-height:24px;letter-spacing:-.01em}.i-demo-popup__container__left__image{max-height:69px;margin-top:10px;margin-bottom:35px}.i-demo-popup__container__right{height:100%}.i-demo-popup__container__right .DemoForm{height:100%!important;max-width:100%!important;display:flex;align-items:center;justify-content:flex-end}.i-demo-popup__container__right .DemoForm form.mktoForm{height:auto;max-width:342px;margin-left:30px;flex-direction:column;align-items:center}.i-demo-popup__container__right .DemoForm form.mktoForm input[type=email],.i-demo-popup__container__right .DemoForm form.mktoForm input[type=text],.i-demo-popup__container__right .DemoForm form.mktoForm input[type=tel]{padding:0;height:40px;max-width:342px;border:none;border-bottom:1px solid #9069e7!important;border-radius:0;background-color:transparent;box-shadow:none}.i-demo-popup__container__right .DemoForm form.mktoForm input[type=email]::placeholder,.i-demo-popup__container__right .DemoForm form.mktoForm input[type=text]::placeholder,.i-demo-popup__container__right .DemoForm form.mktoForm input[type=tel]::placeholder{color:#9069e7}.i-demo-popup__container__right .DemoForm form.mktoForm .mktoFormRow[data-wrapper-for=Email]{width:inherit}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList{margin-top:35px;width:auto!important}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList input[type=checkbox]{margin-top:8px}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList input[type=checkbox]:hover{cursor:pointer}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label{color:#9069e7;font-size:12px;line-height:1.5}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label a{color:#9069e7;padding:0;font-weight:700}.i-demo-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label:before{pointer-events:none;margin-top:8px;border:none;border-radius:4px;box-shadow:none;background-color:#9069e7;color:#fff}.i-demo-popup__container__right .DemoForm form.mktoForm .mktoButton{margin-top:40px}.i-demo-popup__container__right .DemoForm form.mktoForm .mktoButton.i-demo-popup__cta__form{background-color:#ff2370;color:#fff}.i-demo-popup__container__right .DemoForm form.mktoForm .mktoButtonRow{flex-basis:auto}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-teal{background-color:#4cfec8;color:#1d0254}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-blue{background-color:#3caff2;color:#1d0254}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-pink{background-color:#ff2370;color:#1d0254}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-yellow{background-color:#ffe03f;color:#1d0254}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-darkYellow{padding:0 10px;height:44px;font-size:16px;background-color:#f7cd05;color:#812ac1}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-darkYellow:hover{background-color:#812ac1;color:#fff}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-bigger-endcap{height:60px;padding:0 24px;border-radius:30px;font-size:16px;background-color:#fb3254}.i-demo-popup__cta .i-demo-popup__cta__button.i-demo-bigger-endcap:hover{background:#c92843}@media (max-width: 1320px){.i-demo-popup__container__left__title{font-size:50px}}@media (max-width: 1024px){.i-demo-popup__container__left__title{font-size:42px}.i-demo-popup__container__left__subtitle{font-size:16px}}@media (max-width: 768px){.i-demo-popup{max-height:635px!important}.i-demo-popup__container{display:flex;flex-direction:column}.i-demo-popup__container__left__title{font-size:35px}.i-demo-popup__container__left__image{display:none}.i-demo-popup__container__right .DemoForm form.mktoForm{margin-left:0}}@media (min-width: 769px){.i-sidebar-popup--bg>a.i-modal-close{display:none}}.i-sidebar-popup--bg>a.i-modal-close.i-mobile{position:fixed;right:23px;top:20px;width:29px;height:23px;color:#fff;font-size:50px;font-family:monospace;line-height:23px;text-decoration:none}@media (min-width: 769px){.i-sidebar-popup--bg>a.i-modal-close.i-mobile{display:none}}.i-modal-content.i-sidebar-popup{width:397px;height:auto;max-width:397px;max-height:100vh;padding:0;background:transparent;overflow-y:auto;overflow-x:hidden}@media (max-width: 768px){.i-modal-content.i-sidebar-popup{width:calc(100% - 60px);min-width:316px}}.i-modal-content.i-sidebar-popup a.i-modal-close{width:29px;height:23px;color:#fff;font-size:50px;font-family:monospace;line-height:23px;text-decoration:none}@media (max-width: 768px){.i-modal-content.i-sidebar-popup a.i-modal-close{display:none}}@media (min-width: 769px){.i-modal-content.i-sidebar-popup{inset:auto 98px 60px auto;transform:none}}.i-modal-content.i-sidebar-popup .i-modal-headline{border-radius:10px;width:100%;padding:13px;background:#9069e7}.i-modal-content.i-sidebar-popup .i-modal-headline img{margin:0 auto;position:relative;display:block;object-fit:contain}@media (max-width: 768px){.i-modal-content.i-sidebar-popup .i-modal-headline{display:none}}.i-modal-content.i-sidebar-popup .i-modal-body{display:block;border-radius:10px;width:100%;height:auto;padding:40px 28px;background:#fff linear-gradient(135deg,rgba(76,254,203,.5),rgba(255,255,255,.6),rgba(144,105,231,.3));overflow:hidden;color:#3e0075;font-size:14px;font-family:Messina Sans,sans-serif;line-height:1;text-align:center;letter-spacing:-.01em}@media (max-width: 768px){.i-modal-content.i-sidebar-popup .i-modal-body{padding:40px 26px}}.i-modal-content.i-sidebar-popup .i-modal-body .i-popup-headline{margin-bottom:26px;font-size:var(--font-size-h5-inter);font-weight:var(--font-weight-h5);letter-spacing:-.03em;line-height:var(--line-height-inter-normal);font-family:var(--font-family-inter);text-transform:none;text-align:left}.i-modal-content.i-sidebar-popup .i-modal-body .i-body-text{margin-bottom:26px;color:var(--color-purple-haze);font-size:var(--font-size-base);font-family:var(--font-family-inter);font-weight:var(--font-weight);line-height:var(--line-height);letter-spacing:-.03em;text-align:left}.i-modal-content.i-sidebar-popup .i-modal-body .i-body-text ul{margin:0;list-style:none;padding-left:36px;text-align:left}.i-modal-content.i-sidebar-popup .i-modal-body .i-body-text ul li{margin-bottom:10px;position:relative;line-height:20px}.i-modal-content.i-sidebar-popup .i-modal-body .i-body-text ul li:before{content:\\"\\";position:absolute;left:-36px;top:0;display:block;width:16px;height:16px;background:url(https://www.gong.io/wp-content/uploads/2022/12/intellimize_checkmark.png)}@media (min-width: 787px){.i-modal-content.i-sidebar-popup .i-modal-body .i-body-text br.i-mobile-break{display:none}}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm{margin:0;display:flex;flex-direction:column;width:100%!important;padding:0}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoLabel,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoOffset,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoGutter{display:none}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormRow.i-consent-row{order:999}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormRow.i-consent-row~.mktoButtonRow{order:1000}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol{margin:0}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol select,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol .mktoFieldWrap,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol input:not([name=Consent_to_Processing__c]){width:100%!important}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol .mktoFieldWrap{position:relative}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol select,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol input:not([name=Consent_to_Processing__c]){background-color:var(--color-white);border:1px solid #909090;border-radius:var(--border-radius-normal);box-shadow:none;color:var(--color-purple-haze);font-size:14px;line-height:1;min-height:auto;padding-inline:10px;transition:all .3s ease-out;width:100%;font-family:Messina Sans,sans-serif}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol select::placeholder,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoFormCol input:not([name=Consent_to_Processing__c])::placeholder{color:#909090!important}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField{margin:15px 0 25px;border:none;width:100%!important;padding:0}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField input{display:none}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField label{margin-left:22px;position:relative;display:block;color:#838383;font-size:14px;font-family:Messina Sans,sans-serif;font-weight:500;line-height:var(--line-height);text-align:center}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField label:before{margin:auto 0;left:-22px;top:3px;bottom:auto;border:none;border-radius:5px;width:15px;height:14px;background:var(--color-lilac);border:1px solid #909090;box-shadow:none;color:var(--color)}@media (max-width: 768px){.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField label:before{top:3px;bottom:auto}}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm div.mktoLogicalField label a{padding:0;color:inherit;font-weight:700}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoButtonRow,.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoButtonRow .mktoButtonWrap{margin:0!important;display:block;width:100%;text-align:center}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoButtonRow .mktoButtonWrap button{--button-height: 52px;--button-border-radius: 52px;--button-hover-background-color: var(--color-lavender);--button-hover-border-color: transparent;--button-hover-color: var(--color-white);background:var(--button-background-color);border-color:var(--button-border-color);border-radius:var(--button-border-radius);border-style:var(--button-border-style);border-width:var(--button-border-width);color:var(--button-color);cursor:pointer;display:inline-flex;height:var(--button-height);justify-content:center;line-height:50px;padding:var(--button-padding);position:relative;text-align:center;text-decoration:none;transition:background .4s,border .4s,color .4s;white-space:nowrap;width:100%;font-size:14px;font-family:Messina Sans,sans-serif;font-weight:700}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoError{z-index:100;position:absolute;inset:100% 0 0!important}.i-modal-content.i-sidebar-popup .i-modal-body form.mktoForm .mktoError .mktoErrorMsg{position:absolute;left:0;top:var(--1x);border:0;border-radius:7px;width:200px;padding:var(--1x) var(--2x);background:var(--color-rose);box-shadow:none;color:var(--color-white);font-size:var(--font-size-x-small);line-height:var(--line-height-x-small);text-align:left;text-shadow:none}.i-modal-content.i-popup-horizontal,.i-modal-content.i-exit-intent-modal.i-gong-modal{border-radius:10px;width:1234px;max-width:100vw;max-height:100vh;height:auto;padding:93px 74px 67px 76px}@media (max-width: 959px){.i-modal-content.i-popup-horizontal,.i-modal-content.i-exit-intent-modal.i-gong-modal{padding:64px}}.i-modal-content.i-popup-horizontal .i-gong-popup form,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup form{margin-inline:inherit}.i-modal-content.i-popup-horizontal .i-gong-popup__close,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__close{background-color:var(--color-lilac)!important;color:var(--color-purple-haze)}.i-modal-content.i-popup-horizontal .i-gong-popup__close:hover,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__close:hover{background-color:#d9baff!important}.i-modal-content.i-popup-horizontal .i-gong-popup__container,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container{display:flex;flex-direction:row;align-items:center;justify-content:space-between}@media (max-width: 959px){.i-modal-content.i-popup-horizontal .i-gong-popup__container,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container{flex-direction:column}}.i-modal-content.i-popup-horizontal .i-gong-popup__container__left,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__left{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:48%;height:100%}@media (max-width: 959px){.i-modal-content.i-popup-horizontal .i-gong-popup__container__left,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__left{width:100%}}.i-modal-content.i-popup-horizontal .i-gong-popup__container__left__title,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__left__title{margin-bottom:16px;color:#3e0075;font-size:var(--font-size-h5-inter);font-weight:var(--font-weight-h5);letter-spacing:-.03em;line-height:var(--line-height-inter-normal);font-family:var(--font-family-inter);font-style:normal;text-transform:none;text-align:left}.i-modal-content.i-popup-horizontal .i-gong-popup__container__left__subTitle,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__left__subTitle{margin-top:0;margin-bottom:20px;color:var(--color-purple-haze);font-size:var(--font-size-base);font-family:var(--font-family-inter);font-weight:var(--font-weight);font-style:normal;line-height:var(--line-height);letter-spacing:-.03em;text-align:left}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right{display:flex;align-items:center;justify-content:right;width:50%;height:100%}@media (max-width: 959px){.i-modal-content.i-popup-horizontal .i-gong-popup__container__right,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right{width:100%;justify-content:center}}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm{display:flex;align-items:center;justify-content:center;border-radius:0;width:340px;height:100%;background:none}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm{margin:auto;display:flex;flex-direction:column;align-items:center;height:auto;max-width:none}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormCol .mktoFieldWrap,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormCol .mktoFieldWrap{margin-bottom:5px}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFieldDescriptor,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFieldWrap,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFieldDescriptor,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFieldWrap{width:100%}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input:not([type=radio],[type=checkbox],[type=submit],[type=button],[type=image],[type=file]),.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input:not([type=radio],[type=checkbox],[type=submit],[type=button],[type=image],[type=file]){width:100%!important}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel],.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text],.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email],.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel],.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text],.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email]{background-color:var(--color-white)!important;border:1px solid #909090!important;border-radius:var(--border-radius-normal)!important;box-shadow:none!important;height:40px;color:var(--color-purple-haze)}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel]::placeholder,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text]::placeholder,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email]::placeholder,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel]::placeholder,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text]::placeholder,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email]::placeholder{color:#909090}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel]:focus,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text]:focus,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email]:focus,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=tel]:focus,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=text]:focus,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm input[type=email]:focus{border-color:var(--color-violet)!important;box-shadow:0 0 4px #683eb280,inset 0 0 4px #683eb280!important}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoAsterix,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoOffset,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoGutter,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm #LblConsent_to_Processing__c,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoAsterix,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoOffset,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoGutter,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm #LblConsent_to_Processing__c{display:none}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow.i-consent-row,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow.i-consent-row{order:999}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow.i-consent-row~.mktoButtonRow,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoFormRow.i-consent-row~.mktoButtonRow{order:1000}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList{margin-top:10px;margin-bottom:15px;width:100%!important}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label{color:#838383;font-size:14px;line-height:1.5}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label:before,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label:before{margin-top:5px;border:none;border-radius:4px;box-shadow:none;background-color:#9069e7;color:#fff}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label a,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm div.mktoLogicalField.mktoCheckboxList label a{color:inherit;font-weight:700}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow{display:block;flex-basis:auto;width:100%}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow .mktoButtonWrap.mktoNative,.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow .mktoButtonWrap.mktoSimple,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow .mktoButtonWrap.mktoNative,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButtonRow .mktoButtonWrap.mktoSimple{margin-left:inherit!important}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButton,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .DemoForm form.mktoForm .mktoButton{--button-height: 52px;--button-border-radius: 52px;--button-hover-background-color: var(--color-lavender);--button-hover-border-color: transparent;--button-hover-color: var(--color-white);background:var(--button-background-color);border-color:var(--button-border-color);border-radius:var(--button-border-radius);border-style:var(--button-border-style);border-width:var(--button-border-width);color:var(--button-color);cursor:pointer;display:inline-flex;height:var(--button-height);justify-content:center;line-height:calc(var(--button-height) - var(--button-border-width) * 2);padding:var(--button-padding);position:relative;text-align:center;text-decoration:none;transition:background .4s,border .4s,color .4s;white-space:nowrap;width:100%}.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .MarketoBlock.is-withBorders,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .MarketoBlock.is-withBorders{width:420px}@media (max-width: 959px){.i-modal-content.i-popup-horizontal .i-gong-popup__container__right .MarketoBlock.is-withBorders,.i-modal-content.i-exit-intent-modal.i-gong-modal .i-gong-popup__container__right .MarketoBlock.is-withBorders{width:100%}}.i-modal-background .i-modal-content.i-popup-vertical{border-bottom-left-radius:10px;border-bottom-right-radius:10px;width:522px;max-width:100vw;height:auto;max-height:100vh;padding:0;background:none}.i-modal-background .i-modal-content.i-popup-vertical img.i-header-img{display:block}.i-modal-background .i-modal-content.i-popup-vertical .i-popup-content{padding:40px 62px 31px;background:#fff linear-gradient(135deg,rgba(76,254,203,.5),rgba(255,255,255,.6),rgba(144,105,231,.3));color:#3e0075}.i-modal-background .i-modal-content.i-popup-vertical .i-popup-content h3{margin-bottom:16px;font-size:var(--font-size-h5-inter);font-weight:var(--font-weight-h5);letter-spacing:-.03em;line-height:var(--line-height-inter-normal);font-family:var(--font-family-inter);text-align:left;text-transform:none}.i-modal-background .i-modal-content.i-popup-vertical .i-popup-content p{margin-top:0;margin-bottom:20px;color:var(--color-purple-haze);font-size:var(--font-size-base);font-family:var(--font-family-inter);font-weight:var(--font-weight);font-style:normal;line-height:var(--line-height);letter-spacing:-.03em;text-align:left}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm{margin:auto;display:flex;flex-direction:column;align-items:center;height:auto;max-width:100%}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoFormCol .mktoFieldWrap{grid-gap:var(--2x);display:grid;width:100%}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoFormRow,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoFormRow .mktoFieldDescriptor{margin:0!important;width:100%}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm select,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input:not([type=radio]):not([type=checkbox]):not([type=submit]):not([type=button]):not([type=image]):not([type=file]){width:100%!important}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm select:focus,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input:not([type=radio]):not([type=checkbox]):not([type=submit]):not([type=button]):not([type=image]):not([type=file]):focus{border-color:var(--color-violet)!important;box-shadow:0 0 4px #683eb280,inset 0 0 4px #683eb280!important}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm select,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=tel],.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=text],.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=email]{height:var(--form-input-height);padding:.2em .3em;background-color:var(--color-white);border:1px solid #909090;border-radius:var(--border-radius-normal);box-shadow:none;color:var(--color-purple-haze);font-size:14px;line-height:1;min-height:auto;padding-inline:10px;transition:all .3s ease-out}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm select::placeholder,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=tel]::placeholder,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=text]::placeholder,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm input[type=email]::placeholder{color:#909090}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoAsterix,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoOffset,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoGutter,.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm #LblConsent_to_Processing__c{display:none}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoFormRow.i-consent-row{order:999}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoFormRow.i-consent-row~.mktoButtonRow{order:1000}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList{margin-top:20px;width:100%!important}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList label{margin:0;display:block;padding-left:30px;color:#838383;font-size:14px;line-height:19.6px;text-align:left}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList label:before{margin-left:-30px;margin-top:8px;border:2px solid #C9A3F8;border-radius:5px;background-color:transparent;box-shadow:none;color:#fff}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList label a{padding:0;font-size:14px;color:#838383;font-weight:700}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList input[type=checkbox]{display:none}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm div.mktoLogicalField.mktoCheckboxList input[type=checkbox]:checked+label:before{background:#C9A3F8}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoButtonRow{flex-basis:auto;width:100%}.i-modal-background .i-modal-content.i-popup-vertical form.mktoForm .mktoButton{margin-top:20px;display:flex;align-items:center;justify-content:center;border-radius:52px;width:100%;height:52px;border:none;color:#fff;font-weight:700;font-size:14px;line-height:20px;cursor:pointer}form.mktoForm.i-sub-form{margin:auto;display:flex;flex-direction:column;align-items:center;grid-gap:unset;height:auto;max-width:100%}form.mktoForm.i-sub-form .mktoFormCol .mktoFieldWrap{margin-bottom:5px}form.mktoForm.i-sub-form .mktoFormRow,form.mktoForm.i-sub-form .mktoFieldDescriptor,form.mktoForm.i-sub-form .mktoFieldWrap{margin:0!important;width:100%}form.mktoForm.i-sub-form select,form.mktoForm.i-sub-form input:not([type=radio]):not([type=checkbox]):not([type=submit]):not([type=button]):not([type=image]):not([type=file]){width:100%!important}form.mktoForm.i-sub-form .mktoAsterix,form.mktoForm.i-sub-form .mktoOffset,form.mktoForm.i-sub-form .mktoGutter,form.mktoForm.i-sub-form #LblConsent_to_Processing__c{display:none}form.mktoForm.i-sub-form .mktoFormRow.i-consent-row{order:999}form.mktoForm.i-sub-form .mktoFormRow.i-consent-row~.mktoButtonRow{order:1000}form.mktoForm.i-sub-form div.mktoLogicalField.mktoCheckboxList{width:100%!important}form.mktoForm.i-sub-form div.mktoLogicalField.mktoCheckboxList label{margin:0;display:block;padding-left:20px;line-height:1.3333;text-align:left}form.mktoForm.i-sub-form div.mktoLogicalField.mktoCheckboxList label:before{margin-top:8px}form.mktoForm.i-sub-form div.mktoLogicalField.mktoCheckboxList input[type=checkbox]{display:none}form.mktoForm.i-sub-form .mktoButtonRow{flex-basis:auto;width:100%}form.mktoForm.i-sub-form .mktoButtonRow .mktoButtonWrap{margin:0!important}","scon":{"a":1609802000},"ictp":0.2,"ipcc":false,"plugins":["utils","class-exists","create-page","create-template","element-in-viewport","email-validation","exit-intent","get-vendor-function","request-animation-frame","repeat-action","get-control-status","get-current-session","form","modal","random-number-generator","track-click","url-params","user-state","marketo-interface","inode","popup"],"schemaVersion":"2","origins":[{"domain":"gong.io","includeSubdomains":false},{"domain":"pages.gong.io","includeSubdomains":false}],"classicAccess":true}';
var iOverride = {};
(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__pow=Math.pow,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var i={};for(var s in e)__hasOwnProp.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&__getOwnPropSymbols)for(var s of __getOwnPropSymbols(e))t.indexOf(s)<0&&__propIsEnum.call(e,s)&&(i[s]=e[s]);return i},__publicField=(e,t,i)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,i),i),__async=(e,t,i)=>new Promise(((s,n)=>{var r=e=>{try{a(i.next(e))}catch(t){n(t)}},o=e=>{try{a(i.throw(e))}catch(t){n(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,o);a((i=i.apply(e,t)).next())}));!function(){"use strict";var e,t,i={},s={},n={};Object.defineProperty(n,"__esModule",{value:!0}),n.LogLevel=void 0,(t=e||(n.LogLevel=e={}))[t.OFF=5]="OFF",t[t.ERROR=4]="ERROR",t[t.WARN=3]="WARN",t[t.INFO=2]="INFO",t[t.DEBUG=1]="DEBUG",t[t.TRACE=0]="TRACE",Object.defineProperty(s,"__esModule",{value:!0}),s.BasicConsoleLogger=void 0;var r=n,o=function(){function e(e,t){this.prefix="",this.theConsole=e,this.minimumLogLevel=t}return e.prototype.getLevel=function(){return this.minimumLogLevel},e.prototype.error=function(e,t){this.minimumLogLevel<=r.LogLevel.ERROR&&this.theConsole.error("[".concat(t,"] ").concat(this.format(e)))},e.prototype.warn=function(e,t){this.minimumLogLevel<=r.LogLevel.WARN&&this.theConsole.warn("[".concat(t,"] ").concat(this.format(e)))},e.prototype.info=function(e,t){if(this.minimumLogLevel<=r.LogLevel.INFO){var i=void 0!==t?"[".concat(t,"] "):"";this.theConsole.info("".concat(i).concat(this.format(e)))}},e.prototype.debug=function(e,t){if(this.minimumLogLevel<=r.LogLevel.DEBUG){var i=void 0!==t?"[".concat(t,"] "):"";(this.theConsole.debug?this.theConsole.debug:this.theConsole.log)("".concat(i).concat(this.format(e)))}},e.prototype.group=function(e){this.minimumLogLevel<=r.LogLevel.DEBUG&&(this.prefix+="⎢ ",this.theConsole.log("[1m"+this.format(e)+"[22m"))},e.prototype.groupEnd=function(){this.minimumLogLevel<=r.LogLevel.DEBUG&&(this.prefix=this.prefix.slice(0,-2))},e.prototype.time=function(e){this.minimumLogLevel<=r.LogLevel.DEBUG&&this.theConsole.time(this.format(e))},e.prototype.timeEnd=function(e){this.minimumLogLevel<=r.LogLevel.DEBUG&&this.theConsole.timeEnd(this.format(e))},e.prototype.format=function(e){return e.toString().replace(/^/gm,this.prefix)},e}();s.BasicConsoleLogger=o;var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.NO_OP_LOGGER=void 0;var l=n;a.NO_OP_LOGGER=function(){return{getLevel:function(){return l.LogLevel.OFF},error:function(){},warn:function(){},info:function(){},debug:function(){},group:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){}}}();var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.GroupConsoleLogger=void 0;var u=n,d=function(){function e(e,t){this.theConsole=e,this.minimumLogLevel=t}return e.prototype.getLevel=function(){return this.minimumLogLevel},e.prototype.error=function(e,t){this.minimumLogLevel<=u.LogLevel.ERROR&&this.theConsole.error("[".concat(t,"] ").concat(e))},e.prototype.warn=function(e,t){this.minimumLogLevel<=u.LogLevel.WARN&&this.theConsole.warn("[".concat(t,"] ").concat(e))},e.prototype.info=function(e,t){if(this.minimumLogLevel<=u.LogLevel.INFO){var i=void 0!==t?"[".concat(t,"] "):"";this.theConsole.info("".concat(i).concat(e))}},e.prototype.debug=function(e,t){if(this.minimumLogLevel<=u.LogLevel.DEBUG){var i=void 0!==t?"[".concat(t,"] "):"";(this.theConsole.debug?this.theConsole.debug:this.theConsole.log)("".concat(i).concat(e))}},e.prototype.group=function(e){this.minimumLogLevel<=u.LogLevel.DEBUG&&this.theConsole.group(e)},e.prototype.groupEnd=function(){this.minimumLogLevel<=u.LogLevel.DEBUG&&this.theConsole.groupEnd()},e.prototype.time=function(e){this.minimumLogLevel<=u.LogLevel.DEBUG&&this.theConsole.time(e)},e.prototype.timeEnd=function(e){this.minimumLogLevel<=u.LogLevel.DEBUG&&this.theConsole.timeEnd(e)},e}();c.GroupConsoleLogger=d,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.GroupConsoleLogger=e.NO_OP_LOGGER=e.LogLevel=e.BasicConsoleLogger=void 0;var t=s;Object.defineProperty(e,"BasicConsoleLogger",{enumerable:!0,get:function(){return t.BasicConsoleLogger}});var i=n;Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return i.LogLevel}});var r=a;Object.defineProperty(e,"NO_OP_LOGGER",{enumerable:!0,get:function(){return r.NO_OP_LOGGER}});var o=c;Object.defineProperty(e,"GroupConsoleLogger",{enumerable:!0,get:function(){return o.GroupConsoleLogger}})}(i);const h=e=>"[object Array]"===Object.prototype.toString.call(e),g=e=>"boolean"==typeof e,p=e=>"number"==typeof e,m=e=>"[object Object]"===Object.prototype.toString.call(e),v=e=>"[object String]"===Object.prototype.toString.call(e),b=e=>v(e)&&e.length>0,f=e=>void 0===e,E=e=>v(e)&&/^[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/.test(e),_=e=>{try{return b(e)&&/^[\u0020-\u007E]+$/.test(e)}catch(t){return!1}},y=(e,t)=>!!m(e)&&Object.keys(e).every((e=>t.includes(e))),S="imize-extension",I="imize-field-name";var w=(e=>(e.backgroundColor="backgroundColor",e.backgroundImage="backgroundImage",e.backgroundPosition="backgroundPosition",e.backgroundRepeat="backgroundRepeat",e.backgroundSize="backgroundSize",e.borderColor="borderColor",e.borderStyle="borderStyle",e.borderWidth="borderWidth",e.borderRadius="borderRadius",e.bottom="bottom",e.boxShadow="boxShadow",e.clear="clear",e.color="color",e.cursor="cursor",e.direction="direction",e.float="float",e.fontFamily="fontFamily",e.fontSize="fontSize",e.fontWeight="fontWeight",e.left="left",e.letterSpacing="letterSpacing",e.lineHeight="lineHeight",e.listStyleType="listStyleType",e.listStylePosition="listStylePosition",e.height="height",e.minHeight="minHeight",e.maxHeight="maxHeight",e.width="width",e.minWidth="minWidth",e.maxWidth="maxWidth",e.visibility="visibility",e.display="display",e.position="position",e.margin="margin",e.marginLeft="marginLeft",e.marginRight="marginRight",e.marginTop="marginTop",e.marginBottom="marginBottom",e.opacity="opacity",e.overflow="overflow",e.padding="padding",e.paddingLeft="paddingLeft",e.paddingRight="paddingRight",e.paddingTop="paddingTop",e.paddingBottom="paddingBottom",e.right="right",e.textAlign="textAlign",e.textShadow="textShadow",e.textTransform="textTransform",e.top="top",e.wordSpacing="wordSpacing",e.zIndex="zIndex",e))(w||{});const C=new Set(["beforebegin","afterbegin","beforeend","afterend"]),T=e=>v(e)&&C.has(e),x=e=>m(e)&&T(e.insertPosition)&&A(e.selector)&&y(e,["insertPosition","selector"]),A=_;var F=(e=>(e.UNAPPLIED="UNAPPLIED",e.APPLIED="APPLIED",e.ERROR="ERROR",e))(F||{});const k=e=>!!m(e)&&Object.keys(e).every((t=>t in w&&"string"==typeof e[t])),P=new Set(["rich-text","html-block","video","image","heading"]),M=e=>v(e)&&P.has(e);let D=class extends Error{constructor(e){super(e),this.name="UnexpectedNullException"}};function N(e,t){if(null==e||"string"==typeof e&&0===e.length)throw new D(t);return e}let O=class extends Error{constructor(e){super(e),this.name="IllegalArgumentException"}};function R(e,t){if(N(e),!e)throw new O(t)}let L=class extends Error{constructor(e){super(e),this.name="IllegalStateException"}};function $(e,t){if(N(e),!e)throw new L(t)}let V=class extends Error{constructor(e){super(e),this.name="NoSuchElementException"}};var U=Object.defineProperty,W=(e,t,i)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,z=(e,t,i)=>(W(e,"symbol"!=typeof t?t+"":t,i),i);let j=class{static empty(){return H.INSTANCE}static of(e){return new B(N(e))}static ofNullable(e){return null==e||"string"==typeof e&&0===e.length?H.INSTANCE:new B(e)}};class B extends j{constructor(e){super(),z(this,"value"),this.value=e}isPresent(){return!0}ifPresent(e){return e(this.value),this}ifAbsent(e){return this}get(){return this.value}orElse(e){return this.value}orElseRun(e){return this.value}toArray(){return[this.value]}map(e){return j.ofNullable(e(this.value))}flatMap(e){return e(this.value)}toString(){return`Optional[${this.value.toString()}]`}}const G=class extends j{isPresent(){return!1}ifPresent(e){return this}ifAbsent(e){return e(),this}get(){throw new V("No value present")}orElse(e){return e}orElseRun(e){return e()}toArray(){return[]}map(e){return j.empty()}flatMap(e){return j.empty()}toString(){return"Optional.empty"}};let H=G;z(H,"INSTANCE",new G);const Q=j.ofNullable("v5.fc9c0689").orElse("NA"),q=1e3,K=50,NO_PROGRESS_TOLERANCE_TIME_MS=48e4,Y=1800,J=86400,X=3600,Z=500,ee=1e3,te=1,ie="api.intellimize.co",se="log.intellimize.co",ne="intellimize_api_",re="intellimize_attributes_",oe="intellimize_integrations_",ae="intellimize_",le="intellimize_policy_",ce="intellimize_server_context_",ue="intellimize_activity_",de="intellimize_user_",he="intellimize_opt_out_",ge="intellimize_shopify_",pe="intellimize_status_module_",me="_mkto_trk",ve="hubspotutk",be="wf",fe=i.LogLevel.WARN,Ee=i.LogLevel.OFF,_e=["utt","utm","uts","utcn","utcm"],ye="mkt_tok",Se="_hsenc";function Ie(e,t,i){try{return we(e,t,i)}catch(s){return"CAN_NOT_SERIALIZE"}}function we(e,t,i){let s;if(void 0!==Array.prototype.toJSON&&"[3]"!==JSON.stringify([3])){const n=Array.prototype.toJSON;delete Array.prototype.toJSON,s=JSON.stringify(e,t,i),Array.prototype.toJSON=n}else s=JSON.stringify(e,t,i);return s}function Ce(e){return JSON.parse(e)}function Te(e){const t={type:e.type,target:Ae(e.target)};return e.addedNodes&&e.addedNodes.length>0&&(t.addedNodes=Array.prototype.map.call(e.addedNodes,Ae)),e.removedNodes&&e.removedNodes.length>0&&(t.removedNodes=Array.prototype.map.call(e.removedNodes,Ae)),e.attributeName&&(t.attributeName=e.attributeName),e.oldValue&&(t.oldValue=e.oldValue),we(t)}function xe(e){return we(Ae(e))}function Ae(e){const t={nodeName:e.nodeName};return null!==e.textContent&&e.textContent.length<500&&(t.textContent=e.textContent),e instanceof Element&&(e.id&&(t.id=e.id),e.classList&&e.classList.length>0&&(t.classList=e.classList),e.attributes&&e.attributes.length>0&&(t.attributes=Fe(e.attributes))),t}function Fe(e){const t=e.length,i=[];for(let s=0;s<t;s+=1){const t=e.item(s);null!==t&&i.push({name:t.name,value:t.value})}return i}function ke(e,t){const i=e.getWindow().atob(t),s=Me(e,i);return decodeURIComponent(s)}function Pe(e,t){return Ce(ke(e,t))}function Me(e,t){const i=[...e.getWindow().atob("YmdKTnQ=")],s=[];for(let n=0;n<t.length;n++){const e=t.codePointAt(n)^i[n%i.length].codePointAt(0);s.push(String.fromCodePoint(e))}return s.join("")}function De(e){return e.getWindow().atob("Y1B1YmdKTnQ=")}function Ne(e){let t;if(void 0!==e)t=e;else{if("undefined"==typeof window)return i.NO_OP_LOGGER;t=window}const s=$e(t);return s===i.LogLevel.OFF?i.NO_OP_LOGGER:"group"in t.console?new Oe(t,s):new Re(t,s)}class Oe extends i.GroupConsoleLogger{constructor(e,t){super(e.console,t),__publicField(this,"idebFilters"),this.idebFilters=ze(e)}debug(e,t,i,s){Le(this.idebFilters,s)&&super.debug(e,t,i)}info(e,t,i,s){Le(this.idebFilters,s)&&super.info(e,t,i)}warn(e,t,i,s){Le(this.idebFilters,s)&&super.warn(e,t,i)}error(e,t,i,s){Le(this.idebFilters,s)&&super.error(e,t,i)}group(e,t){Le(this.idebFilters,t)&&super.group(e)}groupEnd(e){Le(this.idebFilters,e)&&super.groupEnd()}time(e,t){Le(this.idebFilters,t)&&super.time(e)}timeEnd(e,t){Le(this.idebFilters,t)&&super.timeEnd(e)}}class Re extends i.BasicConsoleLogger{constructor(e,t){super(e.console,t),__publicField(this,"idebFilters"),this.idebFilters=ze(e)}debug(e,t,i,s){Le(this.idebFilters,s)&&super.debug(e,t,i)}info(e,t,i,s){Le(this.idebFilters,s)&&super.info(e,t,i)}warn(e,t,i,s){Le(this.idebFilters,s)&&super.warn(e,t,i)}error(e,t,i,s){Le(this.idebFilters,s)&&super.error(e,t,i)}group(e,t){Le(this.idebFilters,t)&&super.group(e)}groupEnd(e){Le(this.idebFilters,e)&&super.groupEnd()}time(e,t){Le(this.idebFilters,t)&&super.time(e)}timeEnd(e,t){Le(this.idebFilters,t)&&super.timeEnd(e)}}function Le(e,t){const i=[],s=[];for(const n of e)n.startsWith("!")?s.push(n.slice(1)):i.push(n);return void 0===t&&0===i.length||(!0===(null==t?void 0:t.some((e=>i.includes(e))))||!0!==(null==t?void 0:t.some((e=>s.includes(e))))&&(!(i.length>0)||void 0!==t&&!t.every((e=>!i.includes(e)))))}function $e(e){let t=Ve(e);return t.isPresent()?t.get():(t=Ue(e),t.isPresent()?t.get():(t=We(e),t.isPresent()?t.get():Ee))}function Ve(e){var t,i;return j.ofNullable(null==(i=null==(t=null==e?void 0:e.location)?void 0:t.search)?void 0:i.slice(1)).flatMap((e=>j.ofNullable(/(?:^|\?|&)ideb=([0-5])(?:$|&|#)/.exec(e)).map((e=>Number.parseInt(e[1],10)))))}function Ue(e){var t;return j.ofNullable(null==(t=null==e?void 0:e.localStorage)?void 0:t.getItem("ideb")).flatMap((e=>j.ofNullable(/^([0-5])$/.exec(e)).map((e=>Number.parseInt(e[1],10)))))}function We(e){var t;return j.ofNullable(null==(t=null==e?void 0:e.iOverride)?void 0:t.logLevel)}function ze(e){var t;return j.ofNullable(null==(t=null==e?void 0:e.localStorage)?void 0:t.getItem("ideb_filters")).map((e=>e.split(","))).orElse([])}class je{constructor({name:e,namespace:t}){__publicField(this,"name"),__publicField(this,"namespace"),this.name=e,this.namespace=t}getId(){return{name:this.name,namespace:this.namespace}}getName(){return this.name}getNamespace(){return this.namespace}getValue(e){return e.getAttributeValue(this)}}class Be{constructor(e){__publicField(this,"audience"),this.audience=e}getId(){return this.audience.getId()}getName(){return this.audience.getName()}getState(){return this.audience.getState()}getCondition(){return this.audience.getCondition()}addExperience(e){this.audience.addExperience(e)}addVariation(e){this.audience.addVariation(e)}getCode(){return this.audience.getCode()}getExperiences(){return this.audience.getExperiences()}getVariations(){return this.audience.getVariations()}isInclude(){return!1}}class Ge{constructor(e,t,i,s,n){__publicField(this,"logger"),__publicField(this,"json"),__publicField(this,"filter"),__publicField(this,"newAggregator"),__publicField(this,"operation"),this.json=e,this.filter=t,this.newAggregator=i,this.logger=n,this.operation=s}evaluate(e){this.logger.group("ActivityCondition.evaluate()"),this.logger.debug(`activity condition config: ${JSON.stringify(this.json)}`);const t=e.getActivities();this.logger.debug(`activities: ${JSON.stringify(t)}`),this.logger.info(`activity count: ${t.length}`);const i=t.filter((e=>this.filter.evaluate(e)));this.logger.debug(`filtered activities: ${JSON.stringify(i)}`),this.logger.info(`filtered activities count: ${i.length}`);const s=this.newAggregator();i.forEach((e=>{s.accept(e)}));const n=s.result();this.logger.info(`aggregator result: ${n}`);const r=this.operation(j.of(n));return this.logger.info(`condition result: ${r}`),this.logger.groupEnd(),r}toJSON(){return JSON.parse(JSON.stringify(this.json))}}class He{constructor(e,t){__publicField(this,"conditions"),this.conditions=e.conditions.map((e=>t.buildCondition(e)))}getConditions(){return this.conditions}evaluate(e){return this.conditions.every((t=>t.evaluate(e)))}toJSON(){return{conditions:this.conditions.map((e=>e.toJSON())),type:"logic-and"}}}class Qe{constructor(e,t,i){__publicField(this,"audience");const s=t.getAudience(e.audienceId);this.audience=!0===i?new Be(s):s}getAudience(){return this.audience}evaluate(e){return this.audience.getCondition().evaluate(e)}toJSON(){return{audienceId:this.audience.getId(),type:"audience"}}}class qe{constructor(e){__publicField(this,"code"),this.code=e.code}getCode(){return this.code}evaluate(e){return e.evalBoolean(this.code)}toJSON(){return{code:this.code,type:"code"}}}class Ke{constructor(e,t,i){__publicField(this,"json"),__publicField(this,"attributeDefinition"),__publicField(this,"operation"),this.json=e,this.attributeDefinition=t,this.operation=i}getAttributeDefinition(){return this.attributeDefinition}getComparisonOperation(){return this.operation}evaluate(e){return this.operation(this.attributeDefinition.getValue(e))}toJSON(){return JSON.parse(JSON.stringify(this.json))}}class Ye{constructor(e,t){__publicField(this,"condition");const i="audience"===e.condition.type;this.condition=t.buildCondition(e.condition,i)}getCondition(){return this.condition}evaluate(e){return!this.condition.evaluate(e)}toJSON(){return{condition:this.condition.toJSON(),type:"logic-not"}}}class Je{constructor(e,t){__publicField(this,"conditions"),this.conditions=e.conditions.map((e=>t.buildCondition(e)))}getConditions(){return this.conditions}evaluate(e){return this.conditions.some((t=>t.evaluate(e)))}toJSON(){return{conditions:this.conditions.map((e=>e.toJSON())),type:"logic-or"}}}class Xe{constructor(e,t,i){var s;if(__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"state"),__publicField(this,"condition"),__publicField(this,"experiences",[]),__publicField(this,"variations",[]),this.id=e,this.name=t.name,this.state=null!=(s=t.state)?s:"live",void 0!==t.code&&void 0!==t.condition)this.condition=i.buildCondition({conditions:[{code:t.code,type:"code"},t.condition],type:"logic-and"});else if(void 0!==t.code)this.condition=i.buildCondition({code:t.code,type:"code"});else{if(void 0===t.condition)throw new D('Unable to build condition for audience. No "code" or "condition" property.');this.condition=i.buildCondition(t.condition)}}getId(){return this.id}getName(){return this.name}getState(){return this.state}getCondition(){return this.condition}addExperience(e){this.experiences.push(e)}addVariation(e){this.variations.push(e)}getCode(){return this.condition instanceof qe?j.of(this.condition.getCode()):j.empty()}getExperiences(){return[...this.experiences]}getVariations(){return[...this.variations]}isInclude(){return!0}}const Ze=["standard","custom","url_param","marketo","salesforce","firmographic","6sense","googleAds","demandbase","hubspot"];var et=(e=>(e.ATTRIBUTE="ATTRIBUTE",e.CUSTOM_CODE="CUSTOM_CODE",e.INSERT_ELEMENT="INSERT_ELEMENT",e.EXTENSION="EXTENSION",e.EXTENSION_ATTRIBUTE="EXTENSION_ATTRIBUTE",e.MOVE_ELEMENT="MOVE_ELEMENT",e.WEBFLOW="WEBFLOW",e))(et||{});const tt=["checkout_completed","checkout_started","collection_viewed","product_added_to_cart","product_viewed","search_submitted"],it="118",st="exists",nt="notExists";class rt{constructor(){__publicField(this,"count",0)}accept(e){this.count++}result(){return this.count}}class ot{constructor(e){__publicField(this,"activityFieldFunction"),__publicField(this,"set",new Set),this.activityFieldFunction=e}accept(e){const t=this.activityFieldFunction(e);t.isPresent()&&this.set.add(t.get())}result(){return this.set.size}}class at{constructor(e){__publicField(this,"activityFieldFunction"),__publicField(this,"sum",0),__publicField(this,"count",0),this.activityFieldFunction=e}accept(e){const t=this.activityFieldFunction(e);t.isPresent()&&(this.count++,this.sum+=t.get())}result(){return this.count>0?this.sum/this.count:0}}class lt{constructor(e){__publicField(this,"activityFieldFunction"),__publicField(this,"sum",0),this.activityFieldFunction=e}accept(e){const t=this.activityFieldFunction(e);this.sum+=t.orElse(0)}result(){return this.sum}}class ct{constructor(e,t){__publicField(this,"filters"),this.filters=e.filters.map((e=>t.buildActivityFilter(e)))}evaluate(e){return this.filters.every((t=>t.evaluate(e)))}}class ut{constructor(e,t){__publicField(this,"activityFieldFunction"),__publicField(this,"operation"),this.activityFieldFunction=e,this.operation=t}evaluate(e){return this.operation(this.activityFieldFunction(e))}}class dt{constructor(e,t){__publicField(this,"filter"),this.filter=t.buildActivityFilter(e.filter)}evaluate(e){return!this.filter.evaluate(e)}}class ht{constructor(e,t){__publicField(this,"filters"),this.filters=e.filters.map((e=>t.buildActivityFilter(e)))}evaluate(e){return this.filters.some((t=>t.evaluate(e)))}}class gt{constructor(e,t,i,s){__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"controlTrafficPercentage"),__publicField(this,"code"),__publicField(this,"css"),__publicField(this,"metrics"),__publicField(this,"experiences"),__publicField(this,"customer"),__publicField(this,"intervals"),__publicField(this,"intervalModifications"),__publicField(this,"important"),__publicField(this,"primaryMetrics"),this.id=e,this.customer=s,this.name=t.name,this.intervals=[],this.intervalModifications=[],void 0!==t.ictp&&(this.controlTrafficPercentage=t.ictp),void 0!==t.code&&(this.code=t.code),void 0!==t.css&&(this.css=t.css);const n=[];for(const[r,o]of Object.entries(t.experiences)){const e=i.buildExperience(r,o,this);n.push(e)}this.experiences=n,this.important=Boolean(t.important),void 0!==t.modifiedIntervals&&(this.intervals=t.modifiedIntervals),void 0!==t.intervalModifications&&(this.intervalModifications=t.intervalModifications),this.metrics=t.metrics.map((e=>i.buildMetric(e,this))),this.primaryMetrics=t.primaryMetrics}getId(){return this.id}getName(){return this.name}getControlTrafficPercentage(){return j.ofNullable(this.controlTrafficPercentage)}getCode(){return j.ofNullable(this.code)}getCss(){return j.ofNullable(this.css)}getExperiences(){return this.experiences}getMetrics(){return this.metrics}getMetric(e){const t=this.metrics.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getCustomer(){return this.customer}getExperience(e){const t=this.experiences.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getIntervals(){return this.intervals}getIntervalModifications(){return this.intervalModifications}isImportant(){return this.important}getPrimaryMetrics(){const{primaryMetrics:e}=this,t="customer"===e.level?this.customer.getMetrics():this.metrics;return 0===e.metricIds.length?t:t.filter((t=>e.metricIds.includes(t.getId())))}getPrimaryMetricLevel(){return this.primaryMetrics.level}}class pt{constructor(e){__publicField(this,"username"),__publicField(this,"role"),this.username=e.username,this.role=e.role}getUsername(){return this.username}getRole(){return this.role}}class mt{constructor(e){var t,i;__publicField(this,"enabled"),__publicField(this,"originWhitelist"),__publicField(this,"originBlacklist"),void 0===e?(this.enabled=!1,this.originWhitelist=[],this.originBlacklist=[]):(this.enabled=e.enabled||!1,this.originWhitelist=null!=(t=e.originWhitelist)?t:[],this.originBlacklist=null!=(i=e.originBlacklist)?i:[])}static isMatchingOrigin(e,t){return new RegExp(`^${e}$`).test(t)}isEnabled(){return this.enabled}getOriginWhitelist(){return this.originWhitelist}getOriginBlacklist(){return this.originBlacklist}isOriginAllowed(e){let t=!1;for(const i of this.originWhitelist)if(mt.isMatchingOrigin(i,e)){t=!0;break}if(t)for(const i of this.originBlacklist)if(mt.isMatchingOrigin(i,e)){t=!1;break}return t}}function vt(e){return e instanceof Error?e:new Error(e)}class bt extends Error{constructor(e,t){super(e),__publicField(this,"cause"),this.name="ProxyError",this.cause=vt(t),this.message=this.getAggregateMessage(),void 0!==this.cause.stack&&(this.stack=this.cause.stack)}getCause(){return this.cause instanceof bt?this.cause.getCause():this.cause}getAggregateMessage(){let e=`${this.message}. `;return e+=this.cause instanceof bt?this.cause.getAggregateMessage():`${this.cause.name}: ${this.cause.message}`,e}}class ft{constructor(e,t,i){var s;__publicField(this,"logger"),__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"type"),__publicField(this,"state"),__publicField(this,"metrics",[]),this.logger=i.getLogger(),this.id=e,this.name=t.name,this.type=t.type,R(void 0!==this.type,"invalid event type: "+t.type),this.state=null!=(s=t.state)?s:"live"}addMetric(e){this.metrics.push(e)}getId(){return this.id}getName(){return this.name}getType(){return this.type}getState(){return this.state}getMetrics(){const e=[];return this.metrics.forEach((t=>{e.push(t)})),e}}class Et extends ft{}class _t extends Et{constructor(e,t,i){super(e,t,i),__publicField(this,"pages"),__publicField(this,"code"),__publicField(this,"selector"),this.pages=t.pageIds.flatMap((e=>i.getPage(e).toArray())),this.pages.forEach((e=>{e.addEvent(this)})),void 0!==t.code&&(this.code=t.code),this.selector=t.selector}static filterEvents(e){return e.filter((e=>"click"===e.getType()))}getPages(){return this.pages}getCode(){return j.ofNullable(this.code)}getSelector(){return this.selector}executeCode(e){this.logger.debug("executeCode() if present");let t=!0;if(this.getCode().isPresent()){const s=this.getCode().get();try{this.logger.info(`Event ${this.id} code running`),t=e(s),this.logger.info(`Event ${this.id} code result => ${t}`)}catch(i){const e=new bt(`Click event (${this.id}) code execution failed `,i);t=!1,this.logger.error(e,1007,{eventId:this.id})}}return t}}class yt extends ft{constructor(e,t,i){super(e,t,i),__publicField(this,"apiName"),this.apiName=t.apiName}static filterEvents(e){return e.filter((e=>"custom"===e.getType()))}getApiName(){return this.apiName}}class St extends ft{constructor(e,t,i){super(e,t,i),__publicField(this,"formId"),this.formId=t.formId}static filterEvents(e){return e.filter((e=>"hubspot"===e.getType()))}getFormId(){return this.formId}}class It extends ft{constructor(e,t,i){super(e,t,i),__publicField(this,"formId"),this.formId=t.formId}static filterEvents(e){return e.filter((e=>"marketo"===e.getType()))}getFormId(){return this.formId}}class wt extends ft{constructor(e,t,i){super(e,t,i),__publicField(this,"customerEventName"),this.customerEventName=t.customerEventName}static filterEvents(e){return e.filter((e=>"shopify"===e.getType()))}getCustomerEventName(){return this.customerEventName}}class Ct extends ft{constructor(e,t,i){super(e,t,i)}}class Tt extends ft{constructor(e,t,i){super(e,t,i),__publicField(this,"pages"),__publicField(this,"code"),this.pages=t.pageIds.flatMap((e=>i.getPage(e).toArray())),this.pages.forEach((e=>{e.addEvent(this)})),void 0!==t.code&&(this.code=t.code)}static filterEvents(e){return e.filter((e=>"view"===e.getType()))}getPages(){return this.pages}getCode(){return j.ofNullable(this.code)}executeCode(e){this.logger.debug("executeCode() if present");let t=!0;if(this.getCode().isPresent()){const s=this.getCode().get();try{this.logger.info(`Event ${this.id} code running`),t=e(s),this.logger.info(`Event ${this.id} code result => ${t}`)}catch(i){const e=new bt(`View event (${this.id}) code execution failed `,i);t=!1,this.logger.error(e,1011,{eventId:this.id})}}return t}}class xt extends Et{static filterEvents(e){return e.filter((e=>"wf_engagement_click"===e.getType()))}constructor(e,t,i){super(e,t,i)}getSelector(){return"[data-wf-native-id-path]"}}class At{constructor(e,t){var i,s,n,r,o,a,l;__publicField(this,"data"),__publicField(this,"active"),__publicField(this,"encrypt"),__publicField(this,"schemaVersion"),__publicField(this,"id"),__publicField(this,"version"),__publicField(this,"name"),__publicField(this,"controlStickyConfig"),__publicField(this,"campaignControl"),__publicField(this,"controlTrafficPercentage"),__publicField(this,"collaborators"),__publicField(this,"excludeIps"),__publicField(this,"plugins"),__publicField(this,"metrics"),__publicField(this,"campaigns"),__publicField(this,"pages"),__publicField(this,"audiences"),__publicField(this,"experiences"),__publicField(this,"iEvents"),__publicField(this,"code"),__publicField(this,"css"),__publicField(this,"snippetDomain"),__publicField(this,"urlParamFilters"),__publicField(this,"customAttributeFilters"),__publicField(this,"googleAnalytics4Integration"),__publicField(this,"segmentAnalyticsIntegration"),__publicField(this,"mixpanelIntegration"),__publicField(this,"marketoIntegration"),__publicField(this,"salesforceIntegration"),__publicField(this,"shopifyIntegration"),__publicField(this,"firmographicIntegration"),__publicField(this,"sixsenseIntegration"),__publicField(this,"googleAdsIntegration"),__publicField(this,"demandbaseIntegration"),__publicField(this,"hubspotIntegration"),__publicField(this,"mfa"),__publicField(this,"changelogInternal"),__publicField(this,"changelogExternal"),__publicField(this,"crossOrigin"),__publicField(this,"origins"),__publicField(this,"vertical"),__publicField(this,"currentContract"),__publicField(this,"timeZone"),__publicField(this,"classicAccess"),__publicField(this,"salesforceAccountId"),__publicField(this,"autoUpdateOrigins"),__publicField(this,"roiScenario"),__publicField(this,"webflowSiteId"),__publicField(this,"limitedModeCondition"),this.data=e,this.active=e.active,this.encrypt=e.encrypt,this.schemaVersion=null!=(i=e.schemaVersion)?i:"1",this.id=e.id,this.version=e.__v,this.name=e.name,this.controlStickyConfig=t.buildControlStickyConfig(e.scon),this.campaignControl=e.ipcc,this.campaignControl||void 0===e.ictp||(this.controlTrafficPercentage=e.ictp),void 0!==e.code&&(this.code=e.code),void 0!==e.css&&(this.css=e.css),void 0!==e.snippetDomain&&(this.snippetDomain=e.snippetDomain);const c=[];void 0!==e.collaborators&&e.collaborators.forEach((e=>{c.push(t.buildCollaborator(e))})),this.collaborators=c,this.excludeIps=null!=(s=e.excludeIps)?s:[],this.plugins=null!=(n=e.plugins)?n:[],this.urlParamFilters=null!=(r=e.urlParamFilters)?r:[],this.customAttributeFilters=null!=(o=e.customAttributeFilters)?o:[],this.changelogInternal=null!=(a=e.changelogInternal)?a:[],this.changelogExternal=null!=(l=e.changelogExternal)?l:[],this.crossOrigin=t.buildCrossOrigin(e.crossOrigin),this.origins=void 0!==e.origins&&e.origins.length>0?e.origins.map((e=>t.buildOrigin(e))):[];const u=[];for(const[v,b]of Object.entries(e.audiences)){const e=t.buildAudience(v,b);u.push(e)}this.audiences=u;const d=[];for(const[v,b]of Object.entries(e.pages)){const e=t.buildPage(v,b);d.push(e)}this.pages=d;const h=[];for(const[v,b]of Object.entries(e.events)){const e=t.buildEvent(v,b);h.push(e)}this.iEvents=h;for(const[v,b]of Object.entries(e.pages))"metrics"in b&&b.metrics.forEach((e=>{t.getPage(v).ifPresent((i=>{i.addMetric(t.buildMetric(e,void 0,i))}))}));let g=[];void 0!==e.metrics&&(g=e.metrics.map((e=>t.buildMetric(e,void 0,void 0,this)))),this.metrics=g;const p=[];for(const[v,b]of Object.entries(e.campaigns)){const e=t.buildCampaign(v,b,this);p.push(e)}this.campaigns=p;const m=new Map;this.campaigns.forEach((e=>{e.getExperiences().forEach((e=>{m.set(e.getId(),e)}))})),this.experiences=m,void 0!==e.iint&&(void 0!==e.iint.ga4&&(this.googleAnalytics4Integration=t.buildGoogleAnalytics4Integration(e.iint.ga4)),void 0!==e.iint.sg&&(this.segmentAnalyticsIntegration=t.buildSegmentIntegration(e.iint.sg)),void 0!==e.iint.mp&&(this.mixpanelIntegration=t.buildMixpanelIntegration(e.iint.mp)),void 0!==e.iint.marketo&&(this.marketoIntegration=t.buildMarketoIntegration(e.iint.marketo)),void 0!==e.iint.salesforce&&(this.salesforceIntegration=t.buildSalesforceIntegration(e.iint.salesforce)),void 0!==e.iint.shopify&&(this.shopifyIntegration=t.buildShopifyIntegration(e.iint.shopify,this.metrics,this.pages,this.iEvents)),void 0!==e.iint.firmographic&&(this.firmographicIntegration=t.buildFirmographicIntegration(e.iint.firmographic)),void 0!==e.iint.sixsense&&(this.sixsenseIntegration=t.buildSixsenseIntegration(e.iint.sixsense)),void 0!==e.iint.googleAds&&(this.googleAdsIntegration=t.buildGoogleAdsIntegration(e.iint.googleAds)),void 0!==e.iint.demandbase&&(this.demandbaseIntegration=t.buildDemandbaseIntegration(e.iint.demandbase)),void 0!==e.iint.hubspot&&(this.hubspotIntegration=t.buildHubspotIntegration(e.iint.hubspot))),this.mfa=Boolean(e.mfa),void 0!==e.vertical&&(this.vertical=e.vertical),void 0!==e.currentContract&&(this.currentContract=e.currentContract),void 0!==e.timeZone&&(this.timeZone=e.timeZone),void 0!==e.classicAccess&&(this.classicAccess=e.classicAccess),void 0!==e.salesforceAccountId&&(this.salesforceAccountId=e.salesforceAccountId),this.autoUpdateOrigins=e.autoUpdateOrigins,void 0!==e.roiScenario&&(this.roiScenario=e.roiScenario),this.webflowSiteId=e.webflowSiteId,void 0!==e.limitedModeCondition&&(this.limitedModeCondition=t.buildCondition(e.limitedModeCondition))}getData(){return this.data}isActive(){return this.active}shouldEncrypt(){return this.encrypt}getSchemaVersion(){return this.schemaVersion}getId(){return this.id}getVersion(){return this.version}getName(){return this.name}getCollaborators(){return this.collaborators}getExcludeIps(){return this.excludeIps}getPlugins(){return this.plugins}getMetrics(){return this.metrics}getControlStickyConfig(){return this.controlStickyConfig}isCampaignControl(){return this.campaignControl}getControlTrafficPercentage(){return j.ofNullable(this.controlTrafficPercentage)}getCode(){return j.ofNullable(this.code)}getCss(){return j.ofNullable(this.css)}getSnippetDomain(){return j.ofNullable(this.snippetDomain)}getCampaigns(){return this.campaigns}getPages(){return this.pages}getAudiences(){return this.audiences}getEvents(){return this.iEvents}getCampaign(e){const t=this.campaigns.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getExperience(e){return j.ofNullable(this.experiences.get(e))}getPage(e){const t=this.pages.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getEvent(e){const t=this.iEvents.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getCustomEvent(e){const t=this.iEvents.filter((t=>t instanceof yt&&t.getApiName()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getShopifyEvent(e){const t=this.iEvents.filter((t=>t instanceof wt&&t.getCustomerEventName()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getShopifyServerSideEvent(){return j.ofNullable(this.iEvents.find((e=>e instanceof Ct)))}getAudience(e){const t=this.audiences.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}getIntegrationGoogle4Analytics(){return j.ofNullable(this.googleAnalytics4Integration)}getIntegrationSegmentAnalytics(){return j.ofNullable(this.segmentAnalyticsIntegration)}getIntegrationMixpanel(){return j.ofNullable(this.mixpanelIntegration)}getIntegrationMarketo(){return j.ofNullable(this.marketoIntegration)}getIntegrationSalesforce(){return j.ofNullable(this.salesforceIntegration)}getIntegrationShopify(){return j.ofNullable(this.shopifyIntegration)}getIntegrationFirmographic(){return j.ofNullable(this.firmographicIntegration)}getIntegrationSixsense(){return j.ofNullable(this.sixsenseIntegration)}getIntegrationGoogleAds(){return j.ofNullable(this.googleAdsIntegration)}getIntegrationDemandbase(){return j.ofNullable(this.demandbaseIntegration)}getIntegrationHubspot(){return j.ofNullable(this.hubspotIntegration)}getUrlParamFilters(){return this.urlParamFilters}getCustomAttributeFilters(){return this.customAttributeFilters}getChangelogInternal(){return this.changelogInternal}getChangelogExternal(){return this.changelogExternal}getCrossOrigin(){return this.crossOrigin}getOrigins(){return this.origins}isMfa(){return this.mfa}getVertical(){return j.ofNullable(this.vertical)}getCurrentContract(){return j.ofNullable(this.currentContract)}getTimeZone(){return j.ofNullable(this.timeZone)}hasClassicAccess(){return j.ofNullable(this.classicAccess).orElse(!1)}getSalesforceAccountId(){return j.ofNullable(this.salesforceAccountId)}shouldAutoUpdateOrigins(){return j.ofNullable(this.autoUpdateOrigins).orElse(!1)}getRoiScenario(){return j.ofNullable(this.roiScenario)}getWebflowSiteId(){return j.ofNullable(this.webflowSiteId)}getLimitedModeCondition(){return j.ofNullable(this.limitedModeCondition)}}class Ft{constructor(e){__publicField(this,"type"),__publicField(this,"id"),this.type=e.type,this.id=e.id}getType(){return this.type}getId(){return j.ofNullable(this.id)}}class kt extends Ft{constructor(e){super(e),__publicField(this,"attributes");const t=__spreadValues({},e.attributes.css);this.attributes=__spreadProps(__spreadValues({},e.attributes),{css:t})}getAttributes(){return this.attributes}isReadyToApply(e){return this.getSelectorElements(e).length>0}getSelectorElements(e){return e.querySelectorAll(this.getSelector())}}class Pt extends kt{constructor(e){super(e),__publicField(this,"selector"),this.selector=e.selector}getSelector(){return this.selector}}class Mt extends Ft{constructor(e){super(e),__publicField(this,"code"),__publicField(this,"css"),R(Boolean(e.code)||Boolean(e.css),'Either "code" or "css" must be specified'),this.code=e.code,this.css=e.css}getCode(){return j.ofNullable(this.code)}getCss(){return j.ofNullable(this.css)}isReadyToApply(e){return!0}}class Dt extends kt{constructor(e){super(e),__publicField(this,"refId"),__publicField(this,"extensionName"),__publicField(this,"fieldName"),this.refId=e.refId,this.fieldName=e.fieldName,this.extensionName=e.extensionName}getSelector(){const e=`[data-${S}="${this.refId}"]`,t=`[data-${I}="${this.fieldName}"]`;return`${e}${t}, ${e} ${t}`}getRefId(){return this.refId}getExtensionName(){return this.extensionName}getFieldName(){return this.fieldName}}class Nt extends Ft{constructor(e){super(e),__publicField(this,"name"),__publicField(this,"executorJson"),this.name=e.name,this.executorJson=e.executorJson}getName(){return this.name}getExecutorJson(){return this.executorJson}}function Ot(e){return e.replace(/['\\]/g,(e=>"\\"+e))}function Rt(e,t=!0){return`document.querySelectorAll('${Ot(e)}').length ${t?"> 0":"=== 1"}`}function Lt(e,t){const i=e.querySelectorAll(t),s=null==i?void 0:i[0];return 1===i.length&&void 0!==s?j.of(s):j.empty()}class $t extends Ft{constructor(e){super(e),__publicField(this,"elementType"),__publicField(this,"targetPosition"),__publicField(this,"idAttribute"),this.targetPosition=e.targetPosition,this.elementType=e.elementType,this.idAttribute=e.idAttribute}getElementType(){return this.elementType}getTargetPosition(){return this.targetPosition}getIdAttribute(){return this.idAttribute}getTargetElement(e){return Lt(e,this.targetPosition.selector)}isReadyToApply(e){return this.getTargetElement(e).isPresent()}}class Vt extends $t{constructor(e){super(e),__publicField(this,"size"),this.size=e.size}getSize(){return this.size}}class Ut extends Ft{constructor(e){super(e),__publicField(this,"targetPosition"),__publicField(this,"selector"),__publicField(this,"moveId"),this.targetPosition=e.targetPosition,this.selector=e.selector,this.moveId=e.moveId}getTargetPosition(){return this.targetPosition}getSelector(){return this.selector}getMoveId(){return this.moveId}getSelectorElement(e){return Lt(e,this.selector)}getTargetElement(e){return Lt(e,this.targetPosition.selector)}isReadyToApply(e){return this.getTargetElement(e).isPresent()&&this.getSelectorElement(e).isPresent()}}class Wt extends Ft{constructor(e){super(e)}}const zt=e=>{if(!li(e))return!1;const t=e;return"ATTRIBUTE"===t.type&&A(t.selector)&&yi(t.attributes)},jt=e=>zt(e)&&y(e,["type","selector","attributes","id"]),Bt=new Set(["1","2","3","4","5","6"]),Gt=e=>Bt.has(e),Ht=e=>{if(!li(e))return!1;const t=e;return"INSERT_ELEMENT"===t.type&&M(t.elementType)&&x(t.targetPosition)&&b(t.idAttribute)},Qt=e=>!!Ht(e)&&("heading"!==e.elementType||Gt(e.size)),qt=["id","type","targetPosition","elementType","size","idAttribute"],Kt=e=>Qt(e)&&y(e,qt),Yt=e=>m(e)&&Object.values(e).every((e=>v(e)||p(e)||g(e)||f(e))),Jt=e=>m(e)&&(f(e.targetPosition)||x(e.targetPosition))&&Yt(e.fieldData)&&y(e,["targetPosition","fieldData"]),Xt=["id","type","name","executorJson"],Zt=e=>{if(!li(e))return!1;const t=e;return t.type===et.EXTENSION&&b(t.name)&&Jt(t.executorJson)},ei=e=>Zt(e)&&y(e,Xt),ti=e=>{if(!li(e))return!1;const t=e;return"EXTENSION_ATTRIBUTE"===t.type&&E(t.refId)&&b(t.extensionName)&&b(t.fieldName)&&yi(t.attributes)},ii=e=>ti(e)&&y(e,["type","attributes","id","refId","extensionName","fieldName"]),si=e=>m(e)&&e.type===et.MOVE_ELEMENT&&E(e.moveId)&&A(e.selector)&&x(e.targetPosition),ni=["id","type","targetPosition","selector","moveId"],ri=e=>si(e)&&y(e,ni),oi=e=>ai(e)&&y(e,["type"]),ai=e=>m(e)&&e.type===et.WEBFLOW,li=e=>m(e)&&hi(e.type)&&(f(e.id)||b(e.id)),ci=e=>{if(!li(e))return!1;const t=e,{code:i,css:s}=t;return"CUSTOM_CODE"===t.type&&(void 0!==i||void 0!==s)&&(f(i)||b(i))&&(f(s)||b(s))},ui=e=>ci(e)&&y(e,["type","id","code","css"]),di=(()=>new Set([et.ATTRIBUTE,et.CUSTOM_CODE,et.INSERT_ELEMENT,et.MOVE_ELEMENT,et.EXTENSION,et.EXTENSION_ATTRIBUTE,et.WEBFLOW]))(),hi=e=>di.has(e),gi=new Set(Ze),pi=e=>v(e)&&gi.has(e),mi=e=>m(e)&&b(e.name)&&pi(e.namespace)&&y(e,["name","namespace"]),vi=e=>m(e)&&mi(e.attrDefId)&&v(e.defaultString)&&y(e,["defaultString","attrDefId"]),bi=e=>m(e)&&"attribute"===e.type&&vi(e.value)&&y(e,["type","value"]),fi=e=>m(e)&&"string"===e.type&&b(e.value)&&y(e,["type","value"]),Ei=e=>fi(e)||bi(e),_i=e=>v(e)||h(e)&&e.every((e=>Ei(e))),yi=e=>!!m(e)&&(!(!f(e.html)&&!_i(e.html)||!f(e.style)&&!v(e.style)||!f(e.className)&&!v(e.className)||!f(e.src)&&!v(e.src)||!f(e.alt)&&!v(e.alt)||!f(e.srcset)&&!v(e.srcset)||!f(e.sizes)&&!v(e.sizes)||!f(e.href)&&!v(e.href)||!f(e.value)&&!v(e.value)||!f(e.placeholder)&&!v(e.placeholder)||!f(e.maxlength)&&!p(e.maxlength)||!f(e.required)&&!g(e.required)||!f(e.poster)&&!v(e.poster)||!f(e.loop)&&!g(e.loop)||!f(e.autoplay)&&!g(e.autoplay)||!f(e.muted)&&!g(e.muted)||!f(e.controls)&&!g(e.controls))&&(!(!f(e.css)&&!k(e.css))&&y(e,["html","style","className","src","alt","srcset","sizes","href","css","value","placeholder","maxlength","required","poster","loop","autoplay","muted","controls"])));function Si(e){if(jt(e))return new Pt(e);if(ui(e))return new Mt(e);if(ri(e))return new Ut(e);if(Kt(e))return"heading"===e.elementType?new Vt(e):new $t(e);if(ei(e))return new Nt(e);if(ii(e))return new Dt(e);if(oi(e))return new Wt(e);throw new D(`Invalid dom change type ${e.type}`)}class Ii extends Et{constructor(e,t,i){super(e,t,i),__publicField(this,"selector"),this.selector=`[data-wf-event-ids*="${e}"]`}static filterEvents(e){return e.filter((e=>"wf_click"===e.getType()))}getSelector(){return this.selector}}class wi{constructor(e,t,i,s){var n,r,o,a;__publicField(this,"allVariationsMap",{}),__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"type"),__publicField(this,"state"),__publicField(this,"pages"),__publicField(this,"condition"),__publicField(this,"audiences"),__publicField(this,"realPreconditions"),__publicField(this,"preconditions"),__publicField(this,"dependsOnExperienceIds"),__publicField(this,"dependsOnExperiences",[]),__publicField(this,"realVariations"),__publicField(this,"campaign"),__publicField(this,"ignore"),__publicField(this,"inclusionStickyConfig"),__publicField(this,"variationStickyConfig"),__publicField(this,"boundingSelectors"),__publicField(this,"playbookId"),__publicField(this,"note"),this.id=e,this.name=t.name,this.type=null!=(n=t.type)?n:"cc",this.state=t.state,this.inclusionStickyConfig=i.buildExperienceIncludeStickyConfig(t.sinc),this.variationStickyConfig=i.buildVariationStickyConfig(t.svar),this.ignore=t.ignore,this.playbookId=t.playbookId,this.note=t.note,this.pages=t.pageIds.flatMap((e=>i.getPage(e).toArray())),this.pages.forEach((e=>{e.addExperience(this)})),this.condition=i.buildConditionFromVariationOrExperience(t),this.audiences=as.addExperienceToAudiences(this),this.dependsOnExperienceIds=null!=(r=t.dependsOnExperienceIds)?r:[],this.dependsOnExperiences=[];const l=[];for(const[c,u]of Object.entries(t.variations)){const e=i.buildVariation(c,u,this);l.push(e),this.allVariationsMap[c]=e}this.realVariations=l,this.boundingSelectors=null!=(o=t.boundingSelectors)?o:[],this.realPreconditions=null!=(a=t.preconditions)?a:[],this.preconditions=[...this.realPreconditions,...this.generatePreconditionsForBoundingSelectors()],this.campaign=s}inflateDependsOnExperiences(e){this.dependsOnExperienceIds.forEach((t=>{const i=e[t];void 0!==i&&this.dependsOnExperiences.push(i)}))}getId(){return this.id}getName(){return this.name}getType(){return this.type}isEnabled(){return"live"===this.state}getState(){return this.state}getPages(){return this.pages}getCondition(){return j.ofNullable(this.condition)}getAudiences(){return this.audiences}getPreconditions(){return this.preconditions}getBoundingSelectors(){return this.boundingSelectors}getRealPreconditions(){return this.realPreconditions}getDependsOnExperiences(){return this.dependsOnExperiences}getRealVariations(){return this.realVariations}getVariation(e){return j.ofNullable(this.allVariationsMap[e])}getCampaign(){return this.campaign}getInclusionStickyConfig(){return this.inclusionStickyConfig}getVariationStickyConfig(){return this.variationStickyConfig}getIgnore(){return this.ignore}getPlaybookId(){return j.ofNullable(this.playbookId)}getNote(){return j.ofNullable(this.note)}generatePreconditionsForBoundingSelectors(){const e=[];return this.boundingSelectors.forEach((t=>{e.push(Rt(t))})),e}}class Ci extends wi{constructor(e,t,i,s){super(e,t,i,s),__publicField(this,"logger"),__publicField(this,"trafficAllocation"),this.logger=i.getLogger(),this.trafficAllocation=t.trafficAllocation}static filterExperiences(e){return e.filter((e=>"ab"===e.getType()))}selectVariation(e){let t;for(const[i,s]of Object.entries(this.trafficAllocation))if(e>=s.lowerEndpoint&&e<s.upperEndpoint){t=i;break}return void 0!==t?this.getVariation(t):(this.logger.error(`Could not determine A/B variation for ${e}`,1012,{experienceId:this.getId()}),j.empty())}getTrafficAllocation(){const e={};for(const[t,i]of Object.entries(this.trafficAllocation))e[t]=__spreadValues({},i);return e}}class Ti extends wi{constructor(e,t,i,s){super(e,t,i,s),__publicField(this,"controlVariation");const n=i.buildControlVariation(this);this.controlVariation=n,this.allVariationsMap[n.getId()]=n}static filterExperiences(e){return e.filter((e=>"cc"===e.getType()))}getControlVariation(){return this.controlVariation}}class xi extends wi{constructor(e,t,i,s){super(e,t,i,s),__publicField(this,"logger"),__publicField(this,"variationPriority"),this.logger=i.getLogger(),this.variationPriority=t.variationPriority}static filterExperiences(e){return e.filter((e=>"rbp"===e.getType()))}getPrioritizedVariations(){const e=[];if(void 0!==this.variationPriority)for(const t of this.variationPriority)this.getVariation(t).ifPresent((t=>{e.push(t)})).ifAbsent((()=>{this.logger.debug("Could not find prioritized variation for RBP",1013,{experienceId:this.getId(),variationId:t})}));return e}}class Ai{constructor(e){__publicField(this,"enabled"),this.enabled=e.enabled}isEnabled(){return this.enabled}}class Fi{constructor(e){__publicField(this,"enabled"),this.enabled=e.enabled}isEnabled(){return this.enabled}}class ki{constructor(e){__publicField(this,"enabled"),__publicField(this,"managedAccounts"),this.enabled=e.enabled,this.managedAccounts=e.managedAccounts}isEnabled(){return this.enabled}getManagedAccounts(){return this.managedAccounts}}class Pi{constructor(e){__publicField(this,"enabled"),__publicField(this,"autoConfig"),__publicField(this,"measurementIds"),this.enabled=e.enabled,this.autoConfig=e.autoConfig,this.measurementIds=e.measurementIds}isEnabled(){return this.enabled}isAutoConfig(){return this.autoConfig}getMeasurementIds(){return this.measurementIds}}class Mi{constructor(e){__publicField(this,"enabled"),__publicField(this,"hubId"),__publicField(this,"objectsToIngest"),this.enabled=e.enabled,this.hubId=e.hubId,this.objectsToIngest=e.objectsToIngest}isEnabled(){return this.enabled}getHubId(){return this.hubId}getObjectsToIngest(){return this.objectsToIngest}}class Di{constructor(e){__publicField(this,"enabled"),__publicField(this,"munchkinId"),__publicField(this,"fieldsToIngest"),__publicField(this,"listsToIngest"),this.enabled=e.enabled,this.munchkinId=e.munchkinId,this.fieldsToIngest=e.fieldsToIngest,this.listsToIngest=e.listsToIngest}isEnabled(){return this.enabled}getMunchkinId(){return this.munchkinId}getFieldsToIngest(){return this.fieldsToIngest}getListsToIngest(){return this.listsToIngest}}const Ni="Optimization Viewed";class Oi{constructor(e){__publicField(this,"enabled"),__publicField(this,"eventName"),this.enabled=e.enabled,this.eventName=e.name}isEnabled(){return this.enabled}getEventName(){var e;return null!=(e=this.eventName)?e:Ni}}class Ri{constructor(e){__publicField(this,"enabled"),__publicField(this,"objectsToIngest"),__publicField(this,"outboundReport"),this.enabled=e.enabled,this.objectsToIngest=e.objectsToIngest,this.outboundReport=e.outboundReport}isEnabled(){return this.enabled}getObjectsToIngest(){return this.objectsToIngest}getOutboundReport(){return j.ofNullable(this.outboundReport)}}class Li{constructor(e){__publicField(this,"enabled"),__publicField(this,"eventName"),this.enabled=e.enabled,this.eventName=e.dim}isEnabled(){return this.enabled}getEventName(){return this.eventName}}class $i{constructor(e,t,i){var s,n;__publicField(this,"logger"),__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"type"),__publicField(this,"state"),__publicField(this,"iEvents",[]),__publicField(this,"experiences",[]),__publicField(this,"metrics",[]),__publicField(this,"code"),__publicField(this,"timeBudget"),__publicField(this,"changes"),this.logger=i.getLogger(),this.id=e,this.name=t.name,this.type=null!=(s=t.type)?s:"matching",void 0!==t.code&&(this.code=t.code),void 0!==t.timeBudget&&(this.timeBudget=t.timeBudget);const r=[];void 0!==t.changes&&t.changes.forEach((e=>{r.push(i.buildDomChange(e))})),this.changes=r,this.state=null!=(n=t.state)?n:"live"}addEvent(e){this.iEvents.push(e)}addMetric(e){this.metrics.push(e)}addExperience(e){this.experiences.push(e)}getId(){return this.id}getName(){return this.name}getType(){return this.type}getState(){return this.state}getCode(){return j.ofNullable(this.code)}getChanges(){return[...this.changes]}getExperiences(){return[...this.experiences]}getEvents(){return[...this.iEvents]}getTimeBudgetMs(){return j.ofNullable(this.timeBudget)}getMetrics(){return[...this.metrics]}getMetric(e){const t=this.metrics.filter((t=>t.getId()===e));return 0===t.length?j.empty():j.ofNullable(t[0])}executeCode(e){this.logger.debug("executeCode() if present");let t=!0;if(this.getCode().isPresent()){const s=this.getCode().get();try{this.logger.info(`Page ${this.id} code running`),t=e(s),this.logger.info(`Page ${this.id} code result => ${t}`)}catch(i){const e=new bt(`Page (${this.id}) code execution failed`,i);t=!1,this.logger.error(e,1009,{pageId:this.id})}}return t}}class Vi extends $i{constructor(e,t,i){var s,n;super(e,t,i),__publicField(this,"templateUrl"),__publicField(this,"paramName"),__publicField(this,"paramValue"),this.templateUrl=t.templateUrl,this.paramName=null!=(s=t.paramName)?s:Vi.defaultParamName,this.paramValue=null!=(n=t.paramValue)?n:Vi.landingPageNameToParamValue(t.name)}static filterPages(e){return e.filter((e=>"landing"===e.getType()))}static removeWWW(e){return e.replace(/^www\./i,"")}static get defaultParamName(){return"page"}static landingPageNameToParamValue(e){return e.trim().replace(/[^\w\-._~!'()*]+/g,"-")}getTemplateUrl(){return this.templateUrl}getParamName(){return this.paramName}getParamValue(){return this.paramValue}getPreviewUrl(){const{name:e,value:t}=this.determineLandingParam(),i=`${encodeURIComponent(e)}=${encodeURIComponent(t)}`,s=this.templateUrl.indexOf("?");if(-1!==s)return this.templateUrl.slice(0,s+1)+i+"&"+this.templateUrl.slice(s+1);const n=this.templateUrl.indexOf("#");return-1!==n?this.templateUrl.slice(0,n)+"?"+i+this.templateUrl.slice(n):this.templateUrl+"?"+i}matches(e,t){this.logger.group("check page matches");try{const i=new URL(e),s=new URL(this.templateUrl);let n=!0;s.searchParams.forEach(((e,t)=>{i.searchParams.getAll(t).includes(e)||(n=!1)}));const r=j.ofNullable(s.hash).map((e=>e===i.hash)).orElse(!0),{name:o,value:a}=this.determineLandingParam(),l=i.searchParams.getAll(o).includes(a),c=Vi.removeWWW(i.host)===Vi.removeWWW(s.host),u=i.protocol===s.protocol&&i.port===s.port&&i.pathname===s.pathname&&c&&n&&l&&r,d=this.executeCode(t);return this.logger.debug(`didMatch: ${u.toString()}, didPassCode: ${d.toString()}`),this.logger.groupEnd(),u&&d}catch(i){const e=new bt("Could not parse URL",i);return this.logger.warn(e,1018,{pageId:this.getId()}),!1}}determineLandingParam(){return{name:this.getParamName(),value:this.getParamValue()}}}const Ui=(e,t,i,s)=>{e.group("check page matches");const n=i.some((i=>{e.group("check url");const s=i.matches(t);return e.groupEnd(),s})),r=s();return e.debug(`didMatch: ${n.toString()}, didPassCode: ${r.toString()}`),e.groupEnd(),n&&r};class Wi extends $i{constructor(e,t,i){super(e,t,i),__publicField(this,"urls"),__publicField(this,"previewUrl");const s=[];t.urls.forEach((e=>{s.push(i.buildUrl(e))})),this.urls=s,this.previewUrl=t.previewUrl}static filterPages(e){return e.filter((e=>"matching"===e.getType()))}getPreviewUrl(){return this.previewUrl}getUrls(){return this.urls}matches(e,t){return Ui(this.logger,e,this.urls,(()=>this.executeCode(t)))}}class zi extends $i{constructor(e,t,i){super(e,t,i),__publicField(this,"urls"),__publicField(this,"previewUrl");const s=[];t.urls.forEach((e=>{s.push(i.buildUrl(e))})),this.urls=s,this.previewUrl=t.previewUrl}static filterPages(e){return e.filter((e=>"shopify"===e.getType()))}getPreviewUrl(){return this.previewUrl}getUrls(){return this.urls}matches(e,t){return Ui(this.logger,e,this.urls,(()=>this.executeCode(t)))}}class ji{constructor(e,t,i,s){let n;if(__publicField(this,"legacy"),__publicField(this,"shopifyMetric"),__publicField(this,"shopifyPages"),__publicField(this,"shopifyEvents"),__publicField(this,"shopifyCheckoutCompletedEvent"),__publicField(this,"shop"),__publicField(this,"snippet"),__publicField(this,"plus"),ji.isLegacyShopifyIntegrationJson(e)){this.legacy=!0;const t=e;n={shop:`${t.shop}.myshopify.com`,snippet:t.theme,plus:!0};const s=[];i.forEach((e=>{t.pages.includes(e.getId())&&s.push(e)})),this.shopifyPages=s}else this.legacy=!1,n=e,this.shopifyPages=zi.filterPages(i);this.shop=n.shop,this.snippet=n.snippet,this.plus=n.plus,this.shopifyEvents=wt.filterEvents(s);const r=this.shopifyEvents.find((e=>"checkout_completed"===e.getCustomerEventName()));N(r,'The shopify "checkout_completed" event must be present'),this.shopifyCheckoutCompletedEvent=r,this.shopifyMetric=t.find((e=>e.getIEvents().find((e=>e.getId()===this.shopifyCheckoutCompletedEvent.getId()))))}static isLegacyShopifyIntegrationJson(e){return void 0!==e.pixel}isPixelEnabled(){return!0}isLegacy(){return this.legacy}getShop(){return this.shop}getMetric(){return j.ofNullable(this.shopifyMetric)}getPages(){return this.shopifyPages}getEvents(){return this.shopifyEvents}getCheckoutCompletedEvent(){return this.shopifyCheckoutCompletedEvent}doesInjectSnippet(){return this.snippet}isShopifyPlus(){return this.plus}}class Bi{constructor(e){__publicField(this,"enabled"),__publicField(this,"oemEnabled"),this.enabled=e.enabled,this.oemEnabled=e.oemEnabled}isEnabled(){return this.enabled}isOemEnabled(){return this.oemEnabled}}class Gi{constructor(e,t,i,s,n){__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"iEvents"),__publicField(this,"scope"),__publicField(this,"type"),__publicField(this,"countingMethod"),__publicField(this,"goal"),__publicField(this,"page"),__publicField(this,"campaign"),__publicField(this,"customer"),R(void 0===i||void 0===n),this.id=e.id,this.name=e.name,this.scope=e.scope,this.type=e.type,this.countingMethod=e.countingMethod,this.goal=e.isGoal,this.iEvents=e.eventIds.flatMap((e=>t.getEvent(e).toArray())),this.iEvents.forEach((e=>{e.addMetric(this)})),this.campaign=i,this.page=s,this.customer=n}getId(){return this.id}getName(){return this.name}getIEvents(){return this.iEvents}getScope(){return this.scope}getType(){return this.type}getCountingMethod(){return this.countingMethod}isGoal(){return this.goal}getCampaign(){return j.ofNullable(this.campaign)}getPage(){return j.ofNullable(this.page)}getCustomer(){return j.ofNullable(this.customer)}}class Hi extends Gi{constructor(e,t,i,s,n){super(e,t,i,s,n),__publicField(this,"valueType"),this.valueType=e.valueType}getValueType(){return this.valueType}}class Qi extends Hi{constructor(e,t,i,s,n){super(e,t,i,s,n),__publicField(this,"value"),this.value=e.value}getValue(){return this.value}}function qi(e,t=!1){return i=>i.map((t=>e(t))).orElse(t)}function Ki(e){switch(e.operator){case"includesAny":return qi((t=>t.some((t=>e.argument.includes(t)))));case"excludesAll":return qi((t=>!t.some((t=>e.argument.includes(t)))),!0);case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown array enum operator: ${e.operator}`)}}function Yi(e){switch(e.operator){case"includesAny":return qi((t=>t.some((t=>e.argument.includes(t)))));case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown array string operator: ${e.operator}`)}}function Ji(e){switch(e.operator){case"isTrue":return qi((e=>e));case"isFalse":return qi((e=>!e),!0);case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown boolean operator: ${e.operator}`)}}function Xi(e){switch(e.operator){case"eq":return qi((t=>t===e.argument));case"ne":return qi((t=>t!==e.argument),!0);case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown enum operator: ${e.operator}`)}}function Zi(e){switch(e.operator){case"==":return qi((t=>t===e.argument));case"!=":return qi((t=>t!==e.argument),!0);case">":return qi((t=>t>e.argument));case"<":return qi((t=>t<e.argument));case">=":return qi((t=>t>=e.argument));case"<=":return qi((t=>t<=e.argument));case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown number operator: ${e.operator}`)}}function es(e){switch(e.operator){case"eq":return qi((t=>t===e.argument));case"ne":return qi((t=>t!==e.argument),!0);case"substr":return qi((t=>t.includes(e.argument)));case"startsWith":return qi((t=>t.startsWith(e.argument)));case"endsWith":return qi((t=>t.endsWith(e.argument)));case"regex":return qi((t=>new RegExp(e.argument).test(t)));case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown string operator: ${e.operator}`)}}function ts(e){switch(e.operator){case"withinPastDuration":return qi((t=>{const i=/^P(\d+)D$/.exec(e.argument);if(void 0===(null==i?void 0:i[1]))throw new Error(`Invalid unix time operator duration: ${e.argument}`);const s=24*Number(i[1])*60*60*1e3;return t>=Date.now()-s}));case"inBetween":return qi((t=>{const[i,s]=e.argument;return t>=i&&t<s}));case st:return e=>e.isPresent();case nt:return e=>!e.isPresent();default:throw new Error(`Unknown unix time operator: ${e.operator}`)}}const is=e=>{const t=/[|\\{}()[\]^$+*?.-]/g;return e.replace(t,"\\$&")};class ss{constructor(e){__publicField(this,"includeSubdomains"),__publicField(this,"domain"),__publicField(this,"port"),this.includeSubdomains=e.includeSubdomains,this.domain=e.domain,this.port=e.port}static isMatchingAllowedDomain(e,t){return new RegExp(`^${e}$`).test(t)}getIncludeSubdomains(){return this.includeSubdomains}getDomain(){return this.domain}getPort(){return j.ofNullable(this.port)}getDomainAndPort(){return void 0===this.port?this.domain:`${this.domain}:${this.port}`}isOriginAllowed(e){const t=this.getDomainAndPort();let i="https?://";return i+=this.includeSubdomains?"([^.]+\\.)?":"(www\\.)?",i+=is(t),ss.isMatchingAllowedDomain(i,e)}}class ns{constructor(e,t,i){this.sticky=e,this.relativeExpirationTimeSec=t,this.absoluteExpirationTimeSec=i}isSticky(){return this.sticky}getRelativeExpirationTimeSec(){return j.ofNullable(this.relativeExpirationTimeSec)}getAbsoluteExpirationTimeSec(){return j.ofNullable(this.absoluteExpirationTimeSec)}isExpired(e,t){return void 0!==this.absoluteExpirationTimeSec&&t<this.absoluteExpirationTimeSec||void 0!==this.relativeExpirationTimeSec&&t+this.relativeExpirationTimeSec<e}}class rs{constructor(e,t){__publicField(this,"logger"),__publicField(this,"value"),__publicField(this,"match"),this.logger=t.getLogger(),this.value=e.value,this.match=e.match,R(void 0!==this.match,"invalid match type: "+e.match)}static simplifyUrl(e){let t=e;const i=t.indexOf("?");i>0&&(t=t.slice(0,Math.max(0,i)));const s=t.indexOf("#");s>0&&(t=t.slice(0,Math.max(0,s))),t.endsWith("/")&&(t=t.slice(0,Math.max(0,t.length-1)));const n=/^(?:https?:\/\/)?(?:www\.)?(.+)$/.exec(t);return void 0!==(null==n?void 0:n[1])&&(t=n[1]),t}getMatch(){return this.match}getValue(){return this.value}matches(e){let t=!1;switch(this.logger.debug("checking match: "+this.match+", value: "+this.value),this.match){case"simple":t=rs.simplifyUrl(this.value)===rs.simplifyUrl(e);break;case"regex":{const i=new RegExp(this.value);t=Boolean(i.test(e));break}case"exact":t=e===this.value;break;case"substring":t=e.includes(this.value);break;default:this.logger.error(`Unknown url match type: ${this.match}`,1010)}return this.logger.debug(t.toString()),t}}class os{constructor(e,t,i,s){__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"state"),__publicField(this,"condition"),__publicField(this,"audiences"),__publicField(this,"preconditions"),__publicField(this,"code"),__publicField(this,"redirect"),__publicField(this,"css"),__publicField(this,"changes"),__publicField(this,"experience"),__publicField(this,"playbookTemplateId"),this.id=e,this.name=t.name,this.state=t.state,this.preconditions=t.preconditions,void 0!==t.code&&(this.code=t.code),void 0!==t.redirect&&(this.redirect=t.redirect),void 0!==t.css&&(this.css=t.css),this.condition=i.buildConditionFromVariationOrExperience(t),this.audiences=as.addVariationToAudiences(this);const n=[];void 0!==t.changes&&t.changes.forEach((e=>{n.push(i.buildDomChange(e))})),this.changes=n,this.experience=s,this.playbookTemplateId=t.playbookTemplateId}getId(){return this.id}getName(){return this.name}isEnabled(){return"live"===this.state}getState(){return this.state}getCode(){return j.ofNullable(this.code)}getCss(){return j.ofNullable(this.css)}getRedirect(){return j.ofNullable(this.redirect)}getPreconditions(){return this.preconditions}getCondition(){return j.ofNullable(this.condition)}getAudiences(){return this.audiences}getChanges(){return this.changes}isTypeChange(){return this.getChanges().length>0}isRedirect(){return this.getRedirect().isPresent()}getExperience(){return this.experience}getTrafficAllocation(){if(this.experience instanceof Ci){const e=this.experience.getTrafficAllocation()[this.id];if(void 0!==e)return j.of(__spreadValues({},e))}return j.empty()}getPlaybookTemplateId(){return j.ofNullable(this.playbookTemplateId)}}class as{constructor(e){__publicField(this,"logger"),__publicField(this,"experienceMap",{}),__publicField(this,"pageMap",{}),__publicField(this,"audienceMap",{}),__publicField(this,"eventMap",{}),this.logger=e}static buildStickyConfiguration(e,t){let i,s,n;return void 0!==e&&(void 0!==e.s&&(i=e.s),void 0!==e.r&&(s=e.r),void 0!==e.a&&(n=e.a)),void 0===i&&(i=t.s),void 0===s&&void 0!==t.r&&(s=t.r),void 0===n&&void 0!==t.a&&(n=t.a),new ns(i,s,n)}static addExperienceToAudiences(e){const t=[];return e.getCondition().ifPresent((i=>{if(i instanceof Qe)t.push(as.addExperienceToAudience(e,i));else if(i instanceof He||i instanceof Je)i.getConditions().forEach((i=>{if(i instanceof Qe)t.push(as.addExperienceToAudience(e,i));else if(i instanceof Ye){const s=i.getCondition();s instanceof Qe&&(s.getAudience().addExperience(e),t.push(s.getAudience()))}}));else if(i instanceof Ye){const s=i.getCondition();s instanceof Qe&&(s.getAudience().addExperience(e),t.push(s.getAudience()))}})),t}static addVariationToAudiences(e){const t=[];return e.getCondition().ifPresent((i=>{if(i instanceof Qe)t.push(as.addVariationToAudience(e,i));else if(i instanceof He||i instanceof Je)i.getConditions().forEach((i=>{if(i instanceof Qe)t.push(as.addVariationToAudience(e,i));else if(i instanceof Ye){const s=i.getCondition();s instanceof Qe&&(s.getAudience().addVariation(e),t.push(s.getAudience()))}}));else if(i instanceof Ye){const s=i.getCondition();s instanceof Qe&&(s.getAudience().addVariation(e),t.push(s.getAudience()))}})),t}static addExperienceToAudience(e,t){const i=t.getAudience();return t.getAudience().addExperience(e),i}static addVariationToAudience(e,t){const i=t.getAudience();return t.getAudience().addVariation(e),i}static audienceIdToConditionJson(e){let t=!1,i=e;e.startsWith("!")&&(t=!0,i=e.slice(1));const s={audienceId:i,type:"audience"};let n=s;return t&&(n={type:"logic-not",condition:s}),n}getLogger(){return this.logger}buildCustomer(e){const t=new At(e,this);return t.getCampaigns().forEach((e=>{e.getExperiences().forEach((e=>{e.inflateDependsOnExperiences(this.experienceMap)}))})),t}buildCollaborator(e){return new pt(e)}buildCrossOrigin(e){return new mt(e)}buildOrigin(e){return new ss(e)}buildPage(e,t){const i=this.pageMap[e];if(void 0!==i)return this.logger.warn(`Trying to build page twice ${e}`,1e3,{pageId:e}),i;const s=this.buildTypedPage(e,t);return this.pageMap[e]=s,s}buildTypedPage(e,t){return"matching"===t.type?new Wi(e,t,this):"landing"===t.type?new Vi(e,t,this):"shopify"===t.type?new zi(e,t,this):new Wi(e,t,this)}getPage(e){return j.ofNullable(this.pageMap[e]).ifAbsent((()=>{this.logger.error(`Could not find page in builder map ${e}`,1001,{pageId:e})}))}buildAudience(e,t){const i=this.audienceMap[e];if(void 0!==i)return this.logger.warn(`Trying to build audience twice ${e}`,1002,{audienceId:e}),i;const s=new Xe(e,t,this);return this.audienceMap[e]=s,s}buildConditionFromVariationOrExperience({audienceIds:e,condition:t}){const i=[];if(void 0!==e&&e.length>0&&e.forEach((e=>{i.push(as.audienceIdToConditionJson(e))})),void 0!==t&&("logic-and"===t.type?i.push(...t.conditions):i.push(t)),0===i.length)return;const[s]=i;return 1===i.length&&void 0!==s?this.buildCondition(s):this.buildCondition({conditions:i,type:"logic-and"})}buildCondition(e,t){switch(e.type){case"logic-not":return new Ye(e,this);case"logic-and":return new He(e,this);case"logic-or":return new Je(e,this);case"comparison-number":return new Ke(e,new je(e.attrDefId),Zi({operator:e.operator,argument:e.value}));case"comparison-string":return new Ke(e,new je(e.attrDefId),es({operator:e.operator,argument:e.value}));case"comparison-enum":return new Ke(e,new je(e.attrDefId),Xi({operator:e.operator,argument:e.value}));case"comparison-boolean":return new Ke(e,new je(e.attrDefId),Ji({operator:e.operator,argument:void 0}));case"comparison-array-string":return new Ke(e,new je(e.attrDefId),Yi({operator:e.operator,argument:e.value}));case"comparison-array-enum":return new Ke(e,new je(e.attrDefId),Ki({operator:e.operator,argument:e.value}));case"audience":return new Qe(e,this,t);case"code":return new qe(e);case"activity":return new Ge(e,this.buildActivityFilter(e.filter),(()=>this.buildAggregator(e.aggregation)),Zi(e.operation),this.getLogger());default:throw new Error(`Unknown ConditionType: ${e.type}`)}}buildActivityFilter(e){switch(e.type){case"logic-not":return new dt(e,this);case"logic-and":return new ct(e,this);case"logic-or":return new ht(e,this);case"comparison-number":return new ut(this.getActivityPathValue(e.fieldName,["number"]),Zi(e.operation));case"comparison-string":return new ut(this.getActivityPathValue(e.fieldName,["string"]),es(e.operation));case"comparison-enum":return new ut(this.getActivityPathValue(e.fieldName,["string"]),Xi(e.operation));case"comparison-array-enum":return new ut(this.getActivityPathValue(e.fieldName,["array-enum"]),Ki(e.operation));case"comparison-unix-time":return new ut(this.getActivityPathValue(e.fieldName,["number"]),ts(e.operation));default:throw new Error(`Unknown activity filter type: ${e.type}`)}}buildAggregator(e){switch(e.type){case"count":return new rt;case"sum":return new lt(this.getActivityPathValue(e.fieldName,["number"]));case"mean":return new at(this.getActivityPathValue(e.fieldName,["number"]));case"countDistinct":return new ot(this.getActivityPathValue(e.fieldName,["string","number"]));default:throw new Error(`Unknown aggregator type: ${e.type}`)}}getAudience(e){return j.ofNullable(this.audienceMap[e]).orElseRun((()=>(this.logger.error(`Could not find audience in builder map ${e}`,1003,{audienceId:e}),new Xe(e,{name:`Missing Audience ${e}`,code:'throw new Error("Missing audience");'},this))))}buildEvent(e,t){const i=this.eventMap[e];if(void 0!==i)return this.logger.warn(`Trying to build event twice ${e}`,1004,{eventId:e}),i;const s=this.buildTypedEvent(e,t);return this.eventMap[e]=s,s}buildTypedEvent(e,t){if("click"===t.type)return new _t(e,t,this);if("view"===t.type)return new Tt(e,t,this);if("custom"===t.type)return new yt(e,t,this);if("shopify"===t.type)return new wt(e,t,this);if("shopify_server_side"===t.type)return new Ct(e,t,this);if("marketo"===t.type)return new It(e,t,this);if("hubspot"===t.type)return new St(e,t,this);if("wf_engagement_click"===t.type)return new xt(e,t,this);if("wf_click"===t.type)return new Ii(e,t,this);throw new D(`Invalid event type ${t.type}`)}getEvent(e){return j.ofNullable(this.eventMap[e]).ifAbsent((()=>{this.logger.error(`Could not find event in builder map ${e}`,1005,{eventId:e})}))}buildCampaign(e,t,i){return new gt(e,t,this,i)}buildExperience(e,t,i){const s=this.experienceMap[e];if(void 0!==s)return this.logger.warn(`Trying to build experience twice ${e}`,1006,{experienceId:e}),s;const n=this.buildTypedExperience(e,t,i);return this.experienceMap[e]=n,n}buildTypedExperience(e,t,i){return"ab"===t.type?new Ci(e,t,this,i):"rbp"===t.type?new xi(e,t,this,i):new Ti(e,t,this,i)}buildMetric(e,t,i,s){return R(Boolean(t)&&void 0===s&&void 0===i||Boolean(s)&&void 0===t&&void 0===i||Boolean(i)&&void 0===s&&void 0===t),"value"===e.type?"static"===e.valueType?new Qi(e,this,t,i,s):new Hi(e,this,t,i,s):new Gi(e,this,t,i,s)}buildUrl(e){return new rs(e,this)}buildVariation(e,t,i){return new os(e,t,this,i)}buildControlVariation(e){const t={name:"Intellimize Control",state:"live",preconditions:[]};return this.buildVariation(it,t,e)}buildControlStickyConfig(e){return as.buildStickyConfiguration(e,{s:!0})}buildExperienceIncludeStickyConfig(e){return as.buildStickyConfiguration(e,{s:!0})}buildVariationStickyConfig(e){return as.buildStickyConfiguration(e,{s:!0,r:302400})}buildGoogleAnalytics4Integration(e){return new Pi(e)}buildSegmentIntegration(e){return new Li(e)}buildMixpanelIntegration(e){return new Oi(e)}buildMarketoIntegration(e){return new Di(e)}buildSalesforceIntegration(e){return new Ri(e)}buildShopifyIntegration(e,t,i,s){return new ji(e,t,i,s)}buildFirmographicIntegration(e){return new Fi(e)}buildSixsenseIntegration(e){return new Bi(e)}buildGoogleAdsIntegration(e){return new ki(e)}buildDemandbaseIntegration(e){return new Ai(e)}buildHubspotIntegration(e){return new Mi(e)}buildDomChange(e){return Si(e)}getActivityPathValue(e,t){return i=>{let s=e,n=i;for(;void 0!==n&&void 0!==s;){const i=s.split(".");if(!(i.length>1&&void 0!==i[0])){const i=n[s];let r=typeof i;return h(i)&&i.every((e=>"string"==typeof e))&&(r="array-enum"),t.includes(r)?j.ofNullable(i):(void 0!==i&&this.logger.warn(`Field "${e}" is not an allowed type (wanted ${t.join(", ")}; found ${r})`,1017),j.empty())}n=n[i[0]],s=i.slice(1).join(".")}return j.empty()}}}const ls="imize-move-id";function cs(e,t){const i=e.getReferrerUrl();if(!i.isPresent())return j.of(!1);const s=i.get(),n=e.getHostingPageUrl();return s.getOrigin()===n.getOrigin()?j.of(!0):us(t,s.getOrigin())}function us(e,t){const i=e.getCrossOrigin().isEnabled(),s=e.getOrigins().length>0;if(!i&&!s)return j.empty();const n=e.getCrossOrigin().isOriginAllowed(t),r=e.getOrigins().some((e=>e.isOriginAllowed(t)));return i&&s&&n!==r&&fs.error(`Customer crossOrigin ${n} does not match origins ${r} for origin ${t}`,251),j.of(n||r)}function ds(e,t){return new URL(`https://${e}${t}`)}function hs(e){return new vs(e)}const gs={[i.LogLevel.OFF]:"o",[i.LogLevel.ERROR]:"e",[i.LogLevel.WARN]:"w",[i.LogLevel.INFO]:"i",[i.LogLevel.DEBUG]:"d",[i.LogLevel.TRACE]:"t"},ps=["audienceId","campaignId","experienceId","variationId","eventId","pageId","changeId"],ms={audienceId:"aid",campaignId:"cmid",experienceId:"eid",variationId:"vid",eventId:"ei",pageId:"pid",changeId:"chid"};class vs{constructor(e){__publicField(this,"minimumLogLevel"),__publicField(this,"customer"),__publicField(this,"environment"),__publicField(this,"serverContext"),__publicField(this,"user"),this.minimumLogLevel=e}static get LOGGING_APP_STRING(){return"client"}static get PATH(){return"/clientlogger"}configureCustomer(e){this.customer=e}configureEnvironment(e){this.environment=e}configureServerContext(e){this.serverContext=e}configureUser(e){this.user=e}getLevel(){return this.minimumLogLevel}error(e,t,s){this.log(i.LogLevel.ERROR,e,t,s)}warn(e,t,s){this.log(i.LogLevel.WARN,e,t,s)}info(e,t,s){this.log(i.LogLevel.INFO,e,t,s)}debug(e,t,s){this.log(i.LogLevel.DEBUG,e,t,s)}group(e){}groupEnd(){}time(e){}timeEnd(e){}log(e,t,i,s){this.minimumLogLevel<=e&&this.send(__spreadProps(__spreadValues(__spreadValues(__spreadValues({},this.buildCommonPayload()),this.entityIdsToPayload(s)),this.messageToPayload(t)),{app:vs.LOGGING_APP_STRING,mc:i,ll:gs[e]}))}buildCommonPayload(){const e={v:Q};return void 0!==this.customer&&(e.cid=this.customer.getId()),void 0!==this.serverContext&&(e.rid=this.serverContext.requestId),void 0!==this.environment&&(e.pvid=this.environment.getPageviewId(),e.hpurl=this.environment.getHostingPageUrl().getRawUrl(),e.lut=this.environment.getNowUnixTimeMs(),e.ltz=this.environment.getTimeZone()),void 0!==this.user&&(e.uid=this.user.getId()),e}messageToPayload(e){return e instanceof bt?{m:e.message,en:e.getCause().name,es:e.getCause().stack}:e instanceof Error?{m:e.message,en:e.name,es:e.stack}:{m:e}}entityIdsToPayload(e){const t={};return void 0!==e&&ps.forEach((i=>{void 0!==e[i]&&(t[ms[i]]=e[i])})),t}convertToStringValues(e){return Object.assign({},...Object.entries(e).map((([e,t])=>({[e]:String(t)}))))}send(e){const t=ds(se,vs.PATH),i=we(this.convertToStringValues(e));void 0===this.environment?navigator.sendBeacon(t,i):this.environment.sendBeacon(t,i)}}class bs{constructor(){__publicField(this,"consoleLogger"),__publicField(this,"serverLogger"),__publicField(this,"isLogging",!1),this.consoleLogger=Ne(),this.serverLogger=hs(fe)}configureCustomer(e){this.serverLogger.configureCustomer(e)}configureEnvironment(e){this.serverLogger.configureEnvironment(e)}configureServerContext(e){this.serverLogger.configureServerContext(e)}configureUser(e){this.serverLogger.configureUser(e)}getLevel(){return this.consoleLogger.getLevel()}error(e,t,i,s){this.isLogging||(this.isLogging=!0,this.consoleLogger.error(e,t,i,s),this.serverLogger.error(e,t,i),this.isLogging=!1)}warn(e,t,i,s){this.isLogging||(this.isLogging=!0,this.consoleLogger.warn(e,t,i,s),this.serverLogger.warn(e,t,i),this.isLogging=!1)}info(e,t,i,s){this.isLogging||(this.isLogging=!0,this.consoleLogger.info(e,t,i,s),this.serverLogger.info(e,t,i),this.isLogging=!1)}debug(e,t,i,s){this.isLogging||(this.isLogging=!0,this.consoleLogger.debug(e,t,i,s),this.serverLogger.debug(e,t,i),this.isLogging=!1)}group(e,t){this.isLogging||(this.isLogging=!0,this.consoleLogger.group(e,t),this.isLogging=!1)}groupEnd(e){this.isLogging||(this.isLogging=!0,this.consoleLogger.groupEnd(e),this.isLogging=!1)}time(e,t){this.isLogging||(this.isLogging=!0,this.consoleLogger.time(e,t),this.isLogging=!1)}timeEnd(e,t){this.isLogging||(this.isLogging=!0,this.consoleLogger.timeEnd(e,t),this.isLogging=!1)}}const fs=new bs,Es="Other";class _s{constructor(e,t,i,s,n,r,o){__publicField(this,"environment"),__publicField(this,"attributeStorage"),__publicField(this,"override"),__publicField(this,"customerStorage"),__publicField(this,"integrationDataStorage"),__publicField(this,"user"),__publicField(this,"data"),__publicField(this,"serverContext"),this.environment=e,this.serverContext=t,this.attributeStorage=i,this.override=s,this.customerStorage=n,this.integrationDataStorage=r,this.user=o,this.reinitialize()}reinitialize(){this.data=this.withAttributeDataOverrides({location:this.initializeLocationData(),utmParams:this.initializeUtmParamData(),userAgent:this.initializeUserAgentData(),dayPart:this.environment.getDayPart(),weekPart:this.environment.getWeekPart(),trafficSource:this.initializeTrafficSourceData(),custom:this.initializeCustomData(),urlParam:this.initializeUrlParamData(),userVisitStatus:this.initializeUserVisitStatusData(),userBucket:this.initializeUserBucketData(),marketo:this.initializeMarketoData(),salesforce:this.initializeSalesforceData(),firmographic:this.initializeFirmographicData(),"6sense":this.initializeSixsenseData(),googleAds:this.initializeGoogleAdsData(),demandbase:this.initializeDemandbaseData(),hubspot:this.initializeHubspotData()}),fs.debug(`[AttributeData] Initialized: ${Ie(this.data)}`)}getLocationData(){return this.data.location}getUtmParamsData(){return this.data.utmParams}getUserAgentData(){return this.data.userAgent}getDayPartData(){return this.data.dayPart}getWeekPartData(){return this.data.weekPart}getTrafficSourceData(){return this.data.trafficSource}getCustomData(){return this.data.custom}getUrlParamData(){return this.data.urlParam}getUserVisitStatusData(){return this.data.userVisitStatus}getUserBucketData(){return this.data.userBucket}getMarketoData(){return this.data.marketo}getSalesforceData(){return this.data.salesforce}getFirmographicData(){return this.data.firmographic}getSixsenseData(){return this.data["6sense"]}getGoogleAdsData(){return this.data.googleAds}getDemandbaseData(){return this.data.demandbase}getHubspotData(){return this.data.hubspot}getAttributeValue(e){switch(e.getNamespace()){case"standard":switch(e.getName()){case"utm_source":return j.ofNullable(this.getUtmParamsData().utmSource);case"utm_medium":return j.ofNullable(this.getUtmParamsData().utmMedium);case"utm_campaign":return j.ofNullable(this.getUtmParamsData().utmCampaign);case"utm_content":return j.ofNullable(this.getUtmParamsData().utmContent);case"utm_term":return j.ofNullable(this.getUtmParamsData().utmTerm);case"country":return j.ofNullable(this.getLocationData().country);case"state":return j.ofNullable(this.getLocationData().state);case"subdivision":return j.ofNullable(this.getLocationData().subdivision);case"city":return j.ofNullable(this.getLocationData().city);case"postal":return j.ofNullable(this.getLocationData().postal);case"dma":return j.ofNullable(this.getLocationData().dma);case"timezone":return j.ofNullable(this.getLocationData().tz);case"device_type":return j.ofNullable(this.getUserAgentData().deviceType);case"day_part":return j.ofNullable(this.getDayPartData());case"week_part":return j.ofNullable(this.getWeekPartData());case"traffic_source":return j.ofNullable(this.getTrafficSourceData());case"user_visit_status":return j.ofNullable(this.getUserVisitStatusData());case"user_bucket":return j.ofNullable(this.getUserBucketData());default:return fs.error(`Standard attribute name (${e.getName()}) not supported`,214),j.empty()}case"url_param":return j.ofNullable(this.getUrlParamData()[e.getName()]);case"custom":return j.ofNullable(this.getCustomData()[e.getName()]);case"marketo":return j.ofNullable(this.getMarketoData()[e.getName()]);case"salesforce":return j.ofNullable(this.getSalesforceData()[e.getName()]);case"firmographic":return j.ofNullable(this.getFirmographicData()[e.getName()]);case"6sense":return j.ofNullable(this.getSixsenseData()[e.getName()]);case"googleAds":return j.ofNullable(this.getGoogleAdsData()[e.getName()]);case"demandbase":return j.ofNullable(this.getDemandbaseData()[e.getName()]);case"hubspot":return j.ofNullable(this.getHubspotData()[e.getName()]);default:return fs.error(`Attribute namespace (${e.getNamespace()}) not supported`,215),j.empty()}}setServerContext(e){this.serverContext=e,this.reinitialize()}initializeCustomData(){return this.attributeStorage.getFlattenedCustomAttributes()}initializeUrlParamData(){return this.environment.getHostingPageUrl().getAllQueryParamsUnsafe()}initializeUserVisitStatusData(){return this.customerStorage.getUserVisitStatus(this.user)}initializeUserBucketData(){return this.user.getUserBucket()}initializeLocationData(){var e,t,i,s,n,r;const o=null!=(t=null==(e=this.serverContext)?void 0:e.location)?t:{},a=null!=(s=null!=(i=o.subdivision2Iso)?i:o.subdivision1Iso)?s:Es,l=[];void 0!==o.countryIso&&(void 0!==o.subdivision1Iso&&l.push(`${o.countryIso}-${o.subdivision1Iso}`),void 0!==o.subdivision2Iso&&l.push(`${o.countryIso}-${o.subdivision2Iso}`));let c=Es;return void 0!==o.countryIso&&void 0!==o.postalCode&&(c=`${o.countryIso}-${o.postalCode}`),{country:null!=(n=o.countryIso)?n:Es,state:a,subdivision:l,city:null!=(r=o.geonameId)?r:Es,dma:void 0===o.dmaCode?Es:o.dmaCode.toString(),postal:c,tz:this.environment.getTimeZone()}}initializeUserAgentData(){var e,t,i,s,n,r,o,a,l,c,u;const d=null!=(t=null==(e=this.serverContext)?void 0:e.userAgent)?t:{};let h,g,p;switch(d.deviceClass){case"Desktop":case"Set-top box":case"TV":case"Game Console":default:h="D";break;case"Mobile":case"Phone":case"Handheld Game Console":h="P";break;case"Tablet":case"eReader":h="T"}switch(d.agentName){case"Firefox":case"Gecko":case"Camino":case"SeaMonkey":g="Firefox";break;case"Chrome":case"Chrome Webview":case"Chromium":case"Epiphany":g="Chrome";break;case"Edge":case"Edge Webview":g="Edge";break;case"Safari":case"Mobile Safari":g="Safari";break;case"Internet Explorer":case"IE Mobile":case"Internet Explorer Webview":g="IE";break;default:g=Es}switch(d.osName){case"Mac OS X":p="Macintosh";break;case"Windows Phone":p="WindowsPhone";break;case"Windows NT":case"Windows 9x":case"Windows CE":p="Windows";break;case"Android":p="Android";break;case"Linux":case"Fedora":p="Linux";break;case"iOS":p="iOS";break;default:p=Es}return{deviceType:h,browser:g,os:p,deviceClass:null!=(i=d.deviceClass)?i:Es,deviceName:null!=(s=d.deviceName)?s:Es,deviceBrand:null!=(n=d.deviceBrand)?n:Es,osClass:null!=(r=d.osClass)?r:Es,osName:null!=(o=d.osName)?o:Es,osVersion:null!=(a=d.osVersion)?a:Es,agentClass:null!=(l=d.agentClass)?l:Es,agentName:null!=(c=d.agentName)?c:Es,agentVersionMajor:null!=(u=d.agentVersionMajor)?u:Es}}initializeUtmParamData(){const e=this.attributeStorage.getInternalAttributes("user",_e);return{utmSource:e.uts,utmMedium:e.utm,utmCampaign:e.utcm,utmContent:e.utcn,utmTerm:e.utt}}initializeTrafficSourceData(){const{ts:e}=this.attributeStorage.getInternalAttributes("user",["ts"]);return null!=e?e:"OT"}initializeMarketoData(){return this.integrationDataStorage.getData("marketo").map((e=>null!=e?e:{})).orElse({})}initializeSalesforceData(){return this.integrationDataStorage.getData("salesforce").map((e=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,i])=>{Object.entries(i).forEach((([i,s])=>{t[`${e}.${i}`]=s}))})),t})).orElse({})}initializeFirmographicData(){return this.integrationDataStorage.getData("firmographic").map((e=>null!=e?e:{})).orElse({})}initializeSixsenseData(){return this.integrationDataStorage.getData("6sense").map((e=>null!=e?e:{})).orElse({})}initializeGoogleAdsData(){return this.integrationDataStorage.getData("googleAds").map((e=>null!=e?e:{})).orElse({})}initializeDemandbaseData(){return this.integrationDataStorage.getData("demandbase").map((e=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,i])=>{"custom"===e?Object.entries(i).forEach((([e,i])=>{t[`custom.${e}`]=i})):t[e]=i})),t})).map((e=>null!=e?e:{})).orElse({})}initializeHubspotData(){return this.integrationDataStorage.getData("hubspot").map((e=>{const t={};return void 0!==e&&Object.entries(e).forEach((([e,i])=>{Object.entries(i).forEach((([i,s])=>{t[`${e}.${i}`]=s}))})),t})).orElse({})}withAttributeDataOverrides(e){const t=this.override.getAttributeDataOverrides();return this.overrideObject(e.location,t.location),this.overrideObject(e.utmParams,t.utmParams),this.overrideObject(e.userAgent,t.userAgent),void 0!==t.dayPart&&(e.dayPart=t.dayPart),void 0!==t.weekPart&&(e.weekPart=t.weekPart),void 0!==t.trafficSource&&(e.trafficSource=t.trafficSource),this.overrideObject(e.custom,t.custom),this.overrideObject(e.urlParam,t.urlParam),void 0!==t.userVisitStatus&&(e.userVisitStatus=t.userVisitStatus),void 0!==t.userBucket&&(e.userBucket=t.userBucket),e}overrideObject(e,t){Object.entries(t).forEach((([t,i])=>{void 0!==i&&(e[t]=i)}))}}class ys{constructor(e){__publicField(this,"timestamp"),this.timestamp=e.getNowUnixTime()}get id(){return"missing-policy"}getId(){return this.id}getTimestamp(){return this.timestamp}toJson(){return we({id:this.id,timestamp:this.timestamp})}}function Ss(e){const t=[...e];let i,s=t.length;for(;s>0;)i=Math.floor(Math.random()*s),s--,[t[s],t[i]]=[t[i],t[s]];return t}class Is{constructor(e){__publicField(this,"id"),__publicField(this,"timestamp"),__publicField(this,"experiences",{}),this.id=N(e.id),this.timestamp=N(e.timestamp),N(e.experiences),Object.keys(e.experiences).forEach((t=>{this.experiences[t]={modelVersion:N(e.experiences[t].modelVersion),variationId:N(e.experiences[t].variationId)}}))}static buildDefaultPolicy(e,t){const i={};return Object.keys(t.candidates).forEach((e=>{const s=t.candidates[e];void 0!==s&&Ss(s).forEach((t=>{(t.isSticky||void 0===i[e])&&(i[e]={modelVersion:"default-model-version",variationId:t.variationId})}))})),new Is({id:"default-policy",timestamp:e.getNowUnixTime(),experiences:i})}static buildControlPolicy(e){return new ws(e)}getId(){return this.id}getTimestamp(){return this.timestamp}getExperienceModelVersion(e){return void 0===this.experiences[e]?(fs.info(`PolicyV5 could not find experience ${e}`),"NA"):this.experiences[e].modelVersion}getExperienceVariationId(e){return void 0===this.experiences[e]?(fs.info(`PolicyV5 could not find experience ${e}`),"NA"):this.experiences[e].variationId}toJson(){return we({id:this.id,timestamp:this.timestamp,experiences:this.experiences})}}class ws extends Is{constructor(e){super({id:"control-policy",timestamp:e.getNowUnixTime(),experiences:{}})}getExperienceModelVersion(e){return"control-experience"}getExperienceVariationId(e){return it}}var Cs=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(i){!t.hasOwnProperty(i)||null===t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||Object.isFrozen(t[i])||e(t[i])})),t};class Ts{constructor(e){__publicField(this,"optionalUrl"),__publicField(this,"optionalOrigin"),__publicField(this,"urlParamsUnsafe"),this.optionalUrl=Ts.sanitizeUrl(e);const t=!0===(null==e?void 0:e.includes("?"))?e.slice(e.indexOf("?")):void 0;if(this.urlParamsUnsafe=Cs(Ts.parseQueryStringUnsafe(t)),this.optionalOrigin=j.empty(),this.optionalUrl.isPresent()){const e=this.optionalUrl.get();try{const{origin:t}=new URL(e);this.optionalOrigin=j.ofNullable(t)}catch(i){const e=new bt("Could not construct URL to determine origin",i);fs.warn(e,135)}}else fs.debug("cannot determine url origin")}static parseQueryStringUnsafe(e){const t={};return void 0!==e&&e.length>0&&e.slice(1).split("&").forEach((e=>{try{if(void 0!==e&&e.length>0){const i=e.split("=",2),s=decodeURIComponent(i[0]);if(!Object.prototype.hasOwnProperty.call(t,s)){let e="";void 0!==i[1]&&(e=decodeURIComponent(i[1].replace(/\+/g," "))),t[s]=e}}}catch(i){const e=vt(i);fs.warn(e,29)}})),t}static sanitizeUrl(e){try{if(void 0!==e)return j.ofNullable(decodeURI(e))}catch(t){fs.error(`Url could not be decoded: '${e}'`,44)}return j.ofNullable(e)}getAllUrlParamsUnsafe(){return this.urlParamsUnsafe}getUrl(){return this.optionalUrl}getOrigin(){return this.optionalOrigin}}const xs=`${be}NativeIdPath`;class As{constructor(e,t,i,s,n,r,o,a,l){__publicField(this,"customer"),__publicField(this,"environment"),__publicField(this,"user"),__publicField(this,"attributeStorage"),__publicField(this,"pageContext"),__publicField(this,"serverContext"),__publicField(this,"customerStorage"),__publicField(this,"policy"),__publicField(this,"override"),this.customer=N(e),this.environment=N(t),this.user=N(i),this.attributeStorage=N(s),this.pageContext=N(n),this.serverContext=N(r),this.customerStorage=N(o),this.policy=null!=a?a:new ys(t),this.override=N(l)}setPolicy(e){this.policy=e}sendPageview(){return __async(this,null,(function*(){fs.debug("sendPageview()");const e=this.buildPageviewEvent();return this.send(e,!0)}))}sendContext(e){return __async(this,null,(function*(){fs.debug("sendContext()");const t=this.buildContextEvent(e);return this.send(t,!0)}))}sendConversion(e){return __async(this,null,(function*(){fs.debug("sendConversion()");const t=this.buildConversionEvent(e);return this.send(t,!0)}))}sendView(e,t){return __async(this,null,(function*(){fs.debug("sendView()");const i=this.buildViewEvent(e,t);return this.send(i,!0)}))}sendGoal(e,t,i,s){return __async(this,null,(function*(){fs.debug("sendGoal()");const n=this.buildGoalEvent(e,t,i);return this.send(n,s)}))}static get PATH(){return"/logger"}buildPageviewEvent(){fs.debug("buildPageviewEvent()");const e={eventType:"pv"};return this.buildCommonEvent(e),e.pageviewId=this.environment.getPageviewId(),e.sessionId=this.customerStorage.updateAndGetSessionId(),e.policyId=this.policy.getId(),e.policyTimestamp=this.policy.getTimestamp(),this.customerStorage.getCustomerControlStatus(this.customer).ifPresent((t=>{e.controlStatus=t})),e}buildContextEvent(e){fs.debug("buildContextEvent()");const t={eventType:"ctx",pageviewId:this.environment.getPageviewId(),customerId:this.customer.getId(),userId:this.user.getId()},i=e.getAllData();return Object.keys(i).length>0&&(t.integrationData=i),t}buildConversionEvent(e){fs.debug("buildConversionEvent()");const t={eventType:"c"};return this.buildCommonEvent(t),this.populateConversionInfo(t,e),t.pageviewId=this.environment.getPageviewId(),t.sessionId=this.customerStorage.updateAndGetSessionId(),t.policyId=this.policy.getId(),t.policyTimestamp=this.policy.getTimestamp(),this.customerStorage.getCustomerControlStatus(this.customer).ifPresent((e=>{t.controlStatus=e})),t}buildViewEvent(e,t){fs.debug("buildViewEvent()");const i={eventType:"v"};this.buildBaseEvent(i,e);const s=e.getExperience(),n=s.getCampaign(),r=n.getCustomer();return t.isStickyVariation(e)?this.customerStorage.getVariationPredictionModelVersion(e).ifPresent((e=>{i.modelVersion=e})):i.modelVersion=t.getModelVersion(s.getId()),i.isPrediction=!t.isStickyVariation(e)&&e.getId()!==it,i.isVariationSticky=t.isStickyVariation(e),i.isCampaignFirstTime=this.customerStorage.updateAndGetIsCampaignFirstTimeView(n,this.environment.getInitializeUnixTime()),i.isVariationFirstTime=this.customerStorage.updateAndGetIsVariationFirstTimeView(e,this.environment.getInitializeUnixTime()),i.pageviewId=this.environment.getPageviewId(),i.sessionId=this.customerStorage.updateAndGetSessionId(),i.policyId=this.policy.getId(),i.policyTimestamp=this.policy.getTimestamp(),this.customerStorage.getCustomerControlStatus(r).ifPresent((e=>{i.controlStatus=e})),i}buildGoalEvent(e,t,i){fs.debug("buildGoalEvent()");const s={eventType:"ocg"};this.buildBaseEvent(s,e);const n=e.getExperience().getCampaign();return s.isCampaignFirstTime=this.customerStorage.updateAndGetIsCampaignFirstTimeGoal(n,t,this.environment.getInitializeUnixTime()),s.isVariationFirstTime=this.customerStorage.updateAndGetIsVariationFirstTimeGoal(e,t,this.environment.getInitializeUnixTime()),this.customerStorage.getVariationPredictionModelVersion(e).ifPresent((e=>{s.modelVersion=e})),s.metricId=t.getId(),s.isGoal=t.isGoal(),s.goalPageviewId=this.environment.getPageviewId(),s.goalSessionId=this.customerStorage.updateAndGetSessionId(),this.populateConversionInfo(s,i),this.customerStorage.getVariationPredictionPageviewId(e).ifPresent((e=>{s.pageviewId=e})),this.customerStorage.getVariationPredictionSessionId(e).ifPresent((e=>{s.sessionId=e})),s.policyId=this.policy.getId(),s.policyTimestamp=this.policy.getTimestamp(),this.customerStorage.getCustomerControlStatus(n.getCustomer()).ifPresent((e=>{s.controlStatus=e})),s}populateConversionInfo(e,t){e.actionId=t.getActionId();const i=t.getEvent();i instanceof Et&&t.getNativeMouseEvent().ifPresent((t=>{this.getNearestAnchorHref(t).ifPresent((t=>{e.clickTargetUrl=t})),this.getWebflowNativeIdPathElement(i,t).ifPresent((t=>{e.webflowNativeIdPath=t.dataset[xs],this.getWebflowEventLabel(t).ifPresent((t=>{e.webflowEventLabel=t}))}))})),e.eventId=t.getEventId(),e.eventInstanceId=t.getEventInstanceId(),t.getEventValue().ifPresent((t=>{e.eventValue=t}))}getNearestAnchorHref(e){var t,i;let s,n=e.target;for(;void 0!==n;){if(n instanceof HTMLAnchorElement){s=null!=(t=n.getAttribute("href"))?t:void 0;break}n=null!=(i=n.parentNode)?i:void 0}return j.ofNullable(s)}getWebflowEventLabel(e){let t;return this.getInnerText(e).ifPresent((e=>{const i=e.slice(0,100).trim().replace(/\s+/g," ");i.length>0&&(t=i)})),void 0===t&&this.getAriaLabel(e).ifPresent((e=>{t=e})),void 0===t&&this.getElementId(e).ifPresent((e=>{t=e})),void 0===t&&this.getChildImgElement(e).ifPresent((i=>{this.getAriaLabel(i).ifPresent((e=>{t=e})),void 0===t&&this.getImgAlt(i).ifPresent((e=>{t=e})),void 0===t&&this.getElementId(i).ifPresent((e=>{t=e})),void 0===t&&e instanceof HTMLAnchorElement&&this.getAnchorHrefAttr(e).ifPresent((e=>{t=e})),void 0===t&&this.getImgSrcAttr(i).ifPresent((e=>{t=e}))})).ifAbsent((()=>{e instanceof HTMLAnchorElement&&this.getAnchorHrefAttr(e).ifPresent((e=>{t=e}))})),j.ofNullable(t)}getChildImgElement(e){return 1===e.children.length&&e.children[0]instanceof HTMLImageElement?j.of(e.children[0]):j.empty()}getInnerText(e){return j.ofNullable(e.innerText)}getAriaLabel(e){return j.ofNullable(e.ariaLabel)}getElementId(e){return j.ofNullable(e.id)}getImgAlt(e){return j.ofNullable(e.alt)}getImgSrcAttr(e){return j.ofNullable(e.getAttribute("src"))}getAnchorHrefAttr(e){const t=e.getAttribute("href");return"#"===t?j.empty():j.ofNullable(t)}getWebflowNativeIdPathElement(e,t){if(void 0!==t.target.dataset[xs])return j.of(t.target);const i=t.target.closest(e.getSelector());return i instanceof HTMLElement&&void 0!==i.dataset[xs]?j.of(i):j.empty()}buildBaseEvent(e,t){const i=t.getExperience(),s=i.getCampaign();this.buildCommonEvent(e),e.campaignId=s.getId(),e.experienceId=i.getId(),e.variationId=t.getId()}buildCommonEvent(e){e.userId=this.user.getId(),e.isFirstTimeUser=this.user.isNewVisitor(),e.userVisitStatus=this.customerStorage.getUserVisitStatus(this.user),e.userBucket=this.user.getUserBucket(),e.intellimizeClientIp=this.serverContext.clientIp,e.customerId=this.customer.getId(),this.environment.getNowVisibilityState().ifPresent((t=>{e.visibilityState=t})),e.clientVersion=Q,e.requestId=this.serverContext.requestId,this.environment.getReferrerUrl().ifPresent((t=>{Ts.sanitizeUrl(t.getRawUrl()).ifPresent((t=>{e.referrerUrl=t})),e.referrerUrlEnc=t.getRawUrl()})),Ts.sanitizeUrl(this.environment.getHostingPageUrl().getRawUrl()).ifPresent((t=>{e.hostingPageUrl=t})),e.hostingPageUrlEnc=this.environment.getHostingPageUrl().getRawUrl(),e.intellimizeUserAgentDigest=this.serverContext.userAgentDigest,e.time=this.environment.getNowUnixTimeMs(),e.timeZone=this.environment.getTimeZone(),this.environment.getWidowWidth().ifPresent((t=>{e.windowWidth=t})),this.environment.getWidowHeight().ifPresent((t=>{e.windowHeight=t})),this.environment.getScreenOrientation().ifPresent((t=>{e.screenOrientation=t}));const t=this.attributeStorage.getFlattenedInternalAttributes();Object.keys(t).length>0&&(e.internalAttributes=t);const i=this.attributeStorage.getFlattenedCustomAttributes();Object.keys(i).length>0&&(e.customAttributes=i);const s=this.pageContext.getPages().map((e=>e.getId()));s.length>0&&(e.pageIds=s);const n=this.pageContext.getAudiences().map((e=>e.getId()));n.length>0&&(e.audienceIds=n);const r=this.environment.getWebflowPageMetadata();void 0!==r.domain&&(e.webflowDomain=r.domain),void 0!==r.siteId&&(e.webflowSiteId=r.siteId),void 0!==r.pageId&&(e.webflowPageId=r.pageId),void 0!==r.collectionId&&(e.webflowCollectionId=r.collectionId),void 0!==r.itemSlug&&(e.webflowItemSlug=r.itemSlug)}send(e,t){return __async(this,null,(function*(){const i=Date.now();fs.debug(`send(async: ${t}) ${i}`);if(("pv"===e.eventType?this.override.sendPageviewBrowserEvents():this.override.sendNonPageviewBrowserEvents()).orElse(!0)){if(t){const t=ds(se,As.PATH),i=we(e);yield this.sendBeacon(t,i)}else yield this.environment.legacySynchronousXhr(se,As.PATH,{method:"POST",body:we(e)});fs.debug("BrowserEvent sent")}else fs.debug("BrowserEvent send skipped")}))}sendBeacon(e,t){return __async(this,null,(function*(){return new Promise(((i,s)=>{this.environment.sendBeacon(e,t)?i():s()}))}))}}class Fs{constructor(){__publicField(this,"onVariationRecordedCallbackTuples",[])}getVariationRecordedCallbackTuples(){return this.onVariationRecordedCallbackTuples}addVariationRecordedCallbackTuple(e){this.onVariationRecordedCallbackTuples.push(e)}}class ks{static evalBoolean(e){const t=ks.eval(e);if("boolean"==typeof t)return t;throw new TypeError("Expected boolean response, but got "+typeof t+": "+t)}static evalString(e){const t=ks.eval(e);if("string"==typeof t)return t;throw new TypeError("Expected string response, but got "+typeof t+": "+t)}static eval(e){return fs.info(`eval code: ${e}`),(0,eval)('"use strict";\n'+ks.reformatJqueryCode(e))}static injectCss(e,t,i){fs.info(`inject css: ${e}`);const s=`intellimize-${t}`,n=i.querySelectorAll(`head #${s}`),[r]=n;if(void 0===r){const t=i.createElement("style");t.id=s,t.className="iStyleBlock",t.append(e),i.head.append(t)}else r.innerHTML=e}static removeCss(e,t){var i;fs.info(`Remove css: ${e}`);const s=`intellimize-${e}`;null==(i=t.querySelector(`head #${s}`))||i.remove()}static executeFunction(e,t){try{e.call(void 0)}catch(i){const e=new bt("Caught exception in function callback",i);fs.error(e,t)}}static reformatJqueryCode(e){return`var $ = (window.intellimize && window.intellimize.plugins && window.intellimize.plugins.jquery) ? window.intellimize.plugins.jquery : window.$;\n${e}`}}class Ps{constructor(e,t){__publicField(this,"attributeData"),__publicField(this,"activityStorage"),this.attributeData=e,this.activityStorage=t}evalBoolean(e){fs.info(`ConditionEvaluationRuntime.evalBoolean(${e.slice(0,10)})`);const t=ks.evalBoolean(e);return fs.info(`ConditionEvaluationRuntime.evalBoolean() => ${t}`),t}getAttributeValue(e){return this.attributeData.getAttributeValue(e)}getActivities(){return this.activityStorage.getAll()}}const Ms=["mutations"],Ds={debug(e,t,i){fs.debug(e,t,i,Ms)},group(e){fs.group(e,Ms)},groupEnd(){fs.groupEnd(Ms)},time(e){fs.time(e,Ms)},timeEnd(e){fs.timeEnd(e,Ms)}};class Ns{attachObserver(){}detachObserver(){}registerSelectorAndExecute(e,t,i,s){const n=document.querySelectorAll(e);Ds.debug(`Found ${n.length} matching elements`),n.length>0?n.forEach((e=>{Ds.debug(`Processing element: ${xe(e)}`),t(e)})):Ds.debug(`No matching elements for selector: ${e}`)}reset(){}}function Os(e){return"[object Array]"===Object.prototype.toString.call(e)}function Rs(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function Ls(e){return"[object Object]"===Object.prototype.toString.call(e)}function $s(e){return"[object Function]"===Object.prototype.toString.call(e)}function Vs(e){return"[object HTMLImageElement]"===Object.prototype.toString.call(e)}function Us(e,t){const i=[];for(const s of e)t.includes(s)||i.push(s);for(const s of t)e.includes(s)||i.push(s);return i}function Ws(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function zs(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function js(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[t,e])))}const Bs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Gs=e=>String(e).replace(/[&<>"'`=/]/g,(e=>{var t;return null!=(t=Bs[e])?t:e})),Hs=(e,t,i=!0)=>{let s="";return t.forEach((t=>{s+=Qs(e,t,i)})),s},Qs=(e,t,i=!0)=>{switch(t.type){case"string":return t.value;case"attribute":return qs(e,t.value,i);default:throw new Error(`Unsupported TemplateFragment type: ${t.type}`)}},qs=(e,{attrDefId:t,defaultString:i},s)=>{const n=new je(t);let r=e.getAttributeValue(n).orElse(i);return Os(r)&&(r=Ks(e,n,i)),s?Gs(String(r)):String(r)},Ks=(e,t,i)=>e.getAttributeValue(t).flatMap((([e])=>j.ofNullable(e))).orElse(i);class Ys{constructor(e,t,i,s){__publicField(this,"attributeData"),__publicField(this,"environment"),__publicField(this,"localDocument"),__publicField(this,"parent"),__publicField(this,"changeIndex"),this.parent=e,this.changeIndex=t,this.attributeData=i,this.environment=s,this.localDocument=s.getWindow().document}getGuid(){return`${this.parent.getGuid()}-c${this.changeIndex}}`}getEntityIds(){return __spreadProps(__spreadValues({},this.parent.getEntityIds()),{changeId:String(this.changeIndex)})}}const Js="data-imize";function Xs(e,t,i){var s;const n=e;n.imizeChangeData=null!=(s=n.imizeChangeData)?s:{},m(n.imizeChangeData)?n.imizeChangeData[t]=i:fs.error("Invalid imizeChangeData value: must be an object",118)}function Zs(e,t){return j.ofNullable(an(e)[t])}function en(e,t){delete an(e)[t],0===Object.keys(an(e)).length&&ln(e)}function tn(e){const t=e;return void 0!==t.imizeChangeData&&Object.keys(t.imizeChangeData).length>0}function sn(e){return`${Js}-${e}`}function nn(e){return document.querySelectorAll(`[${sn(e)}]`)}function rn(e,t){e.setAttribute(sn(t),t)}function on(e,t){e.removeAttribute(sn(t))}function an(e){var t;const i=e;return m(i.imizeChangeData)||f(i.imizeChangeData)?null!=(t=i.imizeChangeData)?t:{}:(fs.error("Invalid imizeChangeData value: must be undefined or an object",119),{})}function ln(e){delete e.imizeChangeData}function cn(e,t){const i={};for(const[s,n]of Object.entries(an(e)))n.type===t&&(i[s]=n.value);return i}function un(e){return{getGuid:()=>`e${e.getExperience().getId()}-v${e.getId()}`,getEntityIds:()=>({variationId:e.getId(),experienceId:e.getExperience().getId()})}}function dn(e){return{getGuid:()=>`p${e.getId()}`,getEntityIds:()=>({pageId:e.getId()})}}function hn(e){return{getGuid:()=>`ve${e.id}`,getEntityIds:()=>({})}}const gn=class extends Ys{constructor(e,t,i,s,n){super(t,i,s,n),__publicField(this,"attributeChange"),this.attributeChange=e}static getIsValidAttribute(e,t){const i=e.tagName.toLowerCase();return gn.VALID_TAGS_BY_NON_STANDARD_ATTRIBUTE[t].includes(i)}isReadyToApply(){return this.attributeChange.isReadyToApply(this.localDocument)}apply(e,t){fs.group("EnhancedAttributeChange.apply()"),fs.debug(`Applying change: ${Ie(this.attributeChange)}`),t.registerSelectorAndExecute(this.attributeChange.getSelector(),(t=>{this.applyChanges(t,e)}),{shouldReapply:e=>this.shouldReapply(e)},this.getEntityIds()),fs.groupEnd()}undo(){fs.debug(`[EnhancedAttributeChange]: Undoing change: ${Ie(this.attributeChange)}`),this.attributeChange.getId().ifPresent((e=>{const t=nn(e);Array.prototype.forEach.call(t,(t=>{if(t instanceof HTMLElement){const i=Zs(t,e);if(i.isPresent()){const e=i.get().value;Object.keys(this.attributeChange.getAttributes()).forEach((i=>{switch(i){case"html":void 0!==e.html&&(t.innerHTML=this.renderContent(e.html));break;case"className":void 0!==e.className&&(t.className=e.className);break;case"alt":case"src":case"srcset":case"sizes":case"href":{const s=e[i];void 0===s?t.removeAttribute(i):t.setAttribute(i,s);break}case"css":case"style":void 0!==e.style&&(t.style.cssText=e.style);break;default:fs.error(`[EnhancedAttributeChange]: Cannot undo unknown attribute: ${i}`,121,this.getEntityIds())}}))}else fs.error(`[EnhancedAttributeChange]: Expected change data, but there was none: ${Ie(this.attributeChange)}`,122,this.getEntityIds())}else fs.error(new Error("[EnhancedAttributeChange]: Found matching element that is not an HTMLElement"),123,this.getEntityIds());on(t,e),en(t,e)}))}))}getSelector(){return j.of(this.attributeChange.getSelector())}applyChanges(e,t){let i=!1;fs.group(`EnhancedAttributeChange.applyChanges(${Ie(this.attributeChange)})`),this.attributeChange.getId().ifPresent((t=>{rn(e,t)}));const s={};Object.keys(this.attributeChange.getAttributes()).forEach((n=>{switch(n){case"html":{const{html:t}=this.attributeChange.getAttributes();void 0!==t&&(s.html=e.innerHTML,e.innerHTML=this.renderContent(t)),fs.debug("Applied html");break}case"css":case"style":break;case"className":{const{className:t}=this.attributeChange.getAttributes();void 0!==t&&(s.className=e.className,e.className=t),fs.debug("Applied className");break}case"src":this.applyNonStandardAttribute(n,e,s),Vs(e)&&!e.complete&&(fs.debug("attaching listener for img src loading"),i=!0,e.addEventListener("load",(()=>{try{fs.debug("EnhancedAttributeChange() image loaded! calling onReadyToRender()"),t()}catch(e){const t=new bt("Exception in image onload handler",e);fs.error(t,236,this.getEntityIds())}}),{once:!0}));break;case"alt":case"srcset":case"sizes":case"href":this.applyNonStandardAttribute(n,e,s);break;default:fs.error(`[EnhancedAttributeChange]: Cannot apply unknown attribute: ${n}`,120,this.getEntityIds())}}));const n=this.createCssText(e);void 0!==n&&(s.style=e.style.cssText,e.style.cssText=n,fs.debug("Applied css")),this.attributeChange.getId().ifPresent((t=>{Xs(e,t,{value:s,type:et.ATTRIBUTE})})),i||(fs.debug("EnhancedAttributeChange() not waiting; calling onReadyToRender()"),t()),fs.debug("DOM modifications successfully applied for this change."),fs.groupEnd()}applyNonStandardAttribute(e,t,i){const s=gn.getIsValidAttribute(t,e),n=this.attributeChange.getAttributes()[e];if(s&&void 0!==n){const s=t.getAttribute(e);null!==s&&(i[e]=s),t.setAttribute(e,n)}else fs.error(`This ${t.tagName} does not support this attribute: ${e}`,131,this.getEntityIds());fs.debug(`Applied ${n}`)}createCssText(e){const{css:t,style:i}=this.attributeChange.getAttributes();if(f(t))return i;const s=null!=i?i:"";let n="";return Object.entries(t).forEach((([e,t])=>{const i=Ws(e);if(!new RegExp(i+"\\s*:").test(s)){const i=t.includes("!important")?t:`${t} !important`;n+=`${Ws(e)}:${i};`}})),f(i)?e.style.cssText+n:n+s}shouldReapply(e){for(const t in this.attributeChange.getAttributes())if(Object.prototype.hasOwnProperty.call(this.attributeChange.getAttributes(),t))switch(fs.debug(`shouldReapply(): CHECKING "${t}"`),t){case"css":case"className":case"style":case"alt":fs.debug(`shouldReapply(): SKIP (attribute "${t}" not checked)`);break;case"src":case"srcset":case"sizes":case"href":{const i=this.attributeChange.getAttributes()[t];if(void 0!==i){const s=e.getAttribute(t);if(""===i&&null===s){fs.debug(`shouldReapply(): SKIP (value of "${t}" is null; configured value is empty string)`);break}if(i!==s)return fs.debug(`shouldReapply(): YES (value of "${t}" changed from "${i}" to "${s}")`),!0;fs.debug(`shouldReapply(): SKIP (value of "${t}" did not change)`);break}fs.debug(`shouldReapply(): SKIP (configured value of "${t}" is undefined)`);break}case"html":{const i=this.attributeChange.getAttributes()[t],s=document.createElement("div");if(void 0!==i&&(s.innerHTML=this.renderContent(i)),e.textContent!==s.textContent)return fs.debug(`shouldReapply(): YES (The visible text of the element has changed from "${s.textContent}" to "${e.textContent}")`),!0;fs.debug(`shouldReapply(): SKIP (The text of the element has not changed; comparing configured "${s.textContent}" to current "${e.textContent}")`);break}default:fs.error(`[EnhancedAttributeChange]: shouldReapply() found unknown attribute: ${t}`,201,this.getEntityIds())}return fs.debug("shouldReapply(): NO (all attributes skipped)"),!1}renderContent(e){return"string"==typeof e?e:Hs(this.attributeData,e,!0)}};let pn=gn;function mn(){return fn("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")}function vn(){return fn("xxxx-yxxx-xxxxxxxxxxxx")}function bn(){return fn("xxxxxxxxxx")}function fn(e){let t=Date.now();return e.replace(/[xy]/g,(e=>{const i=Math.trunc((t+16*Math.random())%16);return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)}))}__publicField(pn,"VALID_TAGS_BY_NON_STANDARD_ATTRIBUTE",{alt:["img"],src:["img"],srcset:["img"],sizes:["img"],href:["a"]});class En extends Ys{constructor(e,t,i,s,n){super(t,i,s,n),__publicField(this,"customCodeChange"),this.customCodeChange=e}isReadyToApply(){return this.customCodeChange.isReadyToApply(this.localDocument)}apply(e,t){fs.group("EnhancedCustomCodeChange.apply()"),fs.debug(`Applying change: ${Ie(this.customCodeChange)}`);try{this.customCodeChange.getCss().ifPresent((e=>{this.injectCss(e)})),t.detachObserver(),this.customCodeChange.getCode().ifPresent((e=>{this.runCode(e)}))}finally{t.attachObserver(),e(),fs.groupEnd()}}undo(){}getSelector(){return j.empty()}runCode(e){try{fs.info("Running code for CUSTOM_CODE change"),ks.eval(e)}catch(t){throw new bt("Code execution failed",t)}}injectCss(e){try{const t=this.customCodeChange.getId().orElseRun(mn);fs.info("Injecting css for CUSTOM_CODE change"),ks.injectCss(e,`dom-change-${t}`,document)}catch(t){throw new bt("Css injection failed",t)}}}var _n={};!function(e){var t=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,o=(e,t,i)=>(r(e,"symbol"!=typeof t?t+"":t,i),i);Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});let a=class extends Error{constructor(e){super(e),this.name="UnexpectedNullException"}};function l(e,t){if(null==e||"string"==typeof e&&0===e.length)throw new a(t);return e}class c extends Error{constructor(e){super(e),this.name="IllegalArgumentException"}}let u=class extends Error{constructor(e){super(e),this.name="NoSuchElementException"}};var d=Object.defineProperty,h=(e,t,i)=>{return r=i,(n="symbol"!=typeof t?t+"":t)in(s=e)?d(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r,i;var s,n,r};class g{static empty(){return v.INSTANCE}static of(e){return new p(l(e))}static ofNullable(e){return null==e||"string"==typeof e&&0===e.length?v.INSTANCE:new p(e)}}class p extends g{constructor(e){super(),h(this,"value"),this.value=e}isPresent(){return!0}ifPresent(e){return e(this.value),this}ifAbsent(e){return this}get(){return this.value}orElse(e){return this.value}orElseRun(e){return this.value}toArray(){return[this.value]}map(e){return g.ofNullable(e(this.value))}flatMap(e){return e(this.value)}toString(){return`Optional[${this.value.toString()}]`}}const m=class extends g{isPresent(){return!1}ifPresent(e){return this}ifAbsent(e){return e(),this}get(){throw new u("No value present")}orElse(e){return e}orElseRun(e){return e()}toArray(){return[]}map(e){return g.empty()}flatMap(e){return g.empty()}toString(){return"Optional.empty"}};let v=m;h(v,"INSTANCE",new m);const b="imize-extension";var f=Object.prototype.toString,E=Array.isArray||function(e){return"[object Array]"===f.call(e)};function _(e){return"function"==typeof e}function y(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function S(e,t){return null!=e&&"object"==typeof e&&t in e}var I=RegExp.prototype.test,w=/\S/;function C(e){return t=w,i=e,!I.call(t,i);var t,i}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},x=/\s*/,A=/\s+/,F=/\s*=/,k=/\s*\}/,P=/#|\^|\/|>|\{|&|=|!/;function M(e){this.string=e,this.tail=e,this.pos=0}function D(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function N(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}M.prototype.eos=function(){return""===this.tail},M.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},M.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},D.prototype.push=function(e){return new D(e,this)},D.prototype.lookup=function(e){var t,i,s,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var r,o,a,l=this,c=!1;l;){if(e.indexOf(".")>0)for(r=l.view,o=e.split("."),a=0;null!=r&&a<o.length;)a===o.length-1&&(c=S(r,o[a])||(i=r,s=o[a],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(s))),r=r[o[a++]];else r=l.view[e],c=S(l.view,e);if(c){t=r;break}l=l.parent}n[e]=t}return _(t)&&(t=t.call(this.view)),t},N.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},N.prototype.parse=function(e,t){var i=this.templateCache,s=e+":"+(t||O.tags).join(":"),n=void 0!==i,r=n?i.get(s):void 0;return null==r&&(r=function(e,t){if(!e)return[];var i,s,n,r=!1,o=[],a=[],l=[],c=!1,u=!1,d="",h=0;function g(){if(c&&!u)for(;l.length;)delete a[l.pop()];else l=[];c=!1,u=!1}function p(e){if("string"==typeof e&&(e=e.split(A,2)),!E(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(y(e[0])+"\\s*"),s=new RegExp("\\s*"+y(e[1])),n=new RegExp("\\s*"+y("}"+e[1]))}p(t||O.tags);for(var m,v,b,f,_,S,I=new M(e);!I.eos();){if(m=I.pos,b=I.scanUntil(i))for(var w=0,T=b.length;w<T;++w)C(f=b.charAt(w))?(l.push(a.length),d+=f):(u=!0,r=!0,d+=" "),a.push(["text",f,m,m+1]),m+=1,"\n"===f&&(g(),d="",h=0,r=!1);if(!I.scan(i))break;if(c=!0,v=I.scan(P)||"name",I.scan(x),"="===v?(b=I.scanUntil(F),I.scan(F),I.scanUntil(s)):"{"===v?(b=I.scanUntil(n),I.scan(k),I.scanUntil(s),v="&"):b=I.scanUntil(s),!I.scan(s))throw new Error("Unclosed tag at "+I.pos);if(_=">"==v?[v,b,m,I.pos,d,h,r]:[v,b,m,I.pos],h++,a.push(_),"#"===v||"^"===v)o.push(_);else if("/"===v){if(!(S=o.pop()))throw new Error('Unopened section "'+b+'" at '+m);if(S[1]!==b)throw new Error('Unclosed section "'+S[1]+'" at '+m)}else"name"===v||"{"===v||"&"===v?u=!0:"="===v&&p(b)}if(g(),S=o.pop())throw new Error('Unclosed section "'+S[1]+'" at '+I.pos);return function(e){for(var t,i=[],s=i,n=[],r=0,o=e.length;r<o;++r)switch((t=e[r])[0]){case"#":case"^":s.push(t),n.push(t),s=t[4]=[];break;case"/":n.pop()[5]=t[2],s=n.length>0?n[n.length-1][4]:i;break;default:s.push(t)}return i}(function(e){for(var t,i,s=[],n=0,r=e.length;n<r;++n)(t=e[n])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(s.push(t),i=t));return s}(a))}(e,t),n&&i.set(s,r)),r},N.prototype.render=function(e,t,i,s){var n=this.getConfigTags(s),r=this.parse(e,n),o=t instanceof D?t:new D(t,void 0);return this.renderTokens(r,o,i,e,s)},N.prototype.renderTokens=function(e,t,i,s,n){for(var r,o,a,l="",c=0,u=e.length;c<u;++c)a=void 0,"#"===(o=(r=e[c])[0])?a=this.renderSection(r,t,i,s,n):"^"===o?a=this.renderInverted(r,t,i,s,n):">"===o?a=this.renderPartial(r,t,i,n):"&"===o?a=this.unescapedValue(r,t):"name"===o?a=this.escapedValue(r,t,n):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(l+=a);return l},N.prototype.renderSection=function(e,t,i,s,n){var r=this,o="",a=t.lookup(e[1]);if(a){if(E(a))for(var l=0,c=a.length;l<c;++l)o+=this.renderTokens(e[4],t.push(a[l]),i,s,n);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)o+=this.renderTokens(e[4],t.push(a),i,s,n);else if(_(a)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,s.slice(e[3],e[5]),(function(e){return r.render(e,t,i,n)})))&&(o+=a)}else o+=this.renderTokens(e[4],t,i,s,n);return o}},N.prototype.renderInverted=function(e,t,i,s,n){var r=t.lookup(e[1]);if(!r||E(r)&&0===r.length)return this.renderTokens(e[4],t,i,s,n)},N.prototype.indentPartial=function(e,t,i){for(var s=t.replace(/[^ \t]/g,""),n=e.split("\n"),r=0;r<n.length;r++)n[r].length&&(r>0||!i)&&(n[r]=s+n[r]);return n.join("\n")},N.prototype.renderPartial=function(e,t,i,s){if(i){var n=this.getConfigTags(s),r=_(i)?i(e[1]):i[e[1]];if(null!=r){var o=e[6],a=e[5],l=e[4],c=r;0==a&&l&&(c=this.indentPartial(r,l,o));var u=this.parse(c,n);return this.renderTokens(u,t,i,c,s)}}},N.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},N.prototype.escapedValue=function(e,t,i){var s=this.getConfigEscape(i)||O.escape,n=t.lookup(e[1]);if(null!=n)return"number"==typeof n&&s===O.escape?String(n):s(n)},N.prototype.rawValue=function(e){return e[1]},N.prototype.getConfigTags=function(e){return E(e)?e:e&&"object"==typeof e?e.tags:void 0},N.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!E(e)?e.escape:void 0};var O={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){R.templateCache=e},get templateCache(){return R.templateCache}},R=new N;O.clearCache=function(){return R.clearCache()},O.parse=function(e,t){return R.parse(e,t)},O.render=function(e,t,i,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(E(n=e)?"array":typeof n)+'" was given as the first argument for mustache#render(template, view, partials)');var n;return R.render(e,t,i,s)},O.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return T[e]}))},O.Scanner=M,O.Context=D,O.Writer=N;const L="standard",$="custom",V="url_param",U="marketo",W="salesforce",z="firmographic",j="6sense",B="googleAds",G="demandbase",H=[L,$,V,U,W,z,j,B,G];function Q(e){return"object"==typeof e&&e instanceof Error?e:new Error(e)}function q(){return function(e){let t=Date.now();return e.replace(/[xy]/g,(e=>{const i=Math.trunc((t+16*Math.random())%16);return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)}))}("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")}class K{constructor(e,t){o(this,"storage"),o(this,"namespace"),this.storage=e,this.namespace=t}static get delimiter(){return"."}write(e,t){this.storage.write(this.getFullKey(e),t)}read(e){return this.storage.read(this.getFullKey(e))}delete(e){this.storage.delete(this.getFullKey(e))}getFullKey(e){return`${this.namespace}${K.delimiter}${e}`}}class Y{constructor(e,t){o(this,"logger"),o(this,"namespace"),this.logger=e,this.namespace=t}getLevel(){return this.logger.getLevel()}error(e,t,i){this.logger.error(this.getFullMessage(e),t,i)}warn(e,t,i){this.logger.warn(this.getFullMessage(e),t,i)}info(e,t,i){this.logger.info(this.getFullMessage(e),t,i)}debug(e,t,i){this.logger.debug(this.getFullMessage(e),t,i)}group(e){this.logger.group(this.getFullMessage(e))}groupEnd(){this.logger.groupEnd()}time(e){this.logger.time(this.getFullMessage(e))}timeEnd(e){this.logger.timeEnd(this.getFullMessage(e))}getFullMessage(e){return`[${this.namespace}]: ${e}`}}e.ATTRIBUTE_NAMESPACES=H,e.ATTRIBUTE_NAMESPACE_CUSTOM=$,e.ATTRIBUTE_NAMESPACE_DEMANDBASE=G,e.ATTRIBUTE_NAMESPACE_FIRMOGRAPHIC=z,e.ATTRIBUTE_NAMESPACE_GOOGLE_ADS=B,e.ATTRIBUTE_NAMESPACE_MARKETO=U,e.ATTRIBUTE_NAMESPACE_SALESFORCE=W,e.ATTRIBUTE_NAMESPACE_SIXSENSE=j,e.ATTRIBUTE_NAMESPACE_STANDARD=L,e.ATTRIBUTE_NAMESPACE_URL_PARAM=V,e.Extension=class{constructor(e){o(this,"config"),this.config=e}getName(){return this.config.name}getDescription(){return this.config.description}getLabel(){return this.config.label}getIconImgSrc(){return g.ofNullable(this.config.iconImageSrc)}getCss(){return g.ofNullable(this.config.css)}getDom(){return void 0===this.config.dom?g.empty():g.of({html:this.config.dom.html,targetPosition:g.ofNullable(this.config.dom.targetPosition)})}getFields(){return this.config.fields}getViewData(e,t){var i,s;return null==(s=(i=this.config).viewDataFn)?void 0:s.call(i,e,t)}getRunFn(){var e;return g.ofNullable(null==(e=this.config.code)?void 0:e.run)}getResetFn(){var e;return g.ofNullable(null==(e=this.config.code)?void 0:e.reset)}},e.ExtensionExecutor=class{constructor(e,t,i,s=q()){let n;o(this,"extension"),o(this,"runtime"),o(this,"extensionStorage"),o(this,"extensionLogger"),o(this,"config"),o(this,"styleElementId"),o(this,"instanceId"),o(this,"targetPositionTuple"),o(this,"viewData"),e.getDom().ifPresent((e=>{!function(e,t){if(l(e),!e)throw new c(t)}(e.targetPosition.isPresent()||void 0!==i.targetPosition,"ExtensionExecutor expects a TargetPosition for extensions that use HTML"),void 0===i.targetPosition?(t.logger.debug("Using TargetPosition from Extension config"),n=[e.html,e.targetPosition.get()]):(t.logger.debug("Using TargetPosition from Executor config"),n=[e.html,i.targetPosition])})),this.targetPositionTuple=n,this.extension=e,this.runtime=t,this.extensionStorage=new K(t.storage,e.getName()),this.extensionLogger=new Y(t.logger,`Extension: ${e.getName()}`),this.config=i,this.instanceId=s,this.styleElementId=`extension-${e.getName()}`,this.viewData=this.extension.getViewData(this.fieldData,this.runtime)}get fieldData(){const e=((e,t)=>{for(var o in t||(t={}))s.call(t,o)&&r(e,o,t[o]);if(i)for(var o of i(t))n.call(t,o)&&r(e,o,t[o]);return e})({},this.config.fieldData);return this.extension.getFields().forEach((t=>{"defaultValue"in t&&void 0===e[t.name]&&(e[t.name]=t.defaultValue)})),e}run(e){this.runtime.logger.debug(`ExtensionExecutor(${this.extension.getName()}): Calling run()`),this.injectCss(),this.insertElement((()=>{this.runCode(),void 0!==e&&e()}))}reset(){this.runtime.logger.debug(`ExtensionExecutor(${this.extension.getName()}): Calling reset()`),this.resetCode(),this.removeElement(),this.removeCss()}getTargetPosition(){return this.getTargetPositionTuple().isPresent()?g.of(this.getTargetPositionTuple().get()[1]):g.empty()}getTargetElement(){if(this.getTargetPosition().isPresent()){const{selector:e}=this.getTargetPosition().get(),t=this.runtime.localWindow.document.querySelectorAll(e);return t.length>1&&this.runtime.logger.error(`Expected exactly one target element; found ${t.length} elements matching selector "${e}"`,7e3),g.ofNullable(t[0])}return g.empty()}injectCss(){this.extension.getCss().ifPresent((e=>{this.runtime.logger.debug(`ExtensionExecutor(${this.extension.getName()}): Injecting CSS`),this.runtime.injectCss(e,this.styleElementId)}))}insertElement(e){this.getTargetPositionTuple().ifPresent((t=>{const[,{selector:i}]=t;this.getTargetElement().ifPresent((s=>{this.runtime.logger.debug(`ExtensionExecutor(${this.extension.getName()}): Inserting Extension HTML at "${i}" ${JSON.stringify(this.fieldData,void 0,2)}`);try{this.insertElementAtTarget(t,s)}catch(n){const e=Q(n);this.runtime.logger.error(e,7001)}e()})).ifAbsent((()=>{this.runtime.logger.error(`ExtensionExecutor(${this.extension.getName()}): Could not find a TargetElement for selector ${i}`,7002),e()}))})).ifAbsent((()=>{e()}))}insertElementAtTarget(e,t){const[i,{insertPosition:s}]=e,n=O.render(i,{extension:{fieldData:this.fieldData,viewData:this.viewData}}),r=this.createElement(n);t.insertAdjacentElement(s,r)}runCode(){this.extension.getRunFn().ifPresent((e=>{e(this.getContext())}))}resetCode(){this.extension.getResetFn().ifPresent((e=>{e(this.getContext())}))}removeElement(){this.getTargetPositionTuple().isPresent()&&Array.prototype.forEach.call(this.getElements(),(e=>{e.remove()}))}removeCss(){this.extension.getCss().isPresent()&&this.runtime.removeCss(this.styleElementId)}getTargetPositionTuple(){return g.ofNullable(this.targetPositionTuple)}getElements(){return this.getTargetPositionTuple().isPresent()?[...this.runtime.localWindow.document.querySelectorAll(`[data-${b}="${this.instanceId}"]`)]:[]}getContext(){return{fieldData:this.fieldData,localWindow:this.runtime.localWindow,logger:this.extensionLogger,storage:this.extensionStorage}}createElement(e){const t=function(e,t){const i=t.createElement("template");return i.innerHTML=e.trim(),[...i.content.childNodes]}(e,this.runtime.localWindow.document);if(1!==t.length)throw new Error(`Unable to create a single DOM Node from the extension HTML for "${this.extension.getName()}"`);const[i]=t;if(!(i instanceof HTMLElement))throw new TypeError(`The root Node of the tree constructed from the extension HTML for "${this.extension.getName()}" is not an instance of an Element`);return i.setAttribute(`data-${b}`,this.instanceId),i}},e.exceptionToError=Q}(_n);class yn extends Ys{constructor(e,t,i,s,n,r,o){super(t,i,s,n),__publicField(this,"insertExtensionChange"),__publicField(this,"extensionManager"),__publicField(this,"runtime"),__publicField(this,"_executor"),this.insertExtensionChange=e,this.extensionManager=o;const a=n.getWindow();this.runtime={localWindow:a,logger:fs,storage:r,injectCss(e,t){ks.injectCss(e,t,a.document)},removeCss(e){ks.removeCss(e,a.document)}}}isReadyToApply(){return!this.getExecutor().getTargetPosition().isPresent()||this.getExecutor().getTargetElement().isPresent()}apply(e,t){fs.group("EnhancedExtensionChange.apply()"),fs.debug(`Applying change: ${Ie(this.insertExtensionChange)}`),this.getExecutor().getTargetPosition().ifPresent((({selector:i})=>{t.registerSelectorAndExecute(i,(()=>{this.getExecutor().run(e)}),{shouldReapply:this.shouldReapply.bind(this)},this.getEntityIds())})),fs.groupEnd()}undo(){fs.group("EnhancedExtensionChange.undo()"),fs.debug(`Undoing change: ${Ie(this.insertExtensionChange)}`),this.getExecutor().reset(),fs.groupEnd()}getSelector(){return j.empty()}shouldReapply(){return!this.getExecutor().getTargetPosition().isPresent()||!this.getExecutor().getTargetElement().isPresent()}getExecutor(){if(void 0===this._executor){const e=this.extensionManager.getExtension(this.insertExtensionChange.getName());if(!e.isPresent())throw new Error(`Could not find extension: ${this.insertExtensionChange.getName()}`);this._executor=new _n.ExtensionExecutor(e.get(),this.runtime,this.insertExtensionChange.getExecutorJson(),this.insertExtensionChange.getId().map((e=>e)).orElse(void 0))}return this._executor}}class Sn extends Ys{constructor(e,t,i,s,n){super(t,i,s,n),__publicField(this,"insertElementChange"),this.insertElementChange=e}isReadyToApply(){return this.insertElementChange.isReadyToApply(this.localDocument)}apply(e,t){fs.group("EnhancedInsertElementChange.apply()"),fs.debug(`Applying change: ${Ie(this.insertElementChange)}`);const i=this.createInsertionElement();t.registerSelectorAndExecute(this.insertElementChange.getTargetPosition().selector,(()=>{this.insertElement(i,e)}),{shouldReapply:this.shouldReapply.bind(this)},this.getEntityIds()),fs.groupEnd()}undo(){fs.group("EnhancedInsertElementChange.undo()"),fs.debug(`Undoing change: ${Ie(this.insertElementChange)}`),this.insertElementChange.getId().ifPresent((e=>{const t=nn(e);1===t.length?t[0].remove():fs.warn(`Unexpected error when undoing insertElementChange. Auto-generated attribute\n        selector expected 1 element match but found ${t.length}`,191,this.getEntityIds())})),fs.groupEnd()}getSelector(){return j.empty()}insertElement(e,t){this.removeExistingElements(),this.insertElementChange.getTargetElement(this.localDocument).ifPresent((i=>{i.insertAdjacentElement(this.insertElementChange.getTargetPosition().insertPosition,e),t()})).ifAbsent((()=>{throw new Error("Unexpected error: targetElement not found")})),this.insertElementChange.getId().ifPresent((t=>{Xs(e,t,{value:this.insertElementChange.getElementType(),type:et.INSERT_ELEMENT}),rn(e,t)}))}getInsertedElements(){return document.querySelectorAll(`#${this.insertElementChange.getIdAttribute()}`)}removeExistingElements(){const e=this.getInsertedElements();Array.prototype.forEach.call(e,(e=>{e.remove()}))}createInsertionElement(){let e;if(this.insertElementChange instanceof Vt)e=`h${this.insertElementChange.getSize()}`;else switch(this.insertElementChange.getElementType()){case"image":e="img";break;case"video":e="video";break;default:e="div"}const t=document.createElement(e);return t.id=this.insertElementChange.getIdAttribute(),t}shouldReapply(){return 0===this.getInsertedElements().length}}const In=class extends Ys{constructor(e,t,i,s,n){super(t,i,s,n),__publicField(this,"moveElementChange"),__publicField(this,"hasLoggedMutationWarning",!1),this.moveElementChange=e}static createAndInsertPlaceholderElement(e){const t=document.createElement("imizeplaceholder");return t.style.display="none",t.hidden=!0,e.after(t),t}isReadyToApply(){return this.moveElementChange.isReadyToApply(this.localDocument)}apply(e,t){fs.group("EnhancedMoveElementChange.apply()"),fs.debug(`Applying change: ${Ie(this.moveElementChange)}`),t.registerSelectorAndExecute(this.moveElementChange.getSelector(),(()=>{}),{shouldReapply:this.shouldReapply.bind(this)},this.getEntityIds()),this.moveElement(e),fs.groupEnd()}undo(){fs.group("EnhancedMoveElementChange.undo()"),fs.debug(`Undoing change: ${Ie(this.moveElementChange)}`),this.moveElementChange.getId().ifPresent((e=>{const t=nn(e);if(1===t.length){const i=t[0];Zs(i,e).ifPresent((({value:e})=>{null!==e.parentElement&&e.parentElement.replaceChild(i,e)})).ifAbsent((()=>{fs.warn(`Unexpected error when undoing moveElementChange. getChangeData(${e}): could not find data`,195,this.getEntityIds())})),on(i,e),en(i,e),i.removeAttribute(In.MOVE_ELEMENT_DATA_ATTRIBUTE_NAME)}else fs.warn(`Unexpected error when undoing moveElementChange. Auto-generated attribute\n        selector expected 1 element match but found ${t.length}`,196,this.getEntityIds())})),fs.groupEnd()}getSelector(){return j.of(this.moveElementChange.getSelector())}getMovedElement(){const e=document.querySelectorAll(`[${In.MOVE_ELEMENT_DATA_ATTRIBUTE_NAME}="${this.moveElementChange.getMoveId()}"]`);return 1===e.length?j.ofNullable(e[0]):j.empty()}shouldReapply(){return this.hasLoggedMutationWarning||(this.getMovedElement().ifPresent((()=>{fs.warn("[EnhancedMoveElementChange]: A mutation was observed for a move element change, however the moved element appears to still exists on the page",225,this.getEntityIds())})).ifAbsent((()=>{fs.warn("[EnhancedMoveElementChange]: A mutation was observed for a move element change and the moved element could not be found on the page.",226,this.getEntityIds())})),this.hasLoggedMutationWarning=!0),!1}moveElement(e){try{this.moveElementChange.getSelectorElement(this.localDocument).ifPresent((e=>{this.moveElementChange.getTargetElement(this.localDocument).ifPresent((t=>{if(e.contains(t))throw new Error("The target element cannot be a child of the selector element");this.moveElementChange.getId().ifPresent((t=>{rn(e,t);const i=In.createAndInsertPlaceholderElement(e);Xs(e,t,{value:i,type:et.MOVE_ELEMENT})})),t.insertAdjacentElement(this.moveElementChange.getTargetPosition().insertPosition,e),e.setAttribute(In.MOVE_ELEMENT_DATA_ATTRIBUTE_NAME,this.moveElementChange.getMoveId())})).ifAbsent((()=>{throw new Error("Unexpected error: target element could not be found)")}))})).ifAbsent((()=>{throw new Error("Unexpected error: selector element could not be found)")}))}finally{e()}}};let wn=In;__publicField(wn,"MOVE_ELEMENT_DATA_ATTRIBUTE_NAME",`data-${ls}`);const Cn="data-wf-",Tn=`${Cn}experience-`,xn=`${Cn}variation-`,An=`${Cn}hidden-variation`,Fn="data-intellimize-var-";class kn extends Ys{constructor(e,t,i,s,n){super(t,i,s,n),__publicField(this,"webflowChange"),__publicField(this,"experienceId"),__publicField(this,"variationId"),__publicField(this,"selector"),this.webflowChange=e;const r=t.getEntityIds();this.experienceId=N(r.experienceId,"experienceId must be defined"),this.variationId=N(r.variationId,"variationId must be defined"),R(this.getSelector().isPresent(),"getSelector should always return a selector"),this.selector=this.getSelector().get()}isReadyToApply(){return this.localDocument.querySelectorAll("body").length>0}apply(e,t){fs.group("EnhancedWebflowChange.apply()"),fs.debug(`Applying change: ${Ie(this.webflowChange)} - ${this.selector}`),t.registerSelectorAndExecute("body",(()=>{this.localDocument.querySelectorAll(`[${this.getWebflowExperienceAttribute()}]`).forEach((e=>{e.setAttribute(An,"")})),this.localDocument.querySelectorAll(`[${this.getWebflowVariationAttribute()}]`).forEach((e=>{e.removeAttribute(An)})),this.environment.getWindow().document.body.setAttribute(this.getIntellimizeVisibleVariationAttribute(),""),e()}),{shouldReapply:()=>this.shouldReapply()},this.getEntityIds()),fs.groupEnd()}undo(){}getSelector(){return j.of(`[${Tn}${this.experienceId}]`)}getWebflowExperienceAttribute(){return`${Tn}${this.experienceId}`}getWebflowVariationAttribute(){return`${xn}${this.variationId}`}getIntellimizeVisibleVariationAttribute(){return`${Fn}${this.variationId}`}shouldReapply(){const{body:e}=this.environment.getWindow().document;for(const t of this.localDocument.querySelectorAll(`[${this.getWebflowExperienceAttribute()}]`)){const i=t.hasAttribute(this.getWebflowVariationAttribute());if(fs.debug(`CHECKING SHOULDREAPPLY: ${i}, ${t.hasAttribute(An)}, ${e.hasAttribute(this.getIntellimizeVisibleVariationAttribute())}, ${t.outerHTML}`),!i&&!t.hasAttribute(An))return fs.debug(`shouldReapply(): YES (The [${An}] attribute is missing from a non-selected variation)`),!0;if(i&&t.hasAttribute(An))return fs.debug(`shouldReapply(): YES (The [${An}] attribute is present on the selected variation)`),!0}return e.hasAttribute(this.getIntellimizeVisibleVariationAttribute())?(fs.debug("shouldReapply(): NO (All data attributes are as expected)"),!1):(fs.debug(`shouldReapply(): YES (The [${Fn}${this.variationId}] attribute is missing from the body)`),!0)}}function Pn(e,t,i,s,n,r,o){switch(e.getType()){case et.ATTRIBUTE:case et.EXTENSION_ATTRIBUTE:return new pn(e,t,i,s,n);case et.CUSTOM_CODE:return new En(e,t,i,s,n);case et.INSERT_ELEMENT:return new Sn(e,t,i,s,n);case et.EXTENSION:return new yn(e,t,i,s,n,r,o);case et.MOVE_ELEMENT:return new wn(e,t,i,s,n);case et.WEBFLOW:return new kn(e,t,i,s,n);default:throw new Error(`Unknown DomChangeType: ${e.getType()}`)}}class Mn{constructor(){__publicField(this,"state",0),this.state=0}markHiddenIfUnknown(){0===this.state&&(this.state=1)}markRevealed(){this.state=2}isHidden(){return 1===this.state}isRevealed(){return 2===this.state}}class Dn extends Mn{constructor(e,t,i,s,n){super(),__publicField(this,"experience"),__publicField(this,"environment"),__publicField(this,"extensionManager"),__publicField(this,"browserStorage"),__publicField(this,"attributeData"),this.experience=e,this.environment=t,this.extensionManager=i,this.browserStorage=s,this.attributeData=n}static getId(e){return`exp-${e.getId()}`}getId(){return Dn.getId(this.experience)}getSelectors(){let e=!1;const t={},i=this.experience.getBoundingSelectors();return this.experience.getRealVariations().forEach((i=>{i.isTypeChange()?i.getChanges().forEach(((s,n)=>{Pn(s,un(i),n,this.attributeData,this.environment,this.browserStorage,this.extensionManager).getSelector().ifPresent((e=>{t[e]=!0})),s.getType()===et.CUSTOM_CODE&&(e=!0)})):i.isRedirect()?t.body=!0:e=!0})),e&&i.forEach((e=>{t[e]=!0})),Object.keys(t)}getEntityIds(){return{experienceId:this.experience.getId()}}}class Nn extends Mn{constructor(e,t,i,s,n){super(),__publicField(this,"page"),__publicField(this,"environment"),__publicField(this,"extensionManager"),__publicField(this,"browserStorage"),__publicField(this,"attributeData"),this.page=e,this.environment=t,this.extensionManager=i,this.browserStorage=s,this.attributeData=n}static getId(e){return`page-${e.getId()}`}getId(){return Nn.getId(this.page)}getSelectors(){const e={};return this.page.getChanges().forEach(((t,i)=>{Pn(t,dn(this.page),i,this.attributeData,this.environment,this.browserStorage,this.extensionManager).getSelector().ifPresent((t=>{e[t]=!0}))})),Object.keys(e)}getEntityIds(){return{pageId:this.page.getId()}}}class On{constructor(e,t){__publicField(this,"environment"),__publicField(this,"extensionManager"),__publicField(this,"regions",{}),this.environment=e,this.extensionManager=t}registerExperience(e,t,i){const s=Dn.getId(e);return void 0===this.regions[s]&&(this.regions[s]=new Dn(e,this.environment,this.extensionManager,t,i)),this.regions[s]}registerPage(e,t,i){const s=Nn.getId(e);return void 0===this.regions[s]&&(this.regions[s]=new Nn(e,this.environment,this.extensionManager,t,i)),this.regions[s]}getAll(){return Object.values(this.regions)}}const Rn=class{constructor(e,t,i=!1){__publicField(this,"localWindow"),__publicField(this,"skipRegionHiding"),__publicField(this,"regionRegistry"),__publicField(this,"experienceRegionsHidden",!1),__publicField(this,"pageRegionsHidden",!1),this.localWindow=e.getWindow(),this.skipRegionHiding=i,this.regionRegistry=new On(e,t)}static revealAll(e){Rn._revealDocument(e),Rn._revealAllRegions(e)}static get ANTI_FLICKER_CLASS_NAME(){return"anti-flicker"}static get REGION_TIMEOUT_MS(){return 3e3}static get RENDERING_ATTRIBUTE_NAME(){return`${Rn.ATTRIBUTE_NAME_PREFIX}rendering`}static getRegionAttribute(e){return`${Rn.ATTRIBUTE_NAME_PREFIX}${e.getId()}`}static _revealDocument(e){fs.debug(`Hider.revealDocument() - before:${e.documentElement.className}`),e.documentElement.className=e.documentElement.className.replace(new RegExp(` ?${Rn.ANTI_FLICKER_CLASS_NAME}`,"g"),""),fs.debug(`Hider.revealDocument() - after:${e.documentElement.className}`)}static _revealAllRegions(e){fs.info(`Removing ${Rn.RENDERING_ATTRIBUTE_NAME} attribute`),e.documentElement.removeAttribute(Rn.RENDERING_ATTRIBUTE_NAME)}revealDocument(){Rn._revealDocument(this.localWindow.document)}revealDocumentIfAllRegionsHidden(){this.experienceRegionsHidden&&this.pageRegionsHidden&&this.revealDocument()}startTimedRegionHider(){fs.debug("Hider.startTimedRegionHider()"),this.localWindow.document.documentElement.setAttribute(Rn.RENDERING_ATTRIBUTE_NAME,"true"),this.localWindow.setTimeout((()=>{Rn._revealAllRegions(this.localWindow.document),this.regionRegistry.getAll().forEach((e=>{e.isHidden()&&fs.warn(`Region (${e.getId()}) was hidden at timeout`,209,e.getEntityIds())}))}),Rn.REGION_TIMEOUT_MS)}hideExperiences(e,t,i){for(const s of e)fs.debug(`Hider - hide experience ${s.getId()}`),this.regionRegistry.registerExperience(s,t,i);this.setRegionHidingCss(),this.experienceRegionsHidden=!0}hidePages(e,t,i){for(const s of e)fs.debug(`Hider - hide page ${s.getId()}`),this.regionRegistry.registerPage(s,t,i);this.setRegionHidingCss(),this.pageRegionsHidden=!0}revealExperience(e,t,i){fs.debug(`Hider - reveal experience ${e.getId()}`),this.revealRegion(this.regionRegistry.registerExperience(e,t,i)),this.revealAllIfExperienceRegionsVisible()}revealPage(e,t,i){fs.debug(`Hider - reveal page ${e.getId()}`),this.revealRegion(this.regionRegistry.registerPage(e,t,i))}revealAllIfExperienceRegionsVisible(){this.regionRegistry.getAll().every((e=>e.isRevealed()))&&Rn.revealAll(this.localWindow.document)}revealRegion(e){const t=e.getSelectors();if(t.length>0){const i=this.localWindow.document.querySelectorAll(t.join(", "));Array.prototype.forEach.call(i,(t=>{t.setAttribute(`${Rn.getRegionAttribute(e)}`,"true")}))}e.markRevealed()}setRegionHidingCss(){if(this.skipRegionHiding)return;const e=[];this.regionRegistry.getAll().forEach((t=>{t.getSelectors().forEach((i=>{const s=`html[${Rn.RENDERING_ATTRIBUTE_NAME}] ${i}:not([${Rn.getRegionAttribute(t)}])`;e.push(s,`${s} *`)}))}));const t=e.length>0?`${e.join(", ")} { visibility: hidden !important; opacity: 0 !important; }`:"";ks.injectCss(t,"anti-flicker-regions",this.localWindow.document),this.regionRegistry.getAll().forEach((e=>{e.markHiddenIfUnknown()}))}};let Ln=Rn;__publicField(Ln,"ATTRIBUTE_NAME_PREFIX","data-intellimize-anti-flicker-");const $n=2,Vn=1,Un=Vn,Wn=class{constructor(){__publicField(this,"mutationObserver"),__publicField(this,"mutationHandlers",{}),__publicField(this,"currentUrl"),this.mutationObserver=new MutationObserver((e=>{if(Object.keys(this.mutationHandlers).length>0){if(Ds.group("MutationObserver.observe() - window.location.href: "+window.location.href),this.currentUrl||(this.currentUrl=window.location.href),this.currentUrl!==window.location.href)return Ds.debug("MutationObserver skip processing since URL changed"),void Ds.groupEnd();Wn.containsValidMutations(e)?(Ds.debug("mutationList contains at least one valid mutation; processing store"),this.processStore()):Ds.debug("mutationList contains no valid mutations; skipping store processing"),Ds.groupEnd()}})),this.reset()}static get CALLBACK_MAX_COUNT(){return 25}static get MISSING_ELEMENT_MAX_COUNT(){return 5}static get CALLBACK_THROTTLE_MS(){return 50}static selectorExists(e){try{return Boolean(document.querySelector(e))}catch(t){return!1}}static isProcessed(e,t){var i,s,n,r;switch(Un){case Vn:return"string"==typeof(null==(i=e.imizeObserverProcessed)?void 0:i[t])||!0===(null==(s=e.imizeObserverProcessed)?void 0:s[t])?(Ds.debug('isProcessed (OPT_CHECK_BOOL): imizeObserverProcessed is "true"'),!0):(Ds.debug('isProcessed (OPT_CHECK_BOOL): imizeObserverProcessed is NOT "true"'),!1);case $n:return"string"==typeof(null==(n=e.imizeObserverProcessed)?void 0:n[t])||!0===(null==(r=e.imizeObserverProcessed)?void 0:r[t])?e.imizeObserverProcessed[t]===e.outerHTML?(Ds.debug("isProcessed (OPT_COMPARE_HTML): imizeObserverProcessed outerHTML matches"),!0):(Ds.debug("isProcessed (OPT_COMPARE_HTML): imizeObserverProcessed outerHTML DOES NOT match"),Ds.debug(`outerHTML: ${e.outerHTML}`),Ds.debug(`imizeObserverProcessed: ${e.imizeObserverProcessed[t]}`),e.imizeObserverProcessed[t]=!1,!1):(Ds.debug("isProcessed (OPT_COMPARE_HTML): imizeObserverProcessed does not exist on the element"),!1);default:return Ds.debug("isProcessed (OPT_ALWAYS_CALLBACK): skipping check"),!1}}static setIsProcessed(e,t){switch(void 0===e.imizeObserverProcessed&&(e.imizeObserverProcessed={}),Un){case Vn:e.imizeObserverProcessed[t]=!0;break;case $n:e.imizeObserverProcessed[t]=e.outerHTML}}static isValidNodeNameMutation(e){var t;if(Wn.INVALID_NODE_NAMES.includes(e.target.nodeName))return Ds.debug(`Invalid mutation - Node is one of ${Ie(Wn.INVALID_NODE_NAMES)}`),!1;if(!0===(null==(t=e.attributeName)?void 0:t.startsWith(Ln.ATTRIBUTE_NAME_PREFIX)))return!1;if("childList"===e.type){if(Array.prototype.every.call([...Array.prototype.slice.call(e.addedNodes),...Array.prototype.slice.call(e.removedNodes)],(e=>Wn.INVALID_NODE_NAMES.includes(e.nodeName))))return Ds.debug("Invalid mutation - All nodes in child list contain one of "+Ie(Wn.INVALID_NODE_NAMES)),!1}return!0}static isUnchangedAttributeMutation(e){const{target:t,type:i,attributeName:s,oldValue:n}=e;if(t instanceof HTMLElement&&"attributes"===i&&s){const e=t.attributes.getNamedItem(s);if(null!==e&&e.value===n)return Ds.debug(`Invalid mutation - value for attribute "${s}" hasn't changed (value: "${n}")`),!0}return!1}static isStatusModuleNode(e){const t="intellimize____status-module-root";return e instanceof HTMLElement&&(e.id===t?(Ds.debug("Invalid mutation - Node is part of the status module"),!0):null!==e.parentNode&&Wn.isStatusModuleNode(e.parentNode))}static containsValidMutations(e){Ds.group("containsValidMutations()");const t=e.every((e=>(Ds.debug(`Mutation: ${Te(e)}`),!(Wn.isValidNodeNameMutation(e)&&!Wn.isUnchangedAttributeMutation(e)&&!Wn.isStatusModuleNode(e.target))||(Ds.debug("Found valid mutation"),!1))));return Ds.groupEnd(),!t}registerSelectorAndExecute(e,t,i,s){if(!Wn.selectorExists(e))throw new Error(`Selector "${e}" does not exist in the DOM`);const n=mn();this.mutationHandlers[n]={selector:e,callback:t,options:i,startTime:new Date,mutationCnt:0,missingElementCnt:0,entityIds:s},Ds.group(`registerSelectorAndExecute(${n})`),Ds.debug("Manually calling handleObservation()"),this.detachObserver(),this.handleObservation(n,!1),this.attachObserver(),Ds.groupEnd()}attachObserver(){Ds.debug("Attaching observer to document"),this.mutationObserver.observe(document.documentElement,Wn.observerOpts)}detachObserver(){Ds.debug("Detaching observer from document"),this.mutationObserver.disconnect()}reset(){Ds.debug("Resetting ElementObserver state"),this.mutationHandlers={},this.currentUrl=void 0,this.detachObserver()}processStore(){Ds.group("ReapplyElementObserver.processStore()"),Ds.debug(`mutationHandlers: ${Ie(this.mutationHandlers)}`),this.detachObserver(),Object.keys(this.mutationHandlers).forEach((e=>{this.handleObservation(e,!0)})),this.attachObserver(),Ds.groupEnd()}handleObservation(e,t){const i=this.mutationHandlers[e];if(Ds.group(`handleObservation(${e})`),t&&i.options.observationTimeMs&&Date.now()-i.startTime.getTime()>i.options.observationTimeMs)return 0===i.mutationCnt?void 0!==i.options.onTimeout&&(fs.error(`MutationHandler timed out for ${i.selector}. observationTimeMs (${i.options.observationTimeMs}) has passed.`,140,i.entityIds),i.options.onTimeout()):fs.warn(`Observation cancelled for ${i.selector}. observationTimeMs (${i.options.observationTimeMs}) has passed.`,141,i.entityIds),this.cancelObservation(e),void Ds.groupEnd();if(i.mutationCnt>=Wn.CALLBACK_MAX_COUNT)return Ds.debug(`Reached CALLBACK_MAX_COUNT (${Wn.CALLBACK_MAX_COUNT})`),this.cancelObservation(e),void Ds.groupEnd();if(void 0!==i.lastCallbackTime){const e=Date.now()-i.lastCallbackTime.getTime();if(e<Wn.CALLBACK_THROTTLE_MS)return Ds.debug(`Throttling callback (${Wn.CALLBACK_THROTTLE_MS}ms). Only (${e})ms have elapsed`),void Ds.groupEnd()}const s=document.querySelectorAll(i.selector);if(Ds.debug(`Found ${s.length} matching elements`),s.length>0){const n=t=>!Wn.isProcessed(t,e)||void 0!==i.options.shouldReapply&&i.options.shouldReapply(t);Array.prototype.forEach.call(s,(s=>{if(Ds.debug(`Processing element: ${xe(s)}`),!t||n(s)){Ds.debug("isProcessed: false");let n="Triggering callback for element";t&&(i.mutationCnt+=1,i.lastCallbackTime=new Date,n+=` (mutationCnt: ${i.mutationCnt})`),Ds.debug(n),i.callback(s),Wn.setIsProcessed(s,e),i.options.once&&this.cancelObservation(e)}else Ds.debug("isProcessed: true (skipping)")}))}else fs.warn(`Could not find any matching elements for ${i.selector}`,139,i.entityIds),i.missingElementCnt+=1,i.missingElementCnt>=Wn.MISSING_ELEMENT_MAX_COUNT&&(Ds.debug(`Reached MISSING_ELEMENT_MAX_COUNT (${Wn.MISSING_ELEMENT_MAX_COUNT})`),this.cancelObservation(e));Ds.groupEnd()}cancelObservation(e){delete this.mutationHandlers[e]}};let zn=Wn;__publicField(zn,"INVALID_NODE_NAMES",["HTML","SCRIPT","LINK","STYLE","HEAD","IFRAME","TITLE","META"]),__publicField(zn,"observerOpts",{subtree:!0,childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0});class jn{constructor(e){__publicField(this,"rawUrl"),__publicField(this,"urlObject"),this.rawUrl=N(e),this.urlObject=new URL(e)}getRawUrl(){return this.rawUrl}getOrigin(){return this.urlObject.origin}getQueryParam(e,t){let i=j.ofNullable(this.urlObject.searchParams.get(e));return i.isPresent()&&!t(i.get())&&(fs.error(`Validator failed for ${e}`,28),i=j.empty()),i}getAllQueryParamsUnsafe(){const e={};for(const[t,i]of this.urlObject.searchParams.entries())t.length>0&&i.length>0&&!Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=i);return e}}var Bn=(e=>(e[e.LN=0]="LN",e[e.EA=1]="EA",e[e.DT=2]="DT",e[e.EE=3]="EE",e[e.NT=4]="NT",e))(Bn||{}),Gn=(e=>(e[e.WD=0]="WD",e[e.WE=1]="WE",e))(Gn||{});const Hn=`${be}Domain`,Qn=`${be}Site`,qn=`${be}Page`,Kn=`${be}Collection`,Yn=`${be}ItemSlug`,Jn=`${be}Experiences`;class Xn{constructor(e,t){__publicField(this,"localWindow"),__publicField(this,"nativeFetch"),__publicField(this,"nativeSendBeacon"),__publicField(this,"timeZone"),__publicField(this,"date"),__publicField(this,"windowWidth"),__publicField(this,"windowHeight"),__publicField(this,"webflowPageMetadata"),__publicField(this,"pageviewId"),__publicField(this,"visibilityChangeName"),__publicField(this,"isHidden"),__publicField(this,"hostingPageUrl"),__publicField(this,"referrerUrl"),this.nativeFetch=e.fetch.bind(e),this.nativeSendBeacon=e.navigator.sendBeacon.bind(e.navigator),this.timeZone=t,this.localWindow=e,this.visibilityChangeName="visibilitychange",this.isHidden=()=>!1,this.reinitialize()}reinitialize(){fs.debug("Environment.reinitialize()"),this.hostingPageUrl=new jn(this.localWindow.location.href),this.referrerUrl=b(this.localWindow.document.referrer)?new jn(this.localWindow.document.referrer):void 0,void 0!==this.localWindow.document.hidden?(this.isHidden=()=>this.localWindow.document.hidden,this.visibilityChangeName="visibilitychange"):void 0!==this.localWindow.document.msHidden?(this.isHidden=()=>this.localWindow.document.msHidden,this.visibilityChangeName="msvisibilitychange"):void 0!==this.localWindow.document.webkitHidden&&(this.isHidden=()=>this.localWindow.document.webkitHidden,this.visibilityChangeName="webkitvisibilitychange"),this.windowWidth=this.localWindow.innerWidth,this.windowHeight=this.localWindow.innerHeight,this.date=this.getNowDate(),this.pageviewId=mn(),this.reinitializeWebflowPageMetadata()}getHostingPageUrl(){return this.hostingPageUrl}getReferrerUrl(){return j.ofNullable(this.referrerUrl)}hasHostingPageUrlChanged(){const e=new jn(this.localWindow.location.href);return this.hostingPageUrl.getRawUrl()!==e.getRawUrl()}getTimeZone(){return this.timeZone}getDayPart(){const e=this.getInitializeDate().getHours();let t;return t=e>=0&&e<7?0:e>=7&&e<10?1:e>=10&&e<17?2:e>=17&&e<20?3:4,Bn[t]}getWeekPart(){const e=this.getInitializeDate().getDay();return Gn[0===e||6===e?1:0]}getInitializeDate(){return new Date(this.date.getTime())}getInitializeUnixTime(){return Math.round(this.date.getTime()/q)}getNowDate(){return new Date}getNowUnixTime(){return Math.round(this.getNowUnixTimeMs()/q)}getNowUnixTimeMs(){return this.getNowDate().getTime()}getWidowWidth(){return j.ofNullable(this.windowWidth)}getWidowHeight(){return j.ofNullable(this.windowHeight)}getScreenOrientation(){return void 0!==this.windowHeight&&void 0!==this.windowWidth?this.windowWidth>this.windowHeight?j.of("landscape"):j.of("portrait"):j.empty()}getPageviewId(){return this.pageviewId}writeCookie(e){fs.debug("Environment.writeCookie("+e+")"),this.localWindow.document.cookie=e}readAllCookies(){return j.ofNullable(this.localWindow.document.cookie)}readCookie(e){const t=e+"=";let i=j.empty();return this.readAllCookies().ifPresent((e=>{const s=e.split(";");for(let n of s){for(;n.startsWith(" ");)n=n.slice(1);n.startsWith(t)&&(i=j.of(n.slice(t.length)))}})),i}writeLocalStorage(e,t){this.localWindow.localStorage.setItem(e,t)}readLocalStorage(e){return j.ofNullable(this.localWindow.localStorage.getItem(e))}deleteLocalStorage(e){this.localWindow.localStorage.removeItem(e)}writeSessionStorage(e,t){this.localWindow.sessionStorage.setItem(e,t)}readSessionStorage(e){return j.ofNullable(this.localWindow.sessionStorage.getItem(e))}deleteSessionStorage(e){this.localWindow.sessionStorage.removeItem(e)}readLocalStorageMatching(e){const t={};return Object.keys(this.localWindow.localStorage).forEach((i=>{e.test(i)&&(t[i]=this.readLocalStorage(i).get())})),t}getWindow(){return this.localWindow}getNowVisibilityState(){return"document"in this.localWindow&&"visibilityState"in this.localWindow.document?j.ofNullable(this.localWindow.document.visibilityState):j.empty()}isNowDocumentHidden(){return"document"in this.localWindow?j.ofNullable(this.isHidden()):j.empty()}addListener(e,t){this.localWindow.addEventListener(e,t)}addListenerVisibilityChange(e){this.localWindow.document.addEventListener(this.visibilityChangeName,e,{once:!0,capture:!1})}addUnloadHandler(e){this.localWindow.addEventListener("beforeunload",e,!1)}redirect(e){this.localWindow.document.location.replace(e)}generateActionId(){return this.getNowUnixTime()+"-"+bn()}injectScript(e,t=!1){const i=this.localWindow.document.createElement("script");i.async=t,i.src=e;const s=this.localWindow.document.querySelectorAll("script")[0];s.parentNode.insertBefore(i,s)}sendBeacon(e,t){return this.nativeSendBeacon(e,t)}fetch(e,t){return __async(this,arguments,(function*(e,t,i={}){const s=ds(e,t);return this.nativeFetch(s,i).then((e=>{if(!e.ok)throw new Zn(s,e.status);if(204!==e.status)return e.json()}))}))}legacySynchronousXhr(e,t){return __async(this,arguments,(function*(e,t,i={}){return new Promise(((s,n)=>{var r;const o=ds(e,t),a=new XMLHttpRequest;a.open(null!=(r=i.method)?r:"GET",o,!1),a.addEventListener("load",(()=>{a.status>=200&&a.status<=299?s():n(new Zn(o,a.status))})),a.addEventListener("error",(()=>{n(new Zn(o,a.status))})),a.send(i.body)}))}))}getWebflowPageMetadata(){return this.webflowPageMetadata}reinitializeWebflowPageMetadata(){var e;const t=this.localWindow.document.documentElement.dataset[Hn],i=this.localWindow.document.documentElement.dataset[Qn],s=this.localWindow.document.documentElement.dataset[qn],n=this.localWindow.document.documentElement.dataset[Kn],r=this.localWindow.document.documentElement.dataset[Yn],o=(null!=(e=this.localWindow.document.documentElement.dataset[Jn])?e:"").split(",");this.webflowPageMetadata={domain:t,pageId:s,siteId:i,collectionId:n,itemSlug:r,experienceIds:o}}}class Zn extends Error{constructor(e,t){super(`(${t}) ${e.toString()}`),this.name="JsonFetchError"}}const er=()=>{const e={};return{getExtension:t=>j.ofNullable(e[t]),registerExtension(t){e[t.getName()]=t}}};class tr{constructor(e,t,i,s){__publicField(this,"iEvent"),__publicField(this,"actionId"),__publicField(this,"eventInstanceId"),__publicField(this,"eventValue"),__publicField(this,"nativeClickEvent"),this.iEvent=e,this.actionId=t,this.eventInstanceId=`${e.getId()}:${t}`,this.eventValue=i,this.nativeClickEvent=s}getEvent(){return this.iEvent}getEventId(){return this.iEvent.getId()}getActionId(){return this.actionId}getEventInstanceId(){return this.eventInstanceId}getEventValue(){return j.ofNullable(this.eventValue)}getNativeMouseEvent(){return j.ofNullable(this.nativeClickEvent)}toString(){return`ConversionEventContext(${this.getEventId()}, ${this.getEventInstanceId()})`}}function ir(e){return e.getIntegrationDemandbase().map((e=>e.isEnabled())).orElse(!1)}function sr(e){return e.getIntegrationFirmographic().map((e=>e.isEnabled())).orElse(!1)}const nr=["marketo","salesforce","firmographic","6sense","googleAds","demandbase","hubspot"],rr=(e,t)=>`i${e}${t}`,or={adGroup:rr("ga","ag"),campaign:rr("ga","cm"),network:rr("ga","nt"),adType:rr("ga","at"),keyword:rr("ga","kw"),creative:rr("ga","cr"),matchType:rr("ga","mt")};function ar(e){return e.getIntegrationGoogleAds().map((e=>e.isEnabled())).orElse(!1)}function lr(e,t,i){if(!cs(e,i).orElse(!1)){const i=cr(e);t.setDataAndMetadata("googleAds",i,void 0)}}function cr(e){const t={};return Object.entries(or).forEach((([i,s])=>{e.getHostingPageUrl().getQueryParam(s,b).ifPresent((e=>{t[i]=e}))})),t}function ur(e){return e.getIntegrationHubspot().map((e=>e.isEnabled())).orElse(!1)}function dr(e){return e.readCookie(ve)}function hr(e){return"hsFormCallback"===e.data.type&&"onFormSubmitted"===e.data.eventName}function gr(e){return e.getIntegrationMarketo().map((e=>e.isEnabled())).orElse(!1)}function pr(e){return e.readCookie(me)}function mr(e){var t,i;return void 0!==(null==(t=null==e?void 0:e.lead)?void 0:t.fields)||void 0!==(null==(i=null==e?void 0:e.lead)?void 0:i.lists)}function vr(e){var t,i;return void 0===(null==(t=null==e?void 0:e.lead)?void 0:t.fields)&&void 0===(null==(i=null==e?void 0:e.lead)?void 0:i.lists)}function br(e){if(void 0===e)return j.empty();if(mr(e))return j.of(e);if(vr(e)){const t=e,{smartLists:i,staticLists:s}=t,n=__objRest(t,["smartLists","staticLists"]),r=(null!=i?i:[]).map((e=>({type:"smart",id:Number(e)}))),o=(null!=s?s:[]).map((e=>({type:"static",id:Number(e)})));return j.of({lead:{fields:n,lists:[...r,...o]}})}return j.empty()}const fr=rr("sf","lh"),Er=rr("sf","ch");function _r(e){return e.getIntegrationSalesforce().map((e=>e.isEnabled())).orElse(!1)}function yr(e){const t=e.getHostingPageUrl().getQueryParam(fr,b),i=e.getHostingPageUrl().getQueryParam(Er,b);if(t.isPresent()||i.isPresent()){const e={};return t.ifPresent((t=>{e.leadIdHash=t})),i.ifPresent((t=>{e.contactIdHash=t})),j.of(e)}return j.empty()}function Sr(e){return e.getIntegrationSixsense().map((e=>e.isEnabled())).orElse(!1)}const Ir={"6sense":e=>Sr(e),demandbase:e=>ir(e),firmographic:e=>sr(e),googleAds:e=>ar(e),marketo:e=>gr(e),salesforce:e=>_r(e),hubspot:e=>ur(e)};var wr=(e=>(e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TRY_LATER=1]="TRY_LATER",e[e.WAITING=2]="WAITING",e[e.SUCCEEDED=3]="SUCCEEDED",e[e.FAILED=4]="FAILED",e[e.CANCELED=5]="CANCELED",e))(wr||{});const Cr=new Set([0,1,2]),Tr=class{constructor(){__publicField(this,"manager"),__publicField(this,"id"),__publicField(this,"doneFunctions",[]),__publicField(this,"currentStatus",0),this.id=++Tr.lastId}static isDone(e){return!Cr.has(e)}getId(){return this.id}setManager(e){this.manager=e}cancel(){this.currentStatus=5,this.cleanup()}cleanup(){}runWrapper(){fs.group(this.toString()+".run()");const e=this.currentStatus;try{this.currentStatus=this.run()}catch(i){const e=new bt("Task exception",i);fs.error(e,179,this.getEntityIds()),this.currentStatus=4}const t=this.currentStatus;return!Tr.isDone(e)&&Tr.isDone(t)&&this.executeDoneFunctions(),fs.groupEnd(),this.currentStatus}onDone(e){this.isDone()?ks.executeFunction(e,153):this.doneFunctions.push(e)}getStatus(){return this.currentStatus}isDone(){return!Cr.has(this.currentStatus)}getNotDoneDependencies(){return[]}isBlocked(){if(2===this.currentStatus)return!0;return this.getNotDoneDependencies().filter((e=>e.isBlocked())).length>0}toString(){return`Task(${this.id})`}getEntityIds(){return{}}setStatusTryLater(){this.currentStatus=1}executeDoneFunctions(){for(let e=this.doneFunctions.shift();void 0!==e;e=this.doneFunctions.shift())ks.executeFunction(e,154)}};let xr=Tr;__publicField(xr,"lastId",0);class Ar extends xr{constructor(e,t,i){super(),__publicField(this,"conversionEventContext"),__publicField(this,"browserEventLogger"),__publicField(this,"customerStorage"),__publicField(this,"trackBrowserEvents",{}),__publicField(this,"hasSentGoals",!1),this.conversionEventContext=N(e),this.browserEventLogger=N(t),this.customerStorage=N(i)}toString(){return"GoalTask("+this.conversionEventContext.toString()+")"}getEntityIds(){return{eventId:this.conversionEventContext.getEventId()}}inTransaction(){return!0}isUnloading(){return!1}run(){this.hasSentGoals||this.sendGoalsOnce();if(Object.keys(this.trackBrowserEvents).map((e=>this.trackBrowserEvents[e])).some((e=>void 0===e||!xr.isDone(e))))return fs.debug("Waiting for goal event delivery confirmation"),wr.TRY_LATER;return Object.keys(this.trackBrowserEvents).map((e=>this.trackBrowserEvents[e])).every((e=>void 0!==e&&e===wr.SUCCEEDED))?wr.SUCCEEDED:wr.FAILED}sendGoalsOnce(){fs.debug("sendGoalsOnce()"),this.hasSentGoals=!0;const e="click"!==this.conversionEventContext.getEvent().getType();let t=0;this.conversionEventContext.getEvent().getMetrics().forEach((i=>{i.getCampaign().ifPresent((s=>{s.getExperiences().forEach((s=>{this.customerStorage.getVariation(s).ifPresent((n=>{const r=i.getId()+":"+n.getId();this.trackBrowserEvents[r]=wr.TRY_LATER,fs.info(`Sending goal ${i.getId()} event`),t++,this.browserEventLogger.sendGoal(n,i,this.conversionEventContext,e).then((()=>{fs.info(`Goal ${i.getId()} event delivery success`),this.trackBrowserEvents[r]=wr.SUCCEEDED})).catch((e=>{const t=new bt(`Goal ${i.getId()} event delivery failed`,e);fs.error(t,78,{eventId:this.conversionEventContext.getEventId(),experienceId:s.getId(),variationId:n.getId()}),this.trackBrowserEvents[r]=wr.FAILED}))}))}))}))})),fs.debug(`Sent ${t} goal events`)}}class Fr extends xr{constructor(e,t,i,s,n){super(),__publicField(this,"conversionEventContext"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"customerStorage"),__publicField(this,"statusModel"),__publicField(this,"conversionSent",!1),__publicField(this,"conversionStatus",wr.NOT_STARTED),__publicField(this,"goalTask"),this.conversionEventContext=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.customerStorage=N(s),this.statusModel=N(n)}toString(){return`ConversionEventTask(${this.conversionEventContext.toString()})`}getEntityIds(){return{eventId:this.conversionEventContext.getEventId()}}inTransaction(){return!this.conversionSent}isUnloading(){return!1}run(){return this.sendOnce(),this.scheduleGoalTaskOnce(),xr.isDone(this.conversionStatus)?!this.customer.hasClassicAccess()||void 0!==this.goalTask&&xr.isDone(this.goalTask.getStatus())?this.conversionStatus===wr.SUCCEEDED?wr.SUCCEEDED:wr.FAILED:(fs.debug("Waiting for goal task event confirmation"),wr.TRY_LATER):(fs.debug("Waiting for conversion event delivery confirmation"),wr.TRY_LATER)}sendOnce(){if(!this.conversionSent){fs.info(`Sending conversion event ${this.conversionEventContext.toString()}`);const e=this.conversionEventContext.getEvent(),t=[],i=e.getMetrics().map((i=>{const s=bn();return t.push({metric:i,modelEventId:s}),{metric:i,event:e,status:wr.WAITING,id:s}}));this.statusModel.setMetricEventData(i),this.browserEventLogger.sendConversion(this.conversionEventContext).then((()=>{fs.info(`Conversion event ${this.conversionEventContext.toString()} delivery success`),this.conversionStatus=wr.SUCCEEDED,this.statusModel.setMetricEventData(t.map((({modelEventId:t,metric:i})=>({metric:i,event:e,status:wr.SUCCEEDED,id:t}))))})).catch((i=>{const s=new bt(`Conversion event ${this.conversionEventContext.toString()} delivery failed`,i);fs.warn(s,76,{eventId:this.conversionEventContext.getEventId()}),this.conversionStatus=wr.FAILED,this.statusModel.setMetricEventData(t.map((({modelEventId:t,metric:i})=>({metric:i,event:e,status:wr.FAILED,id:t}))))})),this.conversionSent=!0}}scheduleGoalTaskOnce(){this.customer.hasClassicAccess()&&void 0===this.goalTask&&(this.goalTask=new Ar(this.conversionEventContext,this.browserEventLogger,this.customerStorage),this.manager.addTask(this.goalTask))}}class kr extends xr{constructor(e,t,i,s,n,r){super(),__publicField(this,"sent",!1),__publicField(this,"deliveryStatus",wr.NOT_STARTED),__publicField(this,"environment"),__publicField(this,"customer"),__publicField(this,"userDomain1"),__publicField(this,"userId1"),__publicField(this,"userDomain2"),__publicField(this,"userId2"),this.environment=e,this.customer=t,this.userDomain1=i,this.userId1=s,this.userDomain2=n,this.userId2=r}static get ENDPOINT(){return"/user-alias"}toString(){return`UserAliasTask(userDomain1: ${this.userDomain1}, userId1: ${this.userId1}, userDomain2: ${this.userDomain2}, userId2: ${this.userId2})`}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.deliveryStatus===wr.SUCCEEDED?wr.SUCCEEDED:this.deliveryStatus===wr.FAILED?wr.FAILED:(fs.debug("Waiting for user alias delivery confirmation"),wr.TRY_LATER)}sendOnce(){this.sent||(fs.info(`Sending request to set up user alias for userDomain1: ${this.userDomain1}, userId1: ${this.userId1}, userDomain2: ${this.userDomain2}, userId2: ${this.userId2}`),this.environment.fetch(se,kr.ENDPOINT,{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:we({customerId:this.customer.getId(),userDomain1:this.userDomain1,userId1:this.userId1,userDomain2:this.userDomain2,userId2:this.userId2})}).then((()=>{this.deliveryStatus=wr.SUCCEEDED,fs.info(`Successfully set up user alias for userDomain1: ${this.userDomain1}, userId1: ${this.userId1}, userDomain2: ${this.userDomain2}, userId2: ${this.userId2}`)})).catch((e=>{const t=vt(e);fs.error(t,92),this.deliveryStatus=wr.FAILED})),this.sent=!0)}}function Pr(e){if("string"==typeof e){const t=e.search(/[.\-\d]/g);if(-1===t)return!1;const i=e.slice(Math.max(0,t));if(!/^-?\d*\.?\d{0,2}$/.test(i))return!1}else{if("number"!=typeof e)return!1;{const t=String(e);if(!/^-?\d*\.?\d{0,2}$/.test(t))return!1}}return!0}function Mr(e){return"string"==typeof e&&/^[\u0021-\u007E]{1,300}$/.test(e)}function Dr(e){return Ls(e)&&("number"==typeof e.amount||"string"==typeof e.amount)&&"string"==typeof e.currencyCode}function Nr(e,t,i,s,n,r,o,a,l,c,u){Rr(e,t).ifPresent((({eventName:d,eventActionId:h,eventValue:g})=>{var p;if(i.getShopifyEvent(d).ifPresent((d=>{const p=new tr(d,h,g,void 0);try{o.add(eo.buildShopifyActivity(e,t,p,i,s,a,r,n))}catch(v){const e=new bt("Failed to build Shopify Activity",v);fs.error(e,234)}const m=new Fr(p,u,i,n,l);c.addTask(m)})).ifAbsent((()=>{fs.error(`Shopify pixel event not configured for customer: "${e.name}"`,252)})),"checkout_completed"===d){const t=null==(p=e.data.checkout.order)?void 0:p.id;void 0===t?fs.error("Received a checkout_completed event without an order id",250):i.getShopifyServerSideEvent().ifPresent((()=>{const e=new kr(s,i,"__shopifyOrder",t,"intellimize",a.getId());c.addTask(e)})).ifAbsent((()=>{fs.error("Shopify server-side event not configured for customer",253)}))}}))}function Or(e,t,i){let s;switch(e.name){case"collection_viewed":{const t=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"collection_viewed",data:jr(t.data.collection)});break}case"product_viewed":{const n=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"product_viewed",data:zr(n.data.productVariant,$r("product_viewed"),t)});break}case"checkout_started":{const n=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"checkout_started",data:Br(n.data.checkout,$r("checkout_started"),t)});break}case"checkout_completed":{const n=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"checkout_completed",data:Br(n.data.checkout,$r("checkout_completed"),t)});break}case"product_added_to_cart":{const n=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"product_added_to_cart",data:Gr(n.data.cartLine,$r("product_added_to_cart"),t)});break}case"search_submitted":{const t=e;s=__spreadProps(__spreadValues({},i),{eventType:"s",customerEventName:"search_submitted",data:Hr(t.data.searchResult)});break}default:throw new Error(`Unsupported customer event: ${e.name}`)}return fs.debug(`Shopify activity (${e.name}): ${Ie(s.data)}`),s}function Rr(e,t){var i,s;let n;if(!Ls(e))return Wr("Not an object"),j.empty();if(!b(e.name))return Wr(`Event name is not a valid event name: "${e.name}"`),j.empty();if(!Lr(e.name))return j.empty();if(!Mr(e.id))return Wr(`Event ID is not a valid action id: "${e.id}"`),j.empty();if(!f(e.data)){if(!Ls(e.data))return Wr(`Event data is defined, and is not an object: "${Ie(e.data)}"`),j.empty();Vr(e.name,e.data,t).ifPresent((e=>{n=e}))}let r=e.id;if("checkout_completed"===e.name){const t=e;(null==(s=null==(i=t.data)?void 0:i.checkout)?void 0:s.order)?r=t.data.checkout.order.id:fs.error("Received a checkout_completed event without an order id",249)}return j.of({eventName:e.name,eventActionId:r,eventValue:n})}function Lr(e){return tt.includes(e)}function $r(e){switch(e){case"product_viewed":return"productVariant.price.amount";case"product_added_to_cart":return"cartLine.merchandise.price.amount";case"checkout_started":case"checkout_completed":return"checkout.subtotalPrice.amount";default:throw new Error(`Cannot get event value path for ${e}`)}}function Vr(e,t,i){let s,n;function r(e){return Ls(e)?!!Dr(e.subtotalPrice)||(Wr(`Checkout data exists, but subtotal price is not valid: "${Ie(e.subtotalPrice)}"`),!1):(Wr("Checkout data is not an object"),!1)}switch(e){case"checkout_started":if(!r(t.checkout))return j.empty();s=t.checkout.subtotalPrice.amount,n=$r("checkout_started");break;case"checkout_completed":if(!r(t.checkout))return j.empty();s=t.checkout.subtotalPrice.amount,n=$r("checkout_completed");break;case"product_added_to_cart":if(!Ls(t.cartLine))return Wr("CartLine data is not an object"),j.empty();if(!Ls(t.cartLine.merchandise))return Wr("CartLine data exists, but does not include a product variant"),j.empty();if(!Dr(t.cartLine.merchandise.price))return Wr(`CartLine ProductVariant data exists, but price is not valid: "${Ie(t.cartLine.merchandise.price)}"`),j.empty();s=t.cartLine.merchandise.price.amount,n=$r("product_added_to_cart");break;case"product_viewed":if(!Ls(t.productVariant))return Wr("ProductVariant data is not an object"),j.empty();if(!Dr(t.productVariant.price))return Wr(`ProductVariant data exists, but price is not valid: "${Ie(t.productVariant.price)}"`),j.empty();s=t.productVariant.price.amount,n=$r("product_viewed");break;default:return j.empty()}const o=Ur(s,n,i);return Pr(o)?j.of(o):(Wr(`Event value is not valid: "${s}"`),j.empty())}function Ur(e,t,i){let s=Number(e)/i;return/^-?\d*\.\d{3,}$/.test(String(s))&&(fs.debug(`Found currency with > 2 decimal places: "${t}" = "${s}"`),s=Math.round(100*(Number(s)+Number.EPSILON))/100),s}function Wr(e){fs.error(`Invalid Shopify Pixel Event: ${e}`,233)}function zr(e,t,i){var s,n;return{productVariantPriceAdjusted:Ur(e.price.amount,t,i),productVariantPrice:e.price.amount,productVariantPriceCode:e.price.currencyCode,productVariantSku:null!=(s=e.sku)?s:void 0,productVariantId:e.id,productVariantTitle:e.title,productId:e.product.id,productTitle:e.product.title,productType:null!=(n=e.product.type)?n:void 0}}function jr(e){return{collectionId:e.id}}function Br(e,t,i){const s=[],n=[];return e.lineItems.forEach((({variant:e})=>{null!==e&&(s.push(e.id),n.push(e.product.id))})),{checkoutSubtotalAdjusted:Ur(e.subtotalPrice.amount,t,i),checkoutSubtotal:e.subtotalPrice.amount,checkoutSubtotalCode:e.subtotalPrice.currencyCode,productVariantIds:s,productIds:n}}function Gr(e,t,i){return __spreadValues({cartTotalAdjusted:Ur(e.cost.totalAmount.amount,t,i),cartTotal:e.cost.totalAmount.amount,cartTotalCode:e.cost.totalAmount.currencyCode},zr(e.merchandise,t,i))}function Hr(e){return{searchQuery:e.query}}function Qr(){return{"data.productVariantPriceAdjusted":"spvpa","data.productVariantPrice":"spvp","data.productVariantPriceCode":"spvpc","data.productVariantSku":"spvsku","data.productVariantId":"spvid","data.productVariantTitle":"spvt","data.productId":"spid","data.productTitle":"spt","data.productType":"spty","data.collectionId":"scid","data.checkoutSubtotalAdjusted":"scosta","data.checkoutSubtotal":"scost","data.checkoutSubtotalCode":"scostc","data.productVariantIds":"spvids","data.productIds":"spids","data.cartTotalAdjusted":"scata","data.cartTotal":"scat","data.cartTotalCode":"scatc","data.searchQuery":"ssq"}}function qr(){return[ae,re,le,ne,oe,de,ce,he,ue,pe]}function Kr(e){return qr().map((t=>`${t}${e.getId()}`))}function Yr(e){return qr().some((t=>e.startsWith(t)))}function Jr(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"QUOTA_EXCEEDED_ERROR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)}function Xr(e,t){let i=!1;try{const s=e.getWindow();if(t in s){const e="_test_",n="_test_val_";s[t].setItem(e,n);const r=s[t].getItem(e);s[t].removeItem(e),null!==r&&r===n&&(i=!0)}}catch(s){}return i}const Zr=class{constructor(e,t,i,s){__publicField(this,"storageKey"),__publicField(this,"browserStorage"),__publicField(this,"environment"),__publicField(this,"override"),this.storageKey=ue+e.getId(),this.browserStorage=t,this.environment=i,this.override=s}static buildPageviewActivity(e,t,i,s,n){return __spreadValues({eventType:"pv"},Zr.setCommonActivityFields(e,t,i,s,n))}static buildViewActivity(e,t,i,s,n){const r=e.getExperience(),o=r.getCampaign(),a=o.getCustomer();return __spreadValues({eventType:"v",campaignId:o.getId(),experienceId:r.getId(),variationId:e.getId()},Zr.setCommonActivityFields(a,t,i,s,n))}static buildConversionActivity(e,t,i,s,n,r){const o=__spreadValues({eventType:"c",actionId:e.getActionId(),eventId:e.getEventId(),eventInstanceId:e.getEventInstanceId()},Zr.setCommonActivityFields(t,i,s,n,r));return e.getEventValue().ifPresent((e=>{o.eventValue=Zr.transformEventValue(e)})),o}static buildShopifyActivity(e,t,i,s,n,r,o,a){return Or(e,t,Zr.buildConversionActivity(i,s,n,r,o,a))}static setCommonActivityFields(e,t,i,s,n){const r={userVisitStatus:n.getUserVisitStatus(i),userBucket:i.getUserBucket(),pageviewId:t.getPageviewId(),sessionId:n.updateAndGetSessionId(),time:t.getNowUnixTimeMs(),timeZone:t.getTimeZone()};n.getCustomerControlStatus(e).ifPresent((e=>{r.controlStatus=e})),t.getReferrerUrl().ifPresent((e=>{r.referrerUrl=e.getRawUrl()})),r.hostingPageUrl=t.getHostingPageUrl().getRawUrl();const o=s.getFlattenedInternalAttributes();Object.keys(o).length>0&&(r.trafficSource=o.ts,r.utmTerm=o.utt,r.utmMedium=o.utm,r.utmSource=o.uts,r.utmContent=o.utcn,r.utmCampaign=o.utcm);const a=s.getFlattenedCustomAttributes();Object.keys(a).length>0&&(r.customAttributes=a);const l=t.getWebflowPageMetadata();return void 0!==l.domain&&(r.webflowDomain=l.domain),void 0!==l.siteId&&(r.webflowSiteId=l.siteId),void 0!==l.pageId&&(r.webflowPageId=l.pageId),void 0!==l.collectionId&&(r.webflowCollectionId=l.collectionId),void 0!==l.itemSlug&&(r.webflowItemSlug=l.itemSlug),r}static transformEventValue(e){if("string"==typeof e)return Number.parseFloat(e)}add(e){if(this.override.saveActivity().orElse(!0)){const t=this.compressActivity(e),i=this.getAllCompressed();i.push(t),this.save(i)}}getAll(){return this.getAllCompressed().map((e=>this.decompressActivity(e)))}backoffAndSave(e){e.shift(),this.save(e)}save(e){const t=we(e);if(t.length>Zr.CHARACTER_LIMIT&&e.length>0)this.backoffAndSave(e);else try{this.browserStorage.write(this.storageKey,t)}catch(i){if(!(Jr(i)&&e.length>0))throw i;fs.warn("localStorage quota exceeded. Removing old activity",220),this.backoffAndSave(e)}}getAllCompressed(){let e=[];try{e=this.browserStorage.read(this.storageKey).map((e=>{const t=Ce(e);if(!Array.isArray(t))throw new TypeError("Expected an array");return t})).orElse([])}catch(i){e=[];const t=new bt("Could not read Activities from localStorage",i);fs.error(t,221)}const t=this.environment.getNowUnixTimeMs()-Zr.TIME_LIMIT_MS;return e.filter((e=>e.t>=t))}compressActivity(e){const t={};for(const[i,s]of Object.entries(e))if("data"===i&&m(s))for(const[e,n]of Object.entries(s)){const i=`data.${e}`;void 0===Zr.KEY_MAP[i]?(fs.error(`Unknown key ${i} in Activity`,222),t[i]=n):t[Zr.KEY_MAP[i]]=n}else void 0===Zr.KEY_MAP[i]?(fs.error(`Unknown key ${i} in Activity`,222),t[i]=s):t[Zr.KEY_MAP[i]]=s;return t}decompressActivity(e){const t={};for(const[i,s]of Object.entries(e))if(void 0===Zr.REVERSE_KEY_MAP[i])fs.error(`Unknown key ${i} in CompressedActivity`,223),t[i]=s;else if(Zr.REVERSE_KEY_MAP[i].startsWith("data.")){const e=Zr.REVERSE_KEY_MAP[i].split(".");2===e.length&&(void 0===t.data&&(t.data={}),t.data[e[1]]=s)}else t[Zr.REVERSE_KEY_MAP[i]]=s;return t}};let eo=Zr;__publicField(eo,"TIME_LIMIT_MS",15552e6),__publicField(eo,"CHARACTER_LIMIT",1048576),__publicField(eo,"KEY_MAP",__spreadValues({eventType:"et",customerEventName:"en",campaignId:"cmid",experienceId:"eid",variationId:"vid",actionId:"acid",eventId:"evid",eventInstanceId:"eii",eventValue:"ev",userVisitStatus:"uvs",userBucket:"ub",pageviewId:"pvid",sessionId:"sid",controlStatus:"cs",referrerUrl:"rurl",hostingPageUrl:"hpurl",time:"t",timeZone:"tz",trafficSource:"ts",utmTerm:"utt",utmMedium:"utm",utmSource:"uts",utmContent:"utcn",utmCampaign:"utcm",customAttributes:"ca",webflowDomain:"wfd",webflowSiteId:"wfsid",webflowPageId:"wfpid",webflowCollectionId:"wfcid",webflowItemSlug:"wfis"},Qr())),__publicField(eo,"REVERSE_KEY_MAP",js(Zr.KEY_MAP));class to extends xr{constructor(e){super(),__publicField(this,"callbacks",[]),this.callbacks=e}toString(){return"ActivateTask()"}inTransaction(){return!1}isUnloading(){return!0}addCallback(e){this.callbacks.push(e)}run(){return this.manager.getClient().reRun(this.callbacks),wr.SUCCEEDED}}class io extends xr{constructor(e,t,i){super(),__publicField(this,"environment"),__publicField(this,"callbacks",[]),__publicField(this,"startTimeMs"),this.environment=e,this.callbacks=i,this.resetExpiration(),t.requestAnimationFrame().orElse(!0)&&this.environment.getWindow().requestAnimationFrame((()=>{this.handleRaf()})),this.environment.getWindow().requestAnimationFrame((()=>{this.handleRaf()}))}handleRaf(){this.manager&&this.manager.runNow(),xr.isDone(this.getStatus())||this.environment.getWindow().requestAnimationFrame((()=>{this.handleRaf()}))}toString(){return"RequestActivateTask()"}inTransaction(){return!1}isUnloading(){return!1}resetExpiration(){fs.debug("RequestActivateTask.resetExpiration()"),this.startTimeMs=this.environment.getNowUnixTimeMs()}addCallback(e){this.callbacks.push(e)}run(){if(!this.environment.hasHostingPageUrlChanged())return fs.debug("URL has not changed yet"),this.hasExceededTimeBudget()?(fs.info(`activate() timeout due to URL not changing after ${Z}ms`),wr.SUCCEEDED):wr.TRY_LATER;if(0===this.manager.findTasks((e=>e instanceof to&&!e.isDone())).length){const e=new to(this.callbacks);this.manager.addTask(e)}else fs.debug("Not scheduling new ActivateTask since one is already running");return wr.SUCCEEDED}hasExceededTimeBudget(){const e=this.environment.getNowUnixTimeMs(),t=e-this.startTimeMs,i=t>Z;return fs.debug("hasExceededTimeBudget: "+e+" - "+this.startTimeMs+" ("+t+") > "+Z+"? => "+i),i}}class so extends xr{constructor(e,t,i,s){super(),__publicField(this,"elementObserver"),__publicField(this,"entityIds"),__publicField(this,"workQueue",[]),__publicField(this,"readyToRender"),__publicField(this,"isTaskDone",!1),this.elementObserver=s,this.readyToRender=t,this.entityIds=i,this.workQueue=e.map((e=>({enhancedChange:e,applied:!1,rendered:!1})))}toString(){return`ChangelistTask(count:${this.workQueue.length}, ${Ie(this.entityIds)})`}cleanup(){this.isTaskDone=!0,this.readyToRenderCallbackIfDone()}inTransaction(){return!0}isUnloading(){return!1}getEntityIds(){return this.entityIds}run(){for(const t of this.workQueue)if(!t.applied)try{if(!t.enhancedChange.isReadyToApply())return wr.TRY_LATER;t.enhancedChange.apply((()=>{t.rendered=!0,this.readyToRenderCallbackIfDone()}),this.elementObserver),t.applied=!0}catch(e){const i=new bt(`Failed to apply change: ${Ie(t.enhancedChange.getEntityIds())}`,e);return fs.error(i,125,t.enhancedChange.getEntityIds()),this.isTaskDone=!0,this.readyToRenderCallbackIfDone(),wr.FAILED}return this.isTaskDone=!0,this.readyToRenderCallbackIfDone(),wr.SUCCEEDED}readyToRenderCallbackIfDone(){if(!this.isTaskDone)return;this.workQueue.filter((e=>e.applied)).every((e=>__async(this,null,(function*(){return e.rendered}))))&&this.readyToRender()}}class no extends xr{constructor(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p,m,v,b){super(),__publicField(this,"variation"),__publicField(this,"environment"),__publicField(this,"browserStorage"),__publicField(this,"extensionManager"),__publicField(this,"browserEventLogger"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"pageContext"),__publicField(this,"attributeData"),__publicField(this,"user"),__publicField(this,"decisionContext"),__publicField(this,"startPageviewId"),__publicField(this,"override"),__publicField(this,"statusModel"),__publicField(this,"getVariationRecordedCallbackTuples"),__publicField(this,"elementObserver"),__publicField(this,"hider"),this.environment=N(e),this.browserStorage=N(t),this.extensionManager=N(i),this.browserEventLogger=N(s),this.customerStorage=N(n),this.attributeStorage=N(r),this.activityStorage=N(o),this.pageContext=N(a),this.attributeData=N(l),this.decisionContext=N(c),this.user=N(u),this.override=N(d),this.statusModel=N(h),this.startPageviewId=N(g),this.hider=N(p),this.variation=N(m),this.getVariationRecordedCallbackTuples=N(v),this.elementObserver=N(b)}toString(){return`ExecuteVariationTask(${this.variation.getId()})`}getEntityIds(){return{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}}inTransaction(){return this.isReadyToExecute()}isUnloading(){return!1}getNotDoneDependencies(){return this.findDependentPageChangelistTasks().filter((e=>!e.isDone()))}run(){let e=wr.TRY_LATER;return this.isReadyToExecute()&&(e=this.executeVariation()),e}injectVariationCss(e){if(e.getCss().isPresent()){const i=e.getCss().get();try{fs.info(`Variation ${e.getExperience().getId()}/${e.getId()} injecting css`),ks.injectCss(i,`variation-${e.getId()}`,this.environment.getWindow().document)}catch(t){const i=new bt(`Variation (${e.getId()}) css injection failed`,t);return fs.error(i,91,{variationId:e.getId(),experienceId:e.getExperience().getId()}),!1}}return!0}onReadyToRender(){this.hider.revealExperience(this.variation.getExperience(),this.browserStorage,this.attributeData)}isReadyToExecute(){const e=this.passDependencies(),t=this.passExperiencePreconditions(),i=this.passVariationPreconditions(),s=this.hasAppliedPageChanges();return e&&t&&i&&s}passDependencies(){const e=this.variation.getExperience();fs.group("check experience dependsOnExperiences "+e.getId());const t=e.getDependsOnExperiences().every((e=>!this.decisionContext.isDecidingExperience(e)));return fs.debug(t.toString()),fs.groupEnd(),this.statusModel.setExperience(e,"dependsOnExperiences",t),t}passExperiencePreconditions(){const e=this.variation.getExperience();fs.group("check experience preconditions "+e.getId());const t=e.getPreconditions().every((t=>{let i=!1;try{i=ks.evalBoolean(t),fs.info(`Experience ${e.getId()} precondition => ${i}`)}catch(s){const t=new bt(`Experience (${e.getId()}) precondition code execution failed`,s);i=!1,fs.error(t,15,{experienceId:e.getId()})}return i}));return fs.debug(t.toString()),fs.groupEnd(),this.statusModel.setExperience(e,"preconditions",t),t}passVariationPreconditions(){const e=this.variation.getExperience();fs.group("check variations preconditions "+this.variation.getId());const t=this.variation.getPreconditions().every((t=>{let i=!1;try{i=ks.evalBoolean(t),fs.info(`Variation ${e.getId()}/${this.variation.getId()} precondition => ${i}`)}catch(s){const t=new bt(`Variation (${this.variation.getId()}) precondition code execution failed`,s);i=!1,fs.error(t,16,{experienceId:e.getId(),variationId:this.variation.getId()})}return i}));return fs.debug(t.toString()),fs.groupEnd(),this.statusModel.setVariation(this.variation,"preconditions",t),t}hasAppliedPageChanges(){return this.findDependentPageChangelistTasks().every((e=>e.isDone()))}findDependentPageChangelistTasks(){return this.variation.getExperience().getPages().map((e=>this.pageContext.getPageChangelistTask(e))).filter((e=>e.isPresent())).map((e=>e.get()))}}const ro=/^G-[\dA-Z]+$/,oo=e=>"string"==typeof e&&ro.test(e),ao=e=>{const t=[],i=e=>{oo(e)&&!t.includes(e)&&(fs.debug(`Found GA4 Measurement ID: ${e}`),t.push(e))},s=e.google_tag_data;m(s)&&Object.values(s).forEach((e=>{m(e)&&Object.keys(e).forEach((e=>{i(e)}))}));const n=e.google_tag_manager;m(n)&&Object.values(n).forEach((e=>{m(e)&&Object.values(e).forEach((e=>{h(e)&&e.forEach((({message:e})=>{Rs(e)&&"config"===e[0]&&i(e[1])}))}))}));const{dataLayer:r}=e;return h(r)&&r.forEach((e=>{m(e)?Object.values(e).forEach((e=>{Rs(e)&&"config"===e[0]&&i(e[1])})):Rs(e)&&"config"===e[0]&&i(e[1])})),{ga4:t}};class lo extends xr{constructor(e,t,i){super(),__publicField(this,"targetUrl"),__publicField(this,"environment"),__publicField(this,"variation"),this.targetUrl=e,this.environment=t,this.variation=i}toString(){return"RedirectTask("+this.targetUrl+")"}inTransaction(){return!1}isUnloading(){return!0}getRedirectVariation(){return this.variation}run(){return fs.info("Executing redirect to "+this.targetUrl),this.environment.redirect(this.targetUrl),wr.SUCCEEDED}}class co extends xr{constructor(e,t,i,s){super(),__publicField(this,"environment"),__publicField(this,"ga4Integration"),__publicField(this,"variation"),__publicField(this,"override"),__publicField(this,"states",{ga4State:"notStarted"}),__publicField(this,"ga4MeasurementIdQueue",[]),__publicField(this,"taskStartTime"),this.environment=e,this.ga4Integration=t,this.variation=i,this.override=s,R(!t.isPresent()||t.get().isEnabled())}static get GA4_EVENT_NAME(){return"variation_viewed"}static get WAIT_FOR_GA_TIMEOUT_MS(){return 3e3}static get WAIT_FOR_PROPERTY_IDS_MS(){return 5e3}static isSent(e){return"sent"===e||co.isCompleted(e)}static isCompleted(e){return co.isSuccessful(e)||"failed"===e}static isSuccessful(e){return"delivered"===e||"skipped"===e}cleanup(){fs.group("GoogleAnalyticsTask.cleanup()");const e=this.ga4Integration.map((e=>e.isEnabled())).orElse(!1),t=this.manager.findTasks((e=>e instanceof lo)).map((e=>e.getRedirectVariation().getId())),i=`GoogleAnalyticsTask did not complete. Enabled: { ga4: ${e} }, GaStates: ${Ie(this.states)}, ga4MeasurementIdQueue: ${Ie(this.ga4MeasurementIdQueue)}, redirectVariationId(s): ${Ie(t)}, Task ran for: ${this.getTimePassedMs()}ms`;fs.error(i,258),fs.groupEnd()}toString(){return"GoogleAnalyticsTask("+this.variation.getId()+")"}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.isAllCompleted()?this.isAllSuccessful()?wr.SUCCEEDED:wr.FAILED:(fs.debug("Waiting for GA delivery confirmation"),wr.TRY_LATER)}isAllSent(){return co.isSent(this.states.ga4State)}isAllCompleted(){return co.isCompleted(this.states.ga4State)}isAllSuccessful(){return co.isSuccessful(this.states.ga4State)}setState(e,t){this.states[e]!==t&&(fs.debug(`Transitioning ${e} from ${this.states[e]} to ${t}`),this.states[e]=this.isValidStateTransition(this.states[e],t)?t:"failed")}isValidStateTransition(e,t){switch(e){case"notStarted":if("polling"===t||"skipped"===t)return!0;break;case"polling":if("sent"===t||"failed"===t)return!0;break;case"sent":if("delivered"===t)return!0}return this.sendError(`Invalid state transition. Cannot transition from "${e}" to "${t}".`,189),!1}sendOnce(){if(!this.isAllSent()){void 0===this.taskStartTime&&(this.taskStartTime=this.environment.getNowDate(),fs.debug(`GoogleAnalyticsTask start time: ${this.taskStartTime.getTime()}`));const e=this.getTimePassedMs();if(this.override.sendGoogleAnalytics().orElse(!0)){this.ga4Integration.ifPresent((()=>{fs.debug("GoogleAnalytics4 - integration is enabled")})).ifAbsent((()=>{fs.debug("Google Analytics 4 - integration is not enabled"),this.setState("ga4State","skipped")}));this.waitForDataLayer(e).ifPresent((t=>{this.ga4Integration.ifPresent((i=>{if(i.isAutoConfig()){fs.debug("GoogleAnalytics4 - AutoConfig is enabled");const s=this.waitForMeasurementId(e);s.length>0&&this.sendToGa4Once(i,t,s)}else fs.debug("GoogleAnalytics4 - AutoConfig is disabled"),this.sendToGa4Once(i,t)}))}))}else fs.debug("Google Analytics - Override behavior has prevented all events from being sent"),this.setState("ga4State","skipped")}}sendError(e,t){fs.error(e,t,{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()})}shimGtag(e){return function(){e.push(arguments)}}waitForDataLayer(e){const t=this.environment.getWindow();if(co.isSent(this.states.ga4State)||co.isCompleted(this.states.ga4State)||this.setState("ga4State","polling"),void 0===t.dataLayer)fs.debug(`window.dataLayer not defined after ${e} ms`);else{if(Os(t.dataLayer))return j.of(t.dataLayer);fs.debug("window.dataLayer is not an array")}return e>=co.WAIT_FOR_GA_TIMEOUT_MS&&(co.isCompleted(this.states.ga4State)||this.setState("ga4State","failed"),this.sendError(`window.dataLayer not present within ${co.WAIT_FOR_GA_TIMEOUT_MS} ms`,185)),j.empty()}waitForMeasurementId(e){const t=ao(this.environment.getWindow());return 0===t.ga4.length?(fs.debug(`Auto-configured Measurement ID not present after ${e} ms`),this.setState("ga4State","polling"),e>=co.WAIT_FOR_PROPERTY_IDS_MS&&(this.setState("ga4State","failed"),this.sendError(`GoogleAnalytics4 - Auto-configured Measurement ID is not present within ${co.WAIT_FOR_PROPERTY_IDS_MS} ms`,187)),[]):t.ga4}sendToGa4Once(e,t,i){if(!co.isSent(this.states.ga4State)){const s=this.shimGtag(t),n=null!=i?i:e.getMeasurementIds(),r={experienceId:this.variation.getExperience().getId(),experienceName:this.variation.getExperience().getName(),experienceType:this.variation.getExperience().getType(),variationId:this.variation.getId(),variationName:this.variation.getName(),ccStatus:this.variation.getId()===it?"holdout":"optimized",send_to:n,event_callback:e=>{oo(e)&&(this.handleGaEventSuccess(`GA4 configuration (iint.ga4) + gtag.js. Measurement ID: ${e}`),this.checkDelivered("ga4State",e))}};fs.debug(`Sending GA4 event using gtag.js: ${Ie(r)}`),this.ga4MeasurementIdQueue.push(...n),fs.debug("Google Analytics 4 payload sent"),this.setState("ga4State","sent"),s("event",co.GA4_EVENT_NAME,r)}}handleGaEventSuccess(e){fs.debug(`Google Analytics payload delivery complete - using ${e}`)}checkDelivered(e,t){const i=this.ga4MeasurementIdQueue;zs(i,t),0===i.length&&this.setState(e,"delivered")}getTimePassedMs(){if(void 0===this.taskStartTime)return 0;return this.environment.getNowDate().getTime()-this.taskStartTime.getTime()}}class uo extends xr{constructor(e,t,i,s){super(),__publicField(this,"environment"),__publicField(this,"mixpanelIntegration"),__publicField(this,"variation"),__publicField(this,"override"),__publicField(this,"sent",!1),__publicField(this,"delivered",!1),__publicField(this,"timedOut",!1),__publicField(this,"taskStartTime"),this.environment=e,this.mixpanelIntegration=t,this.variation=i,this.override=s}static get WAIT_FOR_MIXPANEL_TIMEOUT_MS(){return 3e3}toString(){return"MixpanelTask("+this.variation.getId()+")"}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.timedOut?wr.FAILED:this.sent?this.delivered?wr.SUCCEEDED:(fs.debug("Waiting for Mixpanel delivery confirmation"),wr.TRY_LATER):wr.TRY_LATER}sendOnce(){if(!this.sent){void 0===this.taskStartTime&&(this.taskStartTime=this.environment.getNowDate(),fs.debug(`MixpanelTask start time: ${this.taskStartTime.getTime()}`));if(this.environment.getNowDate().getTime()-this.taskStartTime.getTime()>=uo.WAIT_FOR_MIXPANEL_TIMEOUT_MS)return fs.error(`MixpanelTask - window.mixpanel.track not present within ${uo.WAIT_FOR_MIXPANEL_TIMEOUT_MS} ms`,199),void(this.timedOut=!0);if(this.override.sendMixpanel().orElse(!0)){const e=this.environment.getWindow();if(void 0===e.mixpanel)return void fs.debug("window.mixpanel not defined");if(void 0===e.mixpanel.track)return void fs.debug("window.mixpanel.track not defined");const t=this.mixpanelIntegration.getEventName(),i={[`${this.variation.getExperience().getName()} (${this.variation.getExperience().getId()})`]:`${this.variation.getName()} (${this.variation.getId()})`};e.mixpanel.track(t,i,{send_immediately:!0},(()=>{fs.debug("Mixpanel payload delivery complete"),this.delivered=!0})),fs.debug("Mixpanel payload sent")}else this.delivered=!0,fs.debug("Skipping Mixpanel");this.sent=!0}}}class ho extends xr{constructor(e,t,i,s){super(),__publicField(this,"environment"),__publicField(this,"segmentIntegration"),__publicField(this,"variation"),__publicField(this,"override"),__publicField(this,"sent",!1),__publicField(this,"delivered",!1),__publicField(this,"timedOut",!1),__publicField(this,"onTrack",!1),__publicField(this,"onReady",!1),__publicField(this,"trackCallback",!1),__publicField(this,"taskStartTime"),this.environment=e,this.segmentIntegration=t,this.variation=i,this.override=s}static get WAIT_FOR_SEGMENT_TIMEOUT_MS(){return 3e3}toString(){return"SegmentAnalyticsTask("+this.variation.getId()+")"}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.timedOut?wr.FAILED:this.sent?this.delivered||this.onReady&&this.onTrack&&this.trackCallback?wr.SUCCEEDED:(fs.debug("Waiting for Segment delivery confirmation"),wr.TRY_LATER):wr.TRY_LATER}sendOnce(){if(!this.sent){void 0===this.taskStartTime&&(this.taskStartTime=this.environment.getNowDate(),fs.debug(`SegmentAnalyticsTask start time: ${this.taskStartTime.getTime()}`));if(this.environment.getNowDate().getTime()-this.taskStartTime.getTime()>=ho.WAIT_FOR_SEGMENT_TIMEOUT_MS)return fs.error(`SegmentAnalyticsTask - window.analytics.track not present within ${ho.WAIT_FOR_SEGMENT_TIMEOUT_MS} ms`,200),void(this.timedOut=!0);if(this.override.sendSegmentAnalytics().orElse(!0)){const e=this.environment.getWindow();if(void 0===e.analytics)return void fs.debug("window.analytics not defined");if(void 0===e.analytics.track)return void fs.debug("window.analytics.track not defined");const t=this.segmentIntegration.getEventName();e.analytics.on("track",((e,i)=>{e===t&&void 0!==i.variationId&&i.variationId===this.variation.getId()&&(fs.debug("Segment on track event received"),this.onTrack=!0)}));const i={campaignId:this.variation.getExperience().getCampaign().getId(),campaignName:this.variation.getExperience().getCampaign().getName(),experimentId:this.variation.getExperience().getId(),experimentName:this.variation.getExperience().getName(),variationName:this.variation.getName(),variationId:this.variation.getId(),nonInteraction:1};e.analytics.track(t,i,(()=>{fs.debug("Segment track() callback called"),this.trackCallback=!0})),e.analytics.ready((()=>{fs.debug("Segment ready() callback called"),this.onReady=!0}))}else this.delivered=!0;fs.debug("Segment payload sent"),this.sent=!0}}}class go extends xr{constructor(e,t,i){super(),__publicField(this,"variation"),__publicField(this,"browserEventLogger"),__publicField(this,"decisionContext"),__publicField(this,"sent",!1),__publicField(this,"deliveryStatus",wr.NOT_STARTED),this.variation=N(e),this.browserEventLogger=N(t),this.decisionContext=N(i)}toString(){return"ViewEventTask("+this.variation.getId()+")"}getEntityIds(){return{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.deliveryStatus===wr.SUCCEEDED?wr.SUCCEEDED:this.deliveryStatus===wr.FAILED?wr.FAILED:(fs.debug("Waiting for view event delivery confirmation"),wr.TRY_LATER)}sendOnce(){this.sent||(fs.info(`Variation ${this.variation.getExperience().getId()}/${this.variation.getId()} sending view event`),this.browserEventLogger.sendView(this.variation,this.decisionContext).then((()=>{fs.info(`Variation ${this.variation.getExperience().getId()}/${this.variation.getId()} view event delivery success`),this.deliveryStatus=wr.SUCCEEDED})).catch((e=>{const t=new bt(`Variation ${this.variation.getExperience().getId()}/${this.variation.getId()} view event delivery failed`,e);fs.warn(t,93,{experienceId:this.variation.getExperience().getId(),variationId:this.variation.getId()}),this.deliveryStatus=wr.FAILED})),this.sent=!0)}}class po extends xr{constructor(e,t){super(),__publicField(this,"environment"),__publicField(this,"viewabilityTimeMs"),__publicField(this,"startViewableTimeMs"),__publicField(this,"ignoreCallback",!1),__publicField(this,"activeEventListener",!1),this.environment=e,this.viewabilityTimeMs=t}toString(){return"ViewabilityTask()"}inTransaction(){return!1}isUnloading(){return!1}cleanup(){this.ignoreCallback=!0}run(){const e=this.environment.getNowUnixTimeMs();if(!this.environment.isNowDocumentHidden().orElse(!0)){void 0===this.startViewableTimeMs&&(this.startViewableTimeMs=e);const t=e-this.startViewableTimeMs;return t>=this.viewabilityTimeMs?(fs.debug(`page viewable for ${t}ms > threshold ${this.viewabilityTimeMs}ms`),wr.SUCCEEDED):(fs.debug(`page viewable for ${t}ms < threshold ${this.viewabilityTimeMs}ms`),wr.TRY_LATER)}return this.startViewableTimeMs=void 0,this.activeEventListener||(fs.debug("page not viewable, scheduling visibility change listener"),this.environment.addListenerVisibilityChange((()=>{try{this.ignoreCallback?fs.debug("visibility change event - ignoring"):(fs.debug("visibility change event - ask TM for polling"),this.setStatusTryLater(),this.manager.runNow())}catch(e){const t=new bt("Exception in ViewabilityTask visibilitychange handler",e);fs.error(t,238)}})),this.activeEventListener=!0),wr.WAITING}}class mo extends xr{constructor(e,t,i,s,n,r,o,a,l,c,u){super(),__publicField(this,"variation"),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"user"),__publicField(this,"decisionContext"),__publicField(this,"startPageviewId"),__publicField(this,"override"),__publicField(this,"viewabilityTask"),__publicField(this,"getVariationRecordedCallbackTuples"),__publicField(this,"haveUpdatedCustomerStorage",!1),__publicField(this,"haveUpdatedActivityStorage",!1),__publicField(this,"haveScheduledGoogleAnalytics",!1),__publicField(this,"googleAnalyticsTask"),__publicField(this,"haveScheduledSegmentAnalytics",!1),__publicField(this,"segmentAnalyticsTask"),__publicField(this,"haveScheduledMixpanel",!1),__publicField(this,"mixpanelTask"),__publicField(this,"viewEventTask"),__publicField(this,"haveRunSuccessCallbacks",!1),this.variation=N(e),this.environment=N(t),this.browserEventLogger=N(i),this.customerStorage=N(s),this.attributeStorage=N(n),this.activityStorage=N(r),this.user=N(o),this.decisionContext=N(a),this.startPageviewId=N(l),this.override=N(c),this.getVariationRecordedCallbackTuples=N(u)}toString(){return"RecordVariationTask("+this.variation.getId()+")"}getEntityIds(){return{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}}inTransaction(){return!1}isUnloading(){return!1}getNotDoneDependencies(){const e=[];return void 0===this.googleAnalyticsTask||this.googleAnalyticsTask.isDone()||e.push(this.googleAnalyticsTask),void 0===this.segmentAnalyticsTask||this.segmentAnalyticsTask.isDone()||e.push(this.segmentAnalyticsTask),void 0===this.mixpanelTask||this.mixpanelTask.isDone()||e.push(this.mixpanelTask),void 0===this.viewEventTask||this.viewEventTask.isDone()||e.push(this.viewEventTask),void 0===this.viewabilityTask||this.viewabilityTask.isDone()||e.push(this.viewabilityTask),e}updateCustomerStorageOnce(){this.haveUpdatedCustomerStorage||(fs.debug("RecordVariationTask.updateCustomerStorageOnce() "+this.variation.getId()),this.decisionContext.isStickyVariation(this.variation)?this.customerStorage.saveVariationStickySelection(this.variation,this.environment.getPageviewId()):this.customerStorage.saveVariationPredictionSelection(this.variation,this.decisionContext.getModelVersion(this.variation.getExperience().getId()),this.environment.getPageviewId()),this.haveUpdatedCustomerStorage=!0)}updateActivityStorageOnce(){if(!this.haveUpdatedActivityStorage){fs.debug(`RecordVariationTask.haveUpdatedActivityStorage() ${this.variation.getId()}`);const e=eo.buildViewActivity(this.variation,this.environment,this.user,this.attributeStorage,this.customerStorage);this.activityStorage.add(e),this.haveUpdatedActivityStorage=!0}}sendGoogleAnalyticsOnce(){if(!this.haveScheduledGoogleAnalytics){const e=this.variation.getExperience().getCampaign().getCustomer().getIntegrationGoogle4Analytics(),t=e.isPresent()&&e.get().isEnabled();t&&(this.googleAnalyticsTask=new co(this.environment,t?e:j.empty(),this.variation,this.override),this.manager.addTask(this.googleAnalyticsTask)),this.haveScheduledGoogleAnalytics=!0}}sendSegmentAnalyticsOnce(){this.haveScheduledSegmentAnalytics||(this.variation.getExperience().getCampaign().getCustomer().getIntegrationSegmentAnalytics().ifPresent((e=>{e.isEnabled()&&(this.segmentAnalyticsTask=new ho(this.environment,e,this.variation,this.override),this.manager.addTask(this.segmentAnalyticsTask))})),this.haveScheduledSegmentAnalytics=!0)}sendMixpanelOnce(){this.haveScheduledMixpanel||(this.variation.getExperience().getCampaign().getCustomer().getIntegrationMixpanel().ifPresent((e=>{e.isEnabled()&&(this.mixpanelTask=new uo(this.environment,e,this.variation,this.override),this.manager.addTask(this.mixpanelTask))})),this.haveScheduledMixpanel=!0)}sendViewEventOnce(){void 0===this.viewEventTask&&(this.viewEventTask=new go(this.variation,this.browserEventLogger,this.decisionContext),this.manager.addTask(this.viewEventTask))}checkDependency(e){switch(e.getStatus()){case wr.NOT_STARTED:case wr.TRY_LATER:case wr.WAITING:return wr.TRY_LATER;case wr.FAILED:case wr.CANCELED:return wr.FAILED;case wr.SUCCEEDED:return wr.SUCCEEDED;default:return fs.error(`Unrecognized status from dependency ${e.getStatus()}`,88,{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}),wr.FAILED}}getRecordViewStatus(){if(!this.haveUpdatedCustomerStorage)return fs.debug("Waiting for CustomerStorage to be updated"),wr.TRY_LATER;if(!this.haveScheduledGoogleAnalytics)return fs.debug("Waiting for GoogleAnalytics to be scheduled"),wr.TRY_LATER;if(void 0!==this.googleAnalyticsTask){const e=this.checkDependency(this.googleAnalyticsTask);if(e!==wr.SUCCEEDED)return fs.debug(`GoogleAnalytics returned ${wr[e]}`),e}if(!this.haveScheduledSegmentAnalytics)return fs.debug("Waiting for SegmentAnalytics to be scheduled"),wr.TRY_LATER;if(void 0!==this.segmentAnalyticsTask){const e=this.checkDependency(this.segmentAnalyticsTask);if(e!==wr.SUCCEEDED)return fs.debug(`SegmentAnalytics returned ${wr[e]}`),e}if(!this.haveScheduledMixpanel)return fs.debug("Waiting for Mixpanel to be scheduled"),wr.TRY_LATER;if(void 0!==this.mixpanelTask){const e=this.checkDependency(this.mixpanelTask);if(e!==wr.SUCCEEDED)return fs.debug(`Mixpanel returned ${wr[e]}`),e}if(void 0===this.viewEventTask)return fs.debug("Waiting for ViewEvent to be scheduled"),wr.TRY_LATER;const e=this.checkDependency(this.viewEventTask);return e!==wr.SUCCEEDED?(fs.debug(`ViewEvent returned ${wr[e]}`),e):wr.SUCCEEDED}doSuccessCallbacksOnce(){this.haveRunSuccessCallbacks||(this.getVariationRecordedCallbackTuples().forEach((e=>{const t=e[0];try{t({experienceId:this.variation.getExperience().getId(),experienceName:this.variation.getExperience().getName(),experienceType:this.variation.getExperience().getType(),variationId:this.variation.getId(),variationName:this.variation.getName(),ccStatus:this.variation.getId()===it?"holdout":"optimized"})}catch(i){const e=new bt("Caught exception in onVariationRecorded success callback",i);xo.consoleError(e.message,165)}})),this.haveRunSuccessCallbacks=!0)}scheduleViewabilityOnce(e){void 0===this.viewabilityTask&&(this.viewabilityTask=new po(this.environment,e),this.manager.addTask(this.viewabilityTask))}}class vo extends mo{toString(){return"RecordCodeVariationTask("+this.variation.getId()+")"}run(){this.startPageviewId!==this.environment.getPageviewId()&&fs.error(`RecordCodeVariationTask executing, but pageviewId has changed from ${this.startPageviewId} to ${this.environment.getPageviewId()}`,85,{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}),this.scheduleViewabilityOnce(ee);const e=j.ofNullable(this.viewabilityTask).map((e=>e.getStatus())).orElse(wr.NOT_STARTED);return xr.isDone(e)?e!==wr.SUCCEEDED?(fs.info(`Variation ${this.variation.getExperience().getId()}/${this.variation.getId()} aborting record view event since viewability did not succeed`),wr.CANCELED):(this.updateCustomerStorageOnce(),this.updateActivityStorageOnce(),this.sendGoogleAnalyticsOnce(),this.sendSegmentAnalyticsOnce(),this.sendMixpanelOnce(),this.sendViewEventOnce(),this.doSuccessCallbacksOnce(),this.getRecordViewStatus()):(fs.debug("RecordCodeVariationTask waiting for viewability"),wr.TRY_LATER)}}class bo extends no{constructor(){super(...arguments),__publicField(this,"changelistTask")}toString(){return`ExecuteChangelistVariationTask(${this.variation.getId()})`}getNotDoneDependencies(){return void 0===this.changelistTask||this.changelistTask.isDone()?[]:[this.changelistTask]}isReadyToExecute(){if(void 0===this.changelistTask){const e=this.passDependencies(),t=this.passExperiencePreconditions(),i=this.passVariationPreconditions(),s=this.hasAppliedPageChanges();return e&&t&&i&&s}return!0}executeVariation(){if(void 0===this.changelistTask){const e=this.variation.getChanges().map(((e,t)=>Pn(e,un(this.variation),t,this.attributeData,this.environment,this.browserStorage,this.extensionManager)));this.changelistTask=new so(e,(()=>{this.onReadyToRender()}),{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()},this.elementObserver),this.manager.addTask(this.changelistTask)}if(this.changelistTask.isDone()){if(this.changelistTask.getStatus()===wr.FAILED||this.changelistTask.getStatus()===wr.CANCELED)return this.statusModel.setVariation(this.variation,"failChange",!0),wr.FAILED;if(this.changelistTask.getStatus()===wr.SUCCEEDED)return this.manager.addTask(new vo(this.variation,this.environment,this.browserEventLogger,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.decisionContext,this.startPageviewId,this.override,this.getVariationRecordedCallbackTuples)),this.statusModel.setVariation(this.variation,"apply",!0),wr.SUCCEEDED}return wr.TRY_LATER}}class fo extends no{toString(){return`ExecuteCodeVariationTask(${this.variation.getId()})`}executeVariation(){if(!this.injectVariationCss(this.variation))return this.statusModel.setVariation(this.variation,"failCSS",!0),this.onReadyToRender(),wr.FAILED;this.elementObserver.detachObserver();const e=this.runVariationCode(this.variation);return this.elementObserver.attachObserver(),e?(this.onReadyToRender(),this.manager.addTask(new vo(this.variation,this.environment,this.browserEventLogger,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.decisionContext,this.startPageviewId,this.override,this.getVariationRecordedCallbackTuples)),this.statusModel.setVariation(this.variation,"apply",!0),wr.SUCCEEDED):(this.statusModel.setVariation(this.variation,"failCode",!0),this.onReadyToRender(),wr.FAILED)}runVariationCode(e){if(e.getCode().isPresent()){const i=e.getCode().get();try{fs.info(`Variation ${e.getExperience().getId()}/${e.getId()} running code`),ks.eval(i)}catch(t){const i=new bt(`Variation (${e.getId()}) code execution failed`,t);return fs.error(i,17,{variationId:e.getId(),experienceId:e.getExperience().getId()}),!1}}return!0}}class Eo extends mo{constructor(e,t,i,s,n,r,o,a,l,c,u,d,h){super(e,t,i,s,n,r,o,a,l,c,u),__publicField(this,"redirectUrl"),__publicField(this,"onReadyToRender"),__publicField(this,"startTimeMs"),__publicField(this,"redirectScheduled",!1),this.redirectUrl=N(d),this.onReadyToRender=N(h)}static get REDIRECT_TIME_BUDGET_MS(){return 3e3}toString(){return"RecordRedirectVariationTask("+this.variation.getId()+")"}cleanup(){this.onReadyToRender()}run(){this.startPageviewId!==this.environment.getPageviewId()&&fs.error(`RecordRedirectVariationTask executing, but pageviewId has changed from ${this.startPageviewId} to ${this.environment.getPageviewId()}`,87,{variationId:this.variation.getId(),experienceId:this.variation.getExperience().getId()}),this.scheduleViewabilityOnce(te);const e=j.ofNullable(this.viewabilityTask).map((e=>e.getStatus())).orElse(wr.NOT_STARTED);if(!xr.isDone(e))return fs.debug("RecordCodeVariationTask waiting for viewability"),wr.TRY_LATER;if(e!==wr.SUCCEEDED)return fs.info(`Variation ${this.variation.getExperience().getId()}/${this.variation.getId()} aborting record view event since viewability did not succeed`),wr.CANCELED;this.startTimeMs||(this.startTimeMs=this.environment.getNowUnixTimeMs());let t=this.runSteps();return!xr.isDone(t)&&this.hasExceededTimeBudget()&&(this.scheduleRedirectOnce(),t=wr.FAILED),this.doSuccessCallbacksOnce(),t}runSteps(){this.updateCustomerStorageOnce(),this.updateActivityStorageOnce(),this.sendGoogleAnalyticsOnce(),this.sendSegmentAnalyticsOnce(),this.sendMixpanelOnce(),this.sendViewEventOnce();const e=this.getRecordViewStatus();return xr.isDone(e)?(this.scheduleRedirectOnce(),wr.SUCCEEDED):e}scheduleRedirectOnce(){if(!this.redirectScheduled){const e=new lo(this.redirectUrl,this.environment,this.variation);this.manager.addTask(e),this.redirectScheduled=!0,this.environment.getWindow().setTimeout((()=>{this.onReadyToRender()}),this.getTimeRemainingMs()+q)}}getTimeRemainingMs(){const e=this.environment.getNowUnixTimeMs()-this.startTimeMs,t=Eo.REDIRECT_TIME_BUDGET_MS;return fs.debug("getTimeRemainingMs elapsed: "+e+", budget: "+t),t-e}hasExceededTimeBudget(){return this.getTimeRemainingMs()<0}}class _o extends no{toString(){return`ExecuteRedirectVariationTask(${this.variation.getId()})`}executeVariation(){const e=this.runVariationRedirectCode(this.variation);if(void 0===e)return this.onReadyToRender(),wr.FAILED;return this.injectVariationCss(this.variation)?(this.manager.addTask(new Eo(this.variation,this.environment,this.browserEventLogger,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.decisionContext,this.startPageviewId,this.override,this.getVariationRecordedCallbackTuples.bind(this),e,this.onReadyToRender.bind(this))),this.statusModel.setVariation(this.variation,"apply",!0),wr.SUCCEEDED):(this.onReadyToRender(),wr.FAILED)}runVariationRedirectCode(e){let t;if(e.getRedirect().isPresent()){const s=e.getRedirect().get();try{fs.info(`Variation ${e.getExperience().getId()}/${e.getId()} running redirect code`),t=ks.evalString(s),fs.info(`Redirect URL is ${t}`)}catch(i){const s=new bt(`Variation (${e.getId()}) redirect code execution failed`,i);fs.error(s,18,{variationId:e.getId(),experienceId:e.getExperience().getId()}),t=void 0}}return t}}function yo(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p,m,v,b){let f;return f=m.isTypeChange()?bo:m.isRedirect()?_o:fo,new f(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p,m,v,b)}class So extends xr{constructor(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p,m,v){super(),__publicField(this,"environment"),__publicField(this,"browserStorage"),__publicField(this,"extensionManager"),__publicField(this,"browserEventLogger"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"customerStorage"),__publicField(this,"decisionContext"),__publicField(this,"pageContext"),__publicField(this,"attributeData"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"statusModel"),__publicField(this,"hider"),__publicField(this,"getVariationRecordedCallbackTuples"),__publicField(this,"elementObserver"),__publicField(this,"startPageviewId"),__publicField(this,"startTimeMs"),__publicField(this,"executeVariationTasks",{}),__publicField(this,"didHide",!1),this.environment=N(e),this.browserStorage=N(t),this.extensionManager=N(i),this.environment=N(e),this.browserEventLogger=N(s),this.attributeStorage=N(n),this.activityStorage=N(r),this.customerStorage=N(o),this.decisionContext=N(a),this.pageContext=N(l),this.attributeData=N(c),this.user=N(u),this.override=N(d),this.statusModel=N(h),this.hider=N(g),this.getVariationRecordedCallbackTuples=N(m),this.elementObserver=N(v),this.startTimeMs=this.environment.getNowUnixTimeMs(),this.startPageviewId=e.getPageviewId(),this.override.requestAnimationFrame().orElse(p)&&this.environment.getWindow().requestAnimationFrame((()=>{this.handleRaf()}))}static get RAF_RUNTIME_MS(){return 3e4}toString(){return`ExecuteExperiencesTask(${this.startPageviewId})`}inTransaction(){return!1}isUnloading(){return!1}getStartPageviewId(){return this.startPageviewId}hideExperiencesOnce(){this.didHide||(this.hider.hideExperiences(this.decisionContext.getExperiences(),this.browserStorage,this.attributeData),this.hider.revealDocumentIfAllRegionsHidden(),this.didHide=!0)}run(){return this.decisionContext.getExperiences().forEach((e=>{if(this.decisionContext.hasNext(e.getId())){const t=this.decisionContext.getFirst(e.getId());void 0===this.executeVariationTasks[e.getId()]&&(fs.debug(`Queueing ExecuteVariationTask for ExperienceID: ${e.getId()}, Variation ID: ${t.getId()}`),this.executeVariationTasks[e.getId()]=yo(this.environment,this.browserStorage,this.extensionManager,this.browserEventLogger,this.customerStorage,this.attributeStorage,this.activityStorage,this.pageContext,this.attributeData,this.decisionContext,this.user,this.override,this.statusModel,this.startPageviewId,this.hider,t,this.getVariationRecordedCallbackTuples,this.elementObserver),this.manager.addTask(this.executeVariationTasks[e.getId()]));const i=this.executeVariationTasks[e.getId()];i.getStatus()===wr.FAILED||i.getStatus()===wr.CANCELED?this.handleOnExperienceError(e):i.getStatus()===wr.SUCCEEDED&&this.handleOnExperienceSuccess(e)}})),this.decisionContext.isEmpty()?wr.SUCCEEDED:wr.TRY_LATER}handleOnExperienceSuccess(e){this.decisionContext.removeExperience(e.getId())}handleOnExperienceError(e){this.decisionContext.removeExperience(e.getId()),this.hider.revealExperience(e,this.browserStorage,this.attributeData)}handleRaf(){this.manager&&this.manager.runNow(),this.environment.getNowUnixTimeMs()-this.startTimeMs<So.RAF_RUNTIME_MS&&!xr.isDone(this.getStatus())&&this.environment.getWindow().requestAnimationFrame((()=>{this.handleRaf()}))}}const Io=class extends xr{constructor(e,t,i,s,n){super(),__publicField(this,"instanceNumber"),__publicField(this,"pageviewId"),__publicField(this,"customer"),__publicField(this,"environment"),__publicField(this,"customerStorage"),__publicField(this,"success"),__publicField(this,"startTimeMs"),this.instanceNumber=++Io.instanceCount,this.environment=e,this.pageviewId=t,this.customerStorage=i,this.customer=s,this.success=n}static get DEPENDENCIES_TIME_BUDGET_MS(){return 3e3}toString(){return`SelectedVariationsCallbackTask(${this.pageviewId}, ${this.instanceNumber})`}inTransaction(){return!0}isUnloading(){return!1}getNotDoneDependencies(){const e=[],t=this.getRunningDependentRecordTasks();Array.prototype.push.apply(e,t);const i=this.getDependentExecuteExperiencesTask();return i.length>0&&!i[0].isDone()&&Array.prototype.push.apply(e,i),e}run(){this.startTimeMs||(this.startTimeMs=this.environment.getNowUnixTimeMs());const e=this.getRunningDependentRecordTasks();if(e.length>0)return fs.debug("Waiting for "+e[0].toString()+", "+wr[e[0].getStatus()]),wr.TRY_LATER;const t=this.getDependentExecuteExperiencesTask();if(t.length>1)return fs.error(`Found multiple ExecuteExperiencesTasks for pageviewId ${this.pageviewId}`,89),wr.FAILED;if(0===t.length)return wr.TRY_LATER;const i=t[0];return xr.isDone(i.getStatus())?(this.doCallback(),wr.SUCCEEDED):this.hasExceededTimeBudget()?(fs.debug(`Time budget of ${Io.DEPENDENCIES_TIME_BUDGET_MS} ms exceeded while waiting for ExecuteVariationTasks to complete; triggering success callbacks now`),this.doCallback(),wr.SUCCEEDED):(fs.debug("Waiting for "+i.toString()+", "+wr[i.getStatus()]),wr.TRY_LATER)}getRunningDependentRecordTasks(){return this.manager.findTasks((e=>e instanceof mo&&!e.isDone()))}getDependentExecuteExperiencesTask(){return this.manager.findTasks((e=>e instanceof So&&this.pageviewId===e.getStartPageviewId()))}doCallback(){const e=this.customerStorage.getPageviewSelections(this.pageviewId),t=this.generateResponse(e);fs.debug("Callback data: "+Ie(t));try{this.success.call(void 0,t)}catch(i){const e=new bt("Caught exception in customer callback",i);fs.error(e,8)}}getTimeRemainingMs(){const e=this.environment.getNowUnixTimeMs()-this.startTimeMs,t=Io.DEPENDENCIES_TIME_BUDGET_MS;return fs.debug("getTimeRemainingMs elapsed: "+e+", budget: "+t),t-e}hasExceededTimeBudget(){return this.getTimeRemainingMs()<0}};let wo=Io;__publicField(wo,"instanceCount",0);class Co extends wo{toString(){return"SelectedVariationIdsCallbackTask("+this.pageviewId+","+this.instanceNumber+")"}generateResponse(e){const t={};return e.forEach((e=>{t[e.experienceId]=e.variationId})),t}}class To extends wo{toString(){return"SelectedVariationNamesCallbackTask("+this.pageviewId+","+this.instanceNumber+")"}generateResponse(e){const t={};return e.forEach((e=>{e.campaignId in t||(t[e.campaignId]={});const i={};i.varId=e.variationId,this.customer.getCampaign(e.campaignId).ifPresent((s=>{t[e.campaignId].campaignName=s.getName(),s.getExperience(e.experienceId).ifPresent((t=>{i.expName=t.getName(),t.getVariation(e.variationId).ifPresent((e=>{i.varName=e.getName()}))}))})),t[e.campaignId][e.experienceId]=i})),t}}class xo{constructor(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p){__publicField(this,"environment"),__publicField(this,"extensionManager"),__publicField(this,"browserEventLogger"),__publicField(this,"taskManager"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"integrationDataStorage"),__publicField(this,"customer"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"statusModel"),__publicField(this,"callQueue"),__publicField(this,"readyCallbackQueue"),__publicField(this,"addVariationRecordedCallbackTuple"),__publicField(this,"initialized"),this.environment=N(e),this.extensionManager=t,this.browserEventLogger=N(i),this.taskManager=N(s),this.customerStorage=N(n),this.attributeStorage=N(r),this.activityStorage=N(o),this.integrationDataStorage=N(a),this.customer=N(l),this.user=N(c),this.override=N(u),this.statusModel=N(d),this.callQueue=N(h),this.readyCallbackQueue=N(g),this.addVariationRecordedCallbackTuple=N(p),this.initialized=!1}static validatePushCommand(e){return e&&"object"==typeof e&&e.constructor===Array?!(!e[0]||"string"!=typeof e[0])||(xo.consoleError(`intellimize.push(): First parameter must be a string: ${Ie(e)}`,114),!1):(xo.consoleError(`intellimize.push(): Parameter must be an array: ${Ie(e)}`,113),!1)}static validateReadyCallback(e){return!!$s(e)||(xo.consoleError("intellimize.ready() was called with a non-function argument",115),!1)}static consoleError(e,t){console.error(e),fs.error(e,t)}static validateAttributeScope(e){return"user"===e||"pageview"===e}static validateAttributes(e){return null!=e&&Ls(e)}static filterAttributePairs(e){for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;if(!xo.validateAttributeName(t)){xo.consoleError(`intellimize.setAttributes() invalid attribute ${t}`,96),delete e[t];continue}const i=xo.transformAttributeValue(e[t]);xo.validateAttributeValue(i)?e[t]=i:(xo.consoleError(`intellimize.setAttributes() invalid attribute ${t}: ${e[t]}`,97),delete e[t])}}static validateAttributeName(e){return/^[\u0020-\u003C\u003E-\u007E]{1,40}$/.test(e)}static transformAttributeValue(e){let t=e;return"boolean"==typeof t&&(t=t.toString()),"number"==typeof t&&(t=t.toString()),null===t&&(t=""),void 0===t&&(t=""),"string"==typeof t&&t.length>255&&(t=t.slice(0,255)),t}static validateAttributeValue(e){return void 0!==e&&"string"==typeof e&&e.length>=0&&e.length<256}static validateAttributeNames(e){if(void 0===e||!Array.isArray(e))return!1;for(const t of e)if(!xo.validateAttributeName(t))return!1;return!0}static validateCustomEventApiName(e){return/^[\u0021-\u007E]{1,40}$/.test(e)}static validateCustomEventProperties(e){const t=new Set(["value","actionId"]);return!!Object.keys(e).every((e=>t.has(e)))&&(!(void 0!==e.value&&!Pr(e.value))&&!(void 0!==e.actionId&&!Mr(e.actionId)))}static validateCustomerUserId(e){return/^[\u0021-\u007E]{1,300}$/.test(e)}static validateCustomerUserDomain(e){return"intellimize"!==e&&!e.startsWith("__")&&/^[\u0021-\u007E]{1,50}$/.test(e)}static doCallback(e){void 0!==e&&ks.executeFunction(e,5)}get isInitialized(){return this.initialized}initialize(){const e=this,t=this.environment.getWindow(),{intellimize:i}=t;void 0!==i?(i.getSelectedVariationIds=(e,t)=>{"function"==typeof e?void 0===t||"function"==typeof t?this.getSelectedVariationIds(e,t):xo.consoleError("intellimize.getSelectedVariationIds() second parameter must be an error function",103):xo.consoleError("intellimize.getSelectedVariationIds() first parameter must be a success function",102)},i.getSelectedVariationNames=(e,t)=>{"function"==typeof e?void 0===t||"function"==typeof t?this.getSelectedVariationNames(e,t):xo.consoleError("intellimize.getSelectedVariationNames() second parameter must be an error function",105):xo.consoleError("intellimize.getSelectedVariationNames() First parameter must be a success function",104)},i.onVariationRecorded=function(t,i){e.onVariationRecorded(t.bind(this),void 0===i?void 0:i.bind(this))},i.setAttributes=(e,t)=>{this.setAttributes(e,t)},i.getAttributes=(e,t)=>this.getAttributes(e,t),i.getAllAttributes=e=>this.getAllAttributes(e),i.deleteAttributes=(e,t)=>{this.deleteAttributes(e,t)},i.deleteAllAttributes=e=>{this.deleteAllAttributes(e)},i.getIntegrationData=e=>this.getIntegrationData(e),i.sendEvent=(e,t,i)=>{this.sendEvent(e,t,i)},i.activate=e=>{this.activate(e)},i.setUserId=(e,t)=>{this.setCustomerUserId(e,t)},i.getActivities=()=>this.getActivities(),i.registerExtension=e=>{fs.debug(`intellimize.registerExtension(${e.getName()})`),this.extensionManager.registerExtension(e)},i.push=e=>{xo.validatePushCommand(e)&&this.push(e)},i.ready=e=>{xo.validateReadyCallback(e)&&this.ready(e)},this.callQueue.forEach((e=>{e&&"object"==typeof e&&e.constructor===Array?"push"!==e[0]?this.push(e):xo.consoleError('intellimize.push() Refusing to process command "push", to prevent infinite recursion.',10):xo.consoleError("intellimize.push() Parameter must be an array: "+Ie(e),9)})),this.readyCallbackQueue.forEach(((e,t)=>{fs.debug(`intellimize.ready() executing registered callback #${t+1}`),this.ready(e)})),this.initialized=!0):fs.error("window.intellimize is undefined: Cannot initialize ExternalApi",218)}getSelectedVariationIds(e,t){fs.debug("getSelectedVariationIds()"),fs.warn("getSelectedVariationIds",160);const i=this.environment.getPageviewId(),s=new Co(this.environment,i,this.customerStorage,this.customer,e);this.taskManager.addTask(s)}getSelectedVariationNames(e,t){fs.debug("getSelectedVariationNames()"),fs.warn("getSelectedVariationNames",161);const i=this.environment.getPageviewId(),s=new To(this.environment,i,this.customerStorage,this.customer,e);this.taskManager.addTask(s)}onVariationRecorded(e,t){fs.debug("onVariationRecorded()"),fs.warn("onVariationRecorded",203),"function"==typeof e?void 0===t||"function"==typeof t?this.addVariationRecordedCallbackTuple([e,j.ofNullable(t)]):xo.consoleError("intellimize.onVariationRecorded() second parameter must be an error function",164):xo.consoleError("intellimize.onVariationRecorded() first parameter must be a success function",163)}setAttributes(e,t){fs.debug(`setAttributes(${e}, ${Ie(t)})`),xo.validateAttributeScope(e)?xo.validateAttributes(t)?(xo.filterAttributePairs(t),this.attributeStorage.setCustomAttributes(e,t)):xo.consoleError("intellimize.setAttributes() invalid attributes parameter",110):xo.consoleError("intellimize.setAttributes() invalid scope parameter",109)}getAttributes(e,t){return fs.debug(`getAttributes(${e}, ${t})`),xo.validateAttributeScope(e)?xo.validateAttributeNames(t)?this.attributeStorage.getCustomAttributes(e,t):(xo.consoleError("intellimize.getAttributes() invalid names parameter",100),{}):(xo.consoleError("intellimize.getAttributes() invalid scope parameter",99),{})}getAllAttributes(e){return fs.debug(`getAllAttributes(${e}`),xo.validateAttributeScope(e)?this.attributeStorage.getCustomAttributes(e):(xo.consoleError("intellimize.getAllAttributes() invalid scope parameter",98),{})}deleteAttributes(e,t){fs.debug(`deleteAttributes(${e}, ${t})`),xo.validateAttributeScope(e)?xo.validateAttributeNames(t)?this.attributeStorage.deleteCustomAttributes(e,t):xo.consoleError("intellimize.deleteAttributes() invalid names parameter",95):xo.consoleError("intellimize.deleteAttributes() invalid scope parameter",94)}deleteAllAttributes(e){fs.debug(`deleteAllAttributes(${e})`),xo.validateAttributeScope(e)?this.attributeStorage.deleteCustomAttributes(e):xo.consoleError("intellimize.deleteAllAttributes() invalid scope parameter",20)}getIntegrationData(e){var t;if(fs.debug(`getIntegrationData(${e})`),"marketoLead"===e){return null!=(t=this.integrationDataStorage.getData("marketo").flatMap((e=>br(e))).orElse({lead:{fields:{},lists:[]}}).lead)?t:{}}return nr.includes(e)?this.integrationDataStorage.getData(e).flatMap((e=>j.ofNullable(e))).orElse({}):(xo.consoleError("intellimize.getData() invalid integration name parameter",101),{})}sendEvent(e,t,i){return fs.debug(`sendEvent(${e}, ${Ie(t)} )`),xo.validateCustomEventApiName(e)?void 0===t||xo.validateCustomEventProperties(t)?void this.customer.getCustomEvent(e).flatMap((t=>this.override.isEventLive(t).orElse("live"===t.getState())?j.ofNullable(t):(fs.debug(`sendEvent(${e}) event is not live`),j.empty()))).ifPresent((e=>{const s=void 0===t?void 0:t.value;let n=void 0===t?void 0:t.actionId;void 0===n&&(n=this.environment.generateActionId());const r=new tr(e,n,s,void 0);this.activityStorage.add(eo.buildConversionActivity(r,this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage));const o=new Fr(r,this.browserEventLogger,this.customer,this.customerStorage,this.statusModel);void 0!==i&&o.onDone(i),this.taskManager.addTask(o)})).ifAbsent((()=>{xo.consoleError(`intellimize.sendEvent() apiName not found "${e}"`,19),xo.doCallback(i)})):(xo.consoleError(`intellimize.sendEvent() invalid properties "${Ie(t)}"`,108),void xo.doCallback(i)):(xo.consoleError(`intellimize.sendEvent() invalid apiName "${e}"`,107),void xo.doCallback(i))}activate(e){fs.debug("activate()");const t=this.taskManager.findTasks((e=>e instanceof to&&!e.isDone()));if(t.length>0){fs.debug("Ignoring activate() since there is an outstanding ActivateTask");const i=t[0];return void(void 0!==e&&i.addCallback(e))}const i=this.taskManager.findTasks((e=>e instanceof io&&!e.isDone()));if(i.length>0){fs.debug("Extending activate() expiration time");const t=i[0];return void 0!==e&&t.addCallback(e),void t.resetExpiration()}const s=void 0===e?[]:[e],n=new io(this.environment,this.override,s);this.taskManager.addTask(n)}setCustomerUserId(e,t){if(fs.debug(`setCustomerUserId(${e}, ${t})`),!xo.validateCustomerUserDomain(e))return void xo.consoleError("intellimize.setCustomerUserId() invalid user domain",111);if(!xo.validateCustomerUserId(t))return void xo.consoleError("intellimize.setCustomerUserId() invalid user id",112);const i=new kr(this.environment,this.customer,"intellimize",this.user.getId(),e,t);this.taskManager.addTask(i)}getActivities(){return fs.debug("getActivities()"),this.activityStorage.getAll()}push(e){fs.debug("push("+e[0]+")");const t=this.environment.getWindow();try{if(void 0===t.intellimize)return void fs.error("push() called, but window.intellimize undefined",30);const i=e.shift();if(void 0===t.intellimize[i])return void xo.consoleError(`intellimize.${i}() is not a valid function`,106);t.intellimize[i].apply(void 0,e)}catch(i){const e=new bt("Error executing push()",i);fs.error(e,3)}}ready(e){xo.doCallback(e)}}class Ao{constructor(e){__publicField(this,"environment"),__publicField(this,"callQueue"),__publicField(this,"readyCallbackQueue"),this.environment=e,this.callQueue=[],this.readyCallbackQueue=[]}static isValidObjectDefinition(e){if(Ls(e)){const t=Object.keys(e);if(4===t.length){if(0===Us(["p","r","push","ready"],t).length&&Os(e.p)&&Os(e.r)&&$s(e.push)&&$s(e.ready))return!0}}return!1}initialize(){const e=this.environment.getWindow();if(void 0!==e.intellimize)if(Os(e.intellimize))this.setCallQueue(e.intellimize);else if(Ls(e.intellimize))if(Ao.isValidObjectDefinition(e.intellimize)){const t=e.intellimize;this.setCallQueue(t.p),this.setReadyCallbackQueue(t.r)}else xo.consoleError("[Intellimize Api]: window.intellimize is an object that does not match the expected definition",116);else xo.consoleError("[Intellimize Api]: window.intellimize is not an object or an array",117);e.intellimize={ready:this.ready.bind(this),push:this.push.bind(this)}}extractCallQueue(){const{callQueue:e}=this;return this.callQueue=[],e}extractReadyCallbackQueue(){const{readyCallbackQueue:e}=this;return this.readyCallbackQueue=[],e}ready(e){xo.validateReadyCallback(e)&&(fs.debug("[Intellimize Api]: registering ready() callback"),this.readyCallbackQueue.push(e))}push(e){xo.validatePushCommand(e)&&(fs.debug("[Intellimize Api]: adding command to call queue"),this.callQueue.push([...e]))}setCallQueue(e){fs.debug("[Intellimize Api]: storing window.intellimize callQueue"),this.callQueue=[],e.forEach((e=>{xo.validatePushCommand(e)&&this.callQueue.push([...e])}))}setReadyCallbackQueue(e){fs.debug("[Intellimize Api]: storing window.intellimize readyCallbackQueue"),this.readyCallbackQueue=[],e.forEach((e=>{xo.validateReadyCallback(e)&&this.readyCallbackQueue.push(e)}))}}class Fo{constructor(e,t,i,s,n,r,o,a,l,c,u){__publicField(this,"customer"),__publicField(this,"user"),__publicField(this,"environment"),__publicField(this,"extensionManager"),__publicField(this,"serverContext"),__publicField(this,"taskManager"),__publicField(this,"browserStorage"),__publicField(this,"customerStorage"),__publicField(this,"externalApi"),__publicField(this,"attributeData"),__publicField(this,"elementObserver"),__publicField(this,"storageKey"),this.customer=e,this.user=t,this.environment=i,this.extensionManager=s,this.serverContext=n,this.taskManager=r,this.browserStorage=o,this.customerStorage=a,this.externalApi=l,this.attributeData=c,this.elementObserver=u,this.storageKey=ne+e.getId()}initialize(){if(!this.externalApi.isInitialized)throw new Error("ExternalApi needs to be initialized before calling InternalApi.initialize()");const e=this.environment.getWindow(),{intellimize:t}=e;void 0!==t?(t.plugins={},t.setLocalState=(e,t)=>{fs.info(`intellimize.setLocalState(${e}, ${t})`),this.setLocalState(e,t)},t.getLocalState=e=>{const t=this.getLocalState(e);return fs.info(`intellimize.getLocalState(${e}) => ${t}`),t},t.deleteLocalState=e=>{fs.info(`intellimize.deleteLocalState(${e})`),this.deleteLocalState(e)},t.getSessionId=()=>(fs.info("intellimize.getSessionId()"),this.getSessionId()),t.getUserId=()=>(fs.info("intellimize.getUserId()"),this.getUserId()),t.getPageviewId=()=>(fs.info("intellimize.getPageviewId()"),this.getPageviewId()),t.logErr=e=>{fs.error(`Customer error: ${e}`,1)},t.log=(e,t,s)=>{const n=1e4;s&&(!/^\d{5}$/.test(`${s}`)||s<10001||s>10999)&&(fs.error(`Called intellimize.log with an invalid message code. (Wanted: 10001 < code < 10999. Found: ${s})`,998),s=n);const r=null!=s?s:n;switch(t){case i.LogLevel.TRACE:case i.LogLevel.DEBUG:return void fs.debug(e,r);case i.LogLevel.INFO:return void fs.info(e,r);case i.LogLevel.WARN:return void fs.warn(e,r);case i.LogLevel.ERROR:return void fs.error(e,r);default:fs.error(`Called intellimize.log with an invalid LogLevel (${t}). Treating as "debug".`,999),fs.debug(e,r)}},t.applyChange=e=>{const t=Pn(Si(e),hn(e),0,this.attributeData,this.environment,this.browserStorage,this.extensionManager);return t.isReadyToApply()?(t.apply((()=>{}),this.elementObserver),F.APPLIED):F.UNAPPLIED},t.undoChange=e=>(Pn(Si(e),hn(e),0,this.attributeData,this.environment,this.browserStorage,this.extensionManager).undo(),F.UNAPPLIED),t.hasChangeData=e=>tn(e),t.getChangeTypeData=(e,t)=>cn(e,t),t.hasStarted=()=>{const e=this.taskManager.hasStarted();return fs.debug(`intellimize.hasStarted() => ${e}`),e},t.isDone=()=>{const e=this.taskManager.isDone();return fs.debug(`intellimize.isDone() => ${e}`),e},t.onDone=e=>{fs.debug("intellimize.onDone(callbackFunction)"),this.taskManager.onDone(e)},t.isRestarting=()=>{const e=this.taskManager.getClient().isRestarting();return fs.debug(`intellimize.isRestarting() => ${e}`),e},fs.getLevel()<=i.LogLevel.INFO&&(e[e.atob("aWNqc24=")]=this.customer.getData(),e[e.atob("aXBqc24=")]=()=>this.browserStorage.read(le+this.customer.getId()).map((e=>Ce(ke(this.environment,e)))).orElse({})),this.reinitialize()):fs.error("window.intellimize is undefined: Cannot initialize InternalApi",219)}reinitialize(){this.exposeAttributeData()}setLocalState(e,t){const i=this.readState();i[e]=t,this.writeState(i)}getLocalState(e){return this.readState()[e]}deleteLocalState(e){const t=this.readState();delete t[e],this.writeState(t)}getSessionId(){return this.customerStorage.updateAndGetSessionId()}getUserId(){return this.user.getId()}getPageviewId(){return this.environment.getPageviewId()}readState(){let e={};return this.browserStorage.read(this.storageKey).ifPresent((t=>{try{e=Ce(t)}catch(i){const e=new bt("Could not parse internal api storage",i);fs.error(e,33)}})),e}writeState(e){const t=we(e);this.browserStorage.write(this.storageKey,t)}exposeAttributeData(){var e;const t=this.environment.getWindow(),i=e=>{if(void 0!==e.cityName)return e.cityName.replace(/\s/g,"").toUpperCase()};t.iiloc={country:this.serverContext.location.countryIso,region:null!=(e=this.serverContext.location.subdivision2Iso)?e:this.serverContext.location.subdivision1Iso,city:i(this.serverContext.location),dma:this.serverContext.location.dmaCode,postal:this.serverContext.location.postalCode,tz:this.environment.getTimeZone()};const s=this.attributeData.getUserAgentData(),n=this.attributeData.getTrafficSourceData();t.icntxtlftrs={IP:this.serverContext.clientIp,D:s.deviceType,B:s.browser,OS:s.os,DC:s.deviceClass,DN:s.deviceName,DB:s.deviceBrand,OC:s.osClass,ON:s.osName,OV:s.osVersion,AC:s.agentClass,AN:s.agentName,AV:s.agentVersionMajor,TS:n};const r=this.attributeData.getUtmParamsData();t.iutmprms={uts:r.utmSource,utm:r.utmMedium,utcm:r.utmCampaign,utcn:r.utmContent,utt:r.utmTerm}}}const ko="UTC";let Po,Mo=!0;function Do(e){var t;if(void 0!==Po)return Po;if(Mo){if("undefined"===(null==(t=e.Intl)?void 0:t.DateTimeFormat))return void No();const i=e.Intl.DateTimeFormat();return void 0===i||void 0===i.resolvedOptions?void No():(Po=e.Intl,Po)}}function No(){Mo=!1,fs.error("Intl.DateTimeFormat().resolvedOptions() is not supported by the browser",1014)}function Oo(e){const t=Do(e);let i="";return void 0!==t&&(i=t.DateTimeFormat().resolvedOptions().timeZone),void 0===i||""===i?ko:i}const Ro=e=>"0"===e||"1"===e;function Lo(e){return t=>new RegExp("^"+e+"$").test(t)}const $o=e=>"true"===e||"false"===e;class Vo{constructor(e,t){__publicField(this,"isEditorMode"),__publicField(this,"_shouldRun"),__publicField(this,"_originAllowed"),__publicField(this,"experienceVariations",{}),__publicField(this,"_allPagesLive"),__publicField(this,"_allAudiencesLive"),__publicField(this,"_allEventsLive"),__publicField(this,"_passExperienceAudience"),__publicField(this,"_passVariationAudience"),__publicField(this,"_isControl"),__publicField(this,"_saveCustomerStorage"),__publicField(this,"_sendBrowserEvents"),__publicField(this,"_sendGoogleAnalytics"),__publicField(this,"_sendSegmentAnalytics"),__publicField(this,"_sendMixpanel"),__publicField(this,"_showStatusModule"),__publicField(this,"_showBasesite"),__publicField(this,"_expires"),__publicField(this,"attributeData",{location:{},utmParams:{},userAgent:{},dayPart:void 0,weekPart:void 0,trafficSource:void 0,custom:{},urlParam:{},userVisitStatus:void 0,userBucket:void 0}),__publicField(this,"_requestAnimationFrame");const i=us(t,e.getHostingPageUrl().getOrigin());i.isPresent()&&!i.get()&&(this._originAllowed=!1);const s=e.getHostingPageUrl().getQueryParam("intellimize_no_run",Lo("true")).isPresent(),n=e.getHostingPageUrl().getQueryParam("imize_editor",Lo("true")).isPresent();if(n)return void(this.isEditorMode=!0);s&&!n&&(this._shouldRun=!1);const r=e.getWindow().iOverride;if(void 0!==r){if(void 0!==r.experienceVariations){const{experienceVariations:e}=r;Object.keys(e).forEach((t=>{var i;null==(i=e[t])||i.forEach((e=>{t in this.experienceVariations||(this.experienceVariations[t]={}),this.experienceVariations[t][e]=!0}))}))}this._allPagesLive=r.allPagesLive,this._allAudiencesLive=r.allAudiencesLive,this._allEventsLive=r.allEventsLive,this._passExperienceAudience=r.passExperienceAudience,this._passVariationAudience=r.passVariationAudience,this._isControl=r.isControl,this._saveCustomerStorage=r.saveCustomerStorage,this._sendBrowserEvents=r.sendBrowserEvents,this._sendGoogleAnalytics=r.sendGoogleAnalytics,this._sendSegmentAnalytics=r.sendSegmentAnalytics,this._sendMixpanel=r.sendMixpanel,this._showStatusModule=r.showStatusModule,this._expires=r.expires}e.readLocalStorage("intellimize_override").ifPresent((e=>{let t={};try{t=Ce(e)}catch(i){const e=new bt("Could not parse override",i);fs.error(e,192)}void 0!==t.raf&&(this._requestAnimationFrame=t.raf)})),e.getHostingPageUrl().getQueryParam("iev",Lo("[0-9;:]+")).ifPresent((e=>{this.experienceVariations={},e.split(";").forEach((t=>{const i=t.split(":");if(2===i.length){const e=i[0],t=i[1];e in this.experienceVariations||(this.experienceVariations[e]={}),this.experienceVariations[e][t]=!0}else fs.error(`Override could not parse iev ${e}`,34)})),void 0!==r&&0!==Object.keys(r).length||(this._passExperienceAudience=!0,this._passVariationAudience=!0,this._saveCustomerStorage=!1,this._sendBrowserEvents=!1),this._isControl=!1,this._sendGoogleAnalytics=!1,this._sendSegmentAnalytics=!1,this._sendMixpanel=!1,this._showStatusModule=!0})),e.getHostingPageUrl().getQueryParam("showBasesite",Lo("1")).ifPresent((()=>{this._showBasesite=!0,this._showStatusModule=!0})),e.getHostingPageUrl().getQueryParam("iea",Ro).ifPresent((e=>{"1"===e&&(this._passExperienceAudience=void 0)})),e.getHostingPageUrl().getQueryParam("iva",Ro).ifPresent((e=>{"1"===e&&(this._passVariationAudience=void 0)})),e.getHostingPageUrl().getQueryParam("is",Ro).ifPresent((e=>{"1"===e?this._showStatusModule=!0:"0"===e&&(this._showStatusModule=!1)}));let o=!1;[["ictxt_city","city","([A-Z0-9]){1,40}"],["ictxt_region","state","([a-zA-Z0-9]){1,40}"],["ictxt_country","country","[A-Z]{2}"],["ictxt.city","city","([A-Z0-9]){1,40}"],["ictxt.region","state","([a-zA-Z0-9]){1,40}"],["ictxt.country","country","[A-Z]{2}"]].forEach((t=>{e.getHostingPageUrl().getQueryParam(t[0],Lo(t[2])).ifPresent((e=>{this.attributeData.location[t[1]]=e,o=!0}))}));[["ictxt_d","deviceType","[DPT]"]].forEach((t=>{e.getHostingPageUrl().getQueryParam(t[0],Lo(t[2])).ifPresent((e=>{this.attributeData.userAgent[t[1]]=e,o=!0}))})),e.getHostingPageUrl().getQueryParam("ictxt_ts",Lo("[A-Z]{2}")).ifPresent((e=>{this.attributeData.trafficSource=e,o=!0})),e.getHostingPageUrl().getQueryParam("raf",$o).ifPresent((e=>{"true"===e?this._requestAnimationFrame=!0:"false"===e&&(this._requestAnimationFrame=!1)})),o&&(this._isControl=!1,this._saveCustomerStorage=!1,this._sendBrowserEvents=!1,this._sendGoogleAnalytics=!1,this._sendSegmentAnalytics=!1,this._sendMixpanel=!1)}getExpirationMs(){return j.ofNullable(this._expires)}setExpiration(e){this._expires=e}getOverrideJson(){const e={allPagesLive:this._allPagesLive,allAudiencesLive:this._allAudiencesLive,allEventsLive:this._allEventsLive,isControl:this._isControl,passExperienceAudience:this._passExperienceAudience,passVariationAudience:this._passVariationAudience,saveCustomerStorage:this._saveCustomerStorage,sendBrowserEvents:this._sendBrowserEvents,sendGoogleAnalytics:this._sendGoogleAnalytics,sendMixpanel:this._sendMixpanel,showStatusModule:this._showStatusModule},t={};return Object.keys(this.experienceVariations).forEach((e=>{t[e]=Object.keys(this.experienceVariations[e])})),t&&Object.keys(t).length>0&&(e.experienceVariations=t),Object.keys(e).forEach((t=>{void 0===e[t]&&delete e[t]})),e}isPageLive(e){return j.ofNullable(this._allPagesLive)}isAudienceLive(e){return j.ofNullable(this._allAudiencesLive)}isEventLive(e){return j.ofNullable(this._allEventsLive)}isExperienceEnabled(e){return this.hasExperienceVariationsSet()?j.of(this.isExperienceSet(e)):j.empty()}passExperienceCondition(){return j.ofNullable(this._passExperienceAudience)}isExperienceIncluded(e){return this.hasExperienceVariationsSet()?j.of(this.isExperienceSet(e)):j.empty()}hasExperienceIds(){if(this.hasExperienceVariationsSet()){const e=Object.keys(this.experienceVariations);return fs.debug("hasExperienceIds => "+e+" (override)"),j.of(e)}return j.empty()}hasVariationIds(e){const t=e.getId();if(this.hasExperienceVariationsSet()&&t in this.experienceVariations){const e=Object.keys(this.experienceVariations[t]);return fs.debug("hasVariationIds => "+e+" (override)"),j.of(e)}return j.empty()}isVariationEnabled(e){return this.hasExperienceVariationsSet()?j.of(this.isVariationSet(e)):j.empty()}passVariationCondition(){return j.ofNullable(this._passVariationAudience)}isControl(){return j.ofNullable(this._isControl)}saveCustomerStorage(){const e=j.ofNullable(this._saveCustomerStorage);return e.ifPresent((e=>{fs.debug(`save CustomerStorage => ${e} (override)`)})),e}sendGoogleAnalytics(){const e=j.ofNullable(this._sendGoogleAnalytics);return e.ifPresent((e=>{fs.debug(`send GoogleAnalytics => ${e} (override)`)})),e}sendSegmentAnalytics(){const e=j.ofNullable(this._sendSegmentAnalytics);return e.ifPresent((e=>{fs.debug(`send SegmentAnalytics => ${e} (override)`)})),e}sendMixpanel(){const e=j.ofNullable(this._sendMixpanel);return e.ifPresent((e=>{fs.debug(`send Mixpanel => ${e} (override)`)})),e}getAttributeDataOverrides(){return __spreadValues({},this.attributeData)}showStatusModule(){return j.ofNullable(this._showStatusModule)}isExperienceSet(e){return!0!==this._showBasesite&&e.getId()in this.experienceVariations}isVariationSet(e){var t;const i=e.getExperience().getId(),s=e.getId();return Boolean(null==(t=this.experienceVariations[i])?void 0:t[s])}showBasesite(){return j.ofNullable(this._showBasesite)}requestAnimationFrame(){return j.ofNullable(this._requestAnimationFrame)}hasExperienceVariationsSet(){return!0===this._showBasesite||Object.keys(this.experienceVariations).length>0}shouldRun(){return j.ofNullable(this._shouldRun)}shouldHide(){return!0===this.isEditorMode||!1===this._originAllowed?j.of(!1):j.empty()}useStorageType(){return!0===this.isEditorMode||!1===this._originAllowed||this.hasExperienceVariationsSet()?j.of("SessionStorage"):j.empty()}useElementObserver(){return!0===this.isEditorMode||!1===this._originAllowed?j.of(!1):j.empty()}injectVisualEditor(){return!0===this.isEditorMode?j.of(!0):j.empty()}shouldRunTasks(){let e;return!0!==this.isEditorMode&&!1!==this._originAllowed||(e=!1),void 0!==e&&fs.debug(`send BrowserEvent => ${e} (override)`),j.ofNullable(e)}sendNonPageviewBrowserEvents(){let e;return!1!==this._sendBrowserEvents&&!1!==this._originAllowed&&!0!==this.isEditorMode||(e=!1),void 0!==e&&fs.debug(`send BrowserEvent => ${e} (override)`),j.ofNullable(e)}sendPageviewBrowserEvents(){let e;return!1===this._sendBrowserEvents&&(e=!1),!0===this.isEditorMode&&(e=!1),void 0!==e&&fs.debug(`send BrowserEvent => ${e} (override)`),j.ofNullable(e)}shouldCheckOptOut(){return!0===this.isEditorMode||!1===this._originAllowed?j.of(!1):j.empty()}saveActivity(){let e;return!1!==this._sendBrowserEvents&&!1!==this._originAllowed&&!0!==this.isEditorMode||(e=!1),void 0!==e&&fs.debug(`save activity => ${e} (override)`),j.ofNullable(e)}}class Uo{constructor(e,t,i,s,n,r,o,a,l,c,u){__publicField(this,"environment"),__publicField(this,"browserStorage"),__publicField(this,"extensionManager"),__publicField(this,"customer"),__publicField(this,"conditionEvaluationRuntime"),__publicField(this,"attributeData"),__publicField(this,"override"),__publicField(this,"taskManager"),__publicField(this,"elementObserver"),__publicField(this,"hider"),__publicField(this,"statusModel"),__publicField(this,"pages",[]),__publicField(this,"audiences",[]),__publicField(this,"pageviewId"),__publicField(this,"pageChangelistTasks",{}),this.environment=e,this.browserStorage=t,this.extensionManager=i,this.customer=s,this.conditionEvaluationRuntime=n,this.attributeData=r,this.override=o,this.taskManager=a,this.hider=l,this.elementObserver=c,this.statusModel=u}reinitialize(){const e=this.environment.getPageviewId();this.pageviewId===e&&fs.error("PageContext.reinitialize() called more than once per pageview",244),this.pages=this.determineMatchingPages(),this.hider.hidePages(this.pages,this.browserStorage,this.attributeData),this.hider.revealDocumentIfAllRegionsHidden(),this.pageChangelistTasks=this.schedulePageChangeListTasks(),this.audiences=this.determineMatchingAudiences(),this.pageviewId=e}getPages(){return this.pageviewId!==this.environment.getPageviewId()&&fs.error("PageContext.getPages() called before initialization",151),this.pages}getPageChangelistTask(e){return this.pageviewId!==this.environment.getPageviewId()&&fs.error("PageContext.getPageChangeListTask() called before initialization",243,{pageId:e.getId()}),j.ofNullable(this.pageChangelistTasks[e.getId()])}getAudiences(){return this.pageviewId!==this.environment.getPageviewId()&&fs.error("PageContext.getAudiences() called before initialization",152),this.audiences}determineMatchingPages(){const e=this.customer.getPages().filter((e=>this.override.isPageLive(e).orElse("live"===e.getState()))),t=this.environment.getHostingPageUrl().getRawUrl(),i=e.filter((e=>e.matches(t,ks.evalBoolean))),s=Vi.filterPages(i);return s.length>0?s:i}schedulePageChangeListTasks(){const e={};return this.override.shouldRunTasks().orElse(!0)&&this.pages.forEach((t=>{const i=t.getChanges().map(((e,i)=>Pn(e,dn(t),i,this.attributeData,this.environment,this.browserStorage,this.extensionManager)));if(i.length>0){const s=new so(i,(()=>{this.hider.revealPage(t,this.browserStorage,this.attributeData)}),{pageId:t.getId()},this.elementObserver);e[t.getId()]=s,this.taskManager.addTask(s),this.statusModel.setPage(t,"status",s.getStatus()),s.onDone((()=>{this.statusModel.setPage(t,"status",s.getStatus())}))}else this.hider.revealPage(t,this.browserStorage,this.attributeData)})),e}determineMatchingAudiences(){return this.customer.getAudiences().filter((e=>this.override.isAudienceLive(e).orElse("live"===e.getState()))).filter((e=>{let t=!1;try{t=e.getCondition().evaluate(this.conditionEvaluationRuntime)}catch(i){t=!1;const s=new bt("Audience condition evaluation failed ",i);fs.error(s,205,{audienceId:e.getId()})}return fs.debug(`check audience: ${e.getName()} (${e.getId()}) => ${t}`),t}))}}class Wo{update(){}}class zo{constructor(e,t,i,s){__publicField(this,"environment"),__publicField(this,"localStorage"),__publicField(this,"customer"),__publicField(this,"override"),__publicField(this,"overrideModule"),__publicField(this,"eventLogStorageKey"),__publicField(this,"expVarModel",{campaigns:{}}),__publicField(this,"pageModel",{}),__publicField(this,"eventModel",{count:0,campaigns:{}}),this.customer=t,this.environment=e,this.localStorage=s,this.override=i,this.eventLogStorageKey=`${pe}event_log_${t.getId()}`,this.overrideModule=new Wo(this.environment,i,this.customer,this.reinitializeGoalEvents.bind(this)),this.initializeGoalEvents()}reinitializeExperienceVariations(){this.expVarModel={campaigns:{}},this.overrideModule.update({experienceVariations:this.expVarModel})}reinitializeGoalEvents(){this.eventModel={count:0,campaigns:{}},this.writeEventModelToLocalStorage(),this.initializeGoalEvents(),this.overrideModule.update({goalEvents:this.eventModel})}initializeGoalEvents(){this.eventModel=this.readEventModelFromLocalStorage();const e=this.environment.getHostingPageUrl().getRawUrl();this.customer.getEvents().forEach((t=>{let i="custom"===t.getType();(t instanceof _t||t instanceof Tt)&&(i=t.getPages().some((t=>t.matches(e,(()=>!0))))),i&&t.getMetrics().forEach((e=>{e.getCampaign().ifPresent((t=>{this.getCampaignEventData(t).metrics[e.getId()]=this.getMetricEventData(e)}))}))})),this.overrideModule.update({goalEvents:this.eventModel})}setCustomer(e,t){this.expVarModel[e]=t,this.overrideModule.update({experienceVariations:this.expVarModel})}setCampaign(e,t,i){const s=this.getCampaignData(e),n=s[t];s[t]=i,n!==i&&this.overrideModule.update({experienceVariations:this.expVarModel})}setExperience(e,t,i){const s=this.getExperienceData(e),n=s[t];s[t]=i,n!==i&&!0===(null==s?void 0:s.enabled)&&this.overrideModule.update({experienceVariations:this.expVarModel})}setVariation(e,t,i){const s=this.getVariationData(e),n=s[t];s[t]=i,n!==i&&this.overrideModule.update({experienceVariations:this.expVarModel})}setPage(e,t,i){this.getPageData(e)[t]=i,this.overrideModule.update({pagesChanges:this.pageModel})}setExperienceSortedVariations(e,t){this.getExperienceData(e).variationsSorted=t,this.overrideModule.update({experienceVariations:this.expVarModel})}setMetricEventData(e){this.eventModel=this.readEventModelFromLocalStorage(),e.forEach((({metric:e,event:t,status:i,id:s})=>{if(!e.getCampaign().isPresent())return;const n=this.getCampaignEventData(e.getCampaign().get()),r=this.getMetricEventData(e);void 0===r.events[s]?(r.events[s]={name:t.getName(),type:t.getType(),status:i,instanceId:s},this.eventModel.count+=1,n.count+=1,r.count+=1):(r.events[s].status=i,r.events[s].timestamp=i===wr.SUCCEEDED?(new Date).toISOString():void 0,r.count=Object.keys(r.events).length)})),this.overrideModule.update({goalEvents:this.eventModel}),this.writeEventModelToLocalStorage()}getCampaignData(e){return void 0===this.expVarModel.campaigns[e.getId()]&&(this.expVarModel.campaigns[e.getId()]={campaign:e,experiences:{}}),this.expVarModel.campaigns[e.getId()]}getExperienceData(e){const t=this.getCampaignData(e.getCampaign());return void 0===t.experiences&&(t.experiences={}),void 0===t.experiences[e.getId()]&&(t.experiences[e.getId()]={experience:e,variations:{},variationsSorted:[]}),t.experiences[e.getId()]}getVariationData(e){const t=this.getExperienceData(e.getExperience());return void 0===t.variations&&(t.variations={}),void 0===t.variations[e.getId()]&&(t.variations[e.getId()]={variation:e}),t.variations[e.getId()]}getPageData(e){var t;const i=null!=(t=this.pageModel[e.getId()])?t:{page:e,status:wr.NOT_STARTED};return this.pageModel[e.getId()]=i,i}getMetricEventData(e){if(!e.getCampaign().isPresent())throw new V("Metric not in campaign");const t=this.getCampaignEventData(e.getCampaign().get());return void 0===t.metrics[e.getId()]&&(t.metrics[e.getId()]=this.getInitialMetricEventData(e)),t.metrics[e.getId()]}getCampaignEventData(e){return void 0===this.eventModel.campaigns[e.getId()]&&(this.eventModel.campaigns[e.getId()]={name:e.getName(),count:0,metrics:{}}),this.eventModel.campaigns[e.getId()]}getMetricMeasurement(e){const t=e.getCountingMethod(),i=e.getScope();let s,n;return e instanceof Qi?(n=`$${(e.getValue()/100).toFixed(2)}`,s=`${t} static value per ${i}`):s=e instanceof Hi?`${t} dynamic value per ${i}`:`${t} conversion per ${i}`,{measurement:s,value:n}}getInitialMetricEventData(e){return __spreadValues({name:e.getName(),isGoal:e.isGoal(),events:{},count:0},this.getMetricMeasurement(e))}shouldUseLocalStorage(){let e=!1;return this.override.getExpirationMs().ifPresent((t=>{e=t>Date.now()})),e}deleteEventModelFromLocalStorage(){this.localStorage.delete(this.eventLogStorageKey)}writeEventModelToLocalStorage(){this.shouldUseLocalStorage()&&this.localStorage.write(this.eventLogStorageKey,we(this.eventModel))}readEventModelFromLocalStorage(){let e=this.eventModel;return this.shouldUseLocalStorage()?this.localStorage.read(this.eventLogStorageKey).ifPresent((t=>{try{e=Ce(t)}catch(i){}})):this.deleteEventModelFromLocalStorage(),e}}class jo{reinitializeExperienceVariations(){}reinitializeGoalEvents(){}setCustomer(e,t){}setCampaign(e,t,i){}setExperience(e,t,i){}setVariation(e,t,i){}setPage(e,t,i){}setExperienceSortedVariations(e,t){}setMetricEventData(e){}}class Bo{constructor(e,t,i,s){__publicField(this,"storageKey"),__publicField(this,"environment"),__publicField(this,"browserStorage"),__publicField(this,"user"),__publicField(this,"pageviewAttributes",{id:void 0,custom:{},internal:{}}),this.storageKey=re+e.getId(),this.browserStorage=i,this.environment=t,this.user=s}setCustomAttributes(e,t){const i=this.getAttributeData(e);Object.keys(t).forEach((e=>{i.custom[e]=t[e]})),this.saveAttributeData(e,i)}setInternalAttributes(e,t){const i=this.getAttributeData(e);Object.keys(t).forEach((e=>{i.internal[e]=t[e]})),this.saveAttributeData(e,i)}getCustomAttributes(e,t){const i=this.getAttributeData(e),s={};return Object.keys(i.custom).forEach((e=>{(void 0===t||t.includes(e))&&(s[e]=i.custom[e])})),s}getInternalAttributes(e,t){const i=this.getAttributeData(e),s={};return Object.keys(i.internal).forEach((e=>{(void 0===t||t.includes(e))&&(s[e]="object"==typeof i.internal[e]?Ce(we(i.internal[e])):i.internal[e])})),s}getFlattenedCustomAttributes(){const e=this.getCustomAttributes("user"),t=this.getCustomAttributes("pageview");return Object.keys(t).forEach((i=>{e[i]=t[i]})),e}getFlattenedInternalAttributes(){const e=this.getInternalAttributes("user"),t=this.getInternalAttributes("pageview");return Object.keys(t).forEach((i=>{e[i]=t[i]})),e}deleteCustomAttributes(e,t){const i=this.getAttributeData(e);for(const s in i.custom)Object.prototype.hasOwnProperty.call(i.custom,s)&&(void 0===t||t.includes(s))&&delete i.custom[s];this.saveAttributeData(e,i)}deleteInternalAttributes(e,t){const i=this.getAttributeData(e);void 0===t?i.internal={}:t.forEach((e=>{delete i.internal[e]})),this.saveAttributeData(e,i)}getAttributeData(e){let t,i={id:void 0,custom:{},internal:{}};return"pageview"===e?(i=this.pageviewAttributes,t=this.environment.getPageviewId()):"user"===e?(i=this.readBrowserStorage(),t=this.user.getId()):fs.error(`Tried to get attribute data for invalid scope ${e}`,49),t!==i.id&&(fs.debug(`Mismatching IDs ("${t}" != "${i.id}"). Resetting AttributeData`),i.id=t,i.internal={},i.custom={}),i}saveAttributeData(e,t){"pageview"===e||("user"===e?this.saveBrowserStorage(t):fs.error(`Tried to save attribute data for invalid scope ${e}`,50))}readBrowserStorage(){let e={id:void 0,custom:{},internal:{}};return this.browserStorage.read(this.storageKey).ifPresent((t=>{try{e=Ce(t)}catch(i){const e=new bt("Could not parse attribute storage",i);fs.error(e,51)}})),e}saveBrowserStorage(e){const t=we(e);this.browserStorage.write(this.storageKey,t)}}class Go{constructor(e,t,i,s){__publicField(this,"storageKey"),__publicField(this,"browserStorage"),__publicField(this,"environment"),__publicField(this,"override"),this.storageKey=ae+e.getId(),this.browserStorage=i,this.environment=t,this.override=s}static get VERSION(){return 2}static getPath(e,t){if(0===t.length)return e;const i=t[0];return i in e||(e[i]={}),t.splice(0,1),Go.getPath(e[i],t)}getCustomerControlStatus(e){if(!e.isCampaignControl()){const e=this.readState();if(!0===e.c)return j.of("c");if(!1===e.c)return j.of("i");this.override.saveCustomerStorage().orElse(!0)&&fs.warn("Attempting to retrieve control value, but not set",52)}return j.empty()}updateAndGetControl(e){fs.debug("updateAndGetControl(campaign)");const t=e.getCustomer();return t.isCampaignControl()?this.setAndGetCampaignControl(e):this.setAndGetCustomerControl(t)}setAndGetCustomerControl(e){R(!e.isCampaignControl());const t=this.readState(),i=t,s=e.getControlTrafficPercentage().get();return void 0!==t.cpg&&Object.keys(t.cpg).forEach((e=>{void 0!==t.cpg&&(delete t.cpg[e].c,delete t.cpg[e].ct)})),this.setAndGetControl(e,i,t,s)}updateAndGetExperienceInclusion(e){const t=this.environment.getInitializeUnixTime(),i=this.readState(),s=e.getId(),n=e.getCampaign().getId(),r=Go.getPath(i,["cpg",n,"exp",s]);if(e.getInclusionStickyConfig().isSticky()&&void 0!==r.i&&void 0!==r.it){const i=r.it;if(!e.getInclusionStickyConfig().isExpired(t,i)){const t=r.i;return fs.info(`Experience ${e.getId()} sticky inclusion decision => ${t}`),t}}const o=Math.random()<1-e.getIgnore()/1e4;return r.i=o,r.it=t,this.writeState(i),fs.info(`Experience ${e.getId()} new inclusion decision => ${o}`),o}getStickyVariation(e){fs.group("getStickyVariation(experience:"+e.getId()+")");const t=this.environment.getInitializeUnixTime(),i=this.readState(),s=e.getId(),n=e.getCampaign().getId(),r=Go.getPath(i,["cpg",n,"exp",s]);if(e.getVariationStickyConfig().isSticky()&&void 0!==r.v&&void 0!==r.vt){const i=r.vt;if(!e.getVariationStickyConfig().isExpired(t,i))return fs.debug("found sticky, non-expired variation: "+r.v),fs.groupEnd(),e.getVariation(r.v)}return fs.groupEnd(),j.empty()}getVariation(e){fs.group("getVariation(experience:"+e.getId()+")");const t=this.readState(),i=e.getId(),s=e.getCampaign().getId(),n=Go.getPath(t,["cpg",s,"exp",i]);return void 0!==n.v?(fs.groupEnd(),e.getVariation(n.v)):(fs.groupEnd(),j.empty())}saveVariationStickySelection(e,t){const i=e.getExperience().getId(),s=e.getExperience().getCampaign().getId(),n=this.readState(),r=Go.getPath(n,["s"]),o=Go.getPath(n,["cpg",s,"exp",i]);e.getId()!==o.v&&fs.error(`Updating variation page view id in local storage, but variation changed from ${o.v} to ${e.getId()}`,53,{campaignId:s,experienceId:i,variationId:e.getId()}),o.v=e.getId(),o.gpvid=t,o.gsid=r.id,this.writeState(n)}saveVariationPredictionSelection(e,t,i){const s=e.getExperience().getId(),n=e.getExperience().getCampaign().getId(),r=this.readState(),o=Go.getPath(r,["s"]),a=Go.getPath(r,["cpg",n,"exp",s]);a.v=e.getId(),a.vt=this.environment.getNowUnixTime(),a.mv=t,a.gpvid=i,a.gsid=o.id,this.writeState(r)}deleteExperiencePredictionSelection(e){const t=e.getId(),i=e.getCampaign().getId(),s=this.readState(),n=Go.getPath(s,["cpg",i,"exp",t]);0!==Object.keys(n).length&&(delete n.v,delete n.vt,delete n.mv,delete n.gpvid,delete n.gsid,this.writeState(s))}updateAndGetIsCampaignFirstTimeView(e,t){return this.updateAndGetIsFirstTime([e.getId(),"v"],t)}updateAndGetIsCampaignFirstTimeGoal(e,t,i){return this.updateAndGetIsFirstTime([e.getId(),t.getId(),"g"],i)}updateAndGetIsVariationFirstTimeView(e,t){return this.updateAndGetIsFirstTime([e.getExperience().getCampaign().getId(),e.getExperience().getId(),e.getId(),"v"],t)}updateAndGetIsVariationFirstTimeGoal(e,t,i){return this.updateAndGetIsFirstTime([e.getExperience().getCampaign().getId(),t.getId(),e.getExperience().getId(),e.getId(),"g"],i)}getVariationPredictionModelVersion(e){const t=this.readState(),i=Go.getPath(t,["cpg",e.getExperience().getCampaign().getId(),"exp",e.getExperience().getId()]);return j.ofNullable(i.mv)}getVariationPredictionPageviewId(e){const t=this.readState(),i=Go.getPath(t,["cpg",e.getExperience().getCampaign().getId(),"exp",e.getExperience().getId()]);return j.ofNullable(i.gpvid)}getVariationPredictionSessionId(e){const t=this.readState(),i=Go.getPath(t,["cpg",e.getExperience().getCampaign().getId(),"exp",e.getExperience().getId()]);return j.ofNullable(i.gsid)}getPageviewSelections(e){const t=[],i=this.readState();return void 0!==i.cpg&&Object.keys(i.cpg).forEach((s=>{if(void 0!==i.cpg){const n=i.cpg[s];"exp"in n&&Object.keys(n.exp).forEach((i=>{const r=n.exp[i];void 0!==r.v&&"gpvid"in r&&r.gpvid===e&&t.push({campaignId:s,experienceId:i,variationId:r.v})}))}})),t}getSessionId(){const e=this.readState(),t=Go.getPath(e,["s"]);return j.ofNullable(t.id)}updateAndGetSessionId(){const e=this.environment.getNowUnixTime(),t=this.readState(),i=Go.getPath(t,["s"]);return void 0===i.st&&(i.st=e),(void 0===i.id||void 0===i.t||e-i.t>Y||e-i.st>J)&&(fs.debug("Starting a new session"),i.id=this.generateSessionId(),i.st=e),fs.debug("Extending current session"),i.t=e,this.writeState(t),i.id}getUserVisitStatus(e){return this.isFirstSession(e)?"N":"R"}isFirstSession(e){const t=e.getFirstVisitTimeSec();this.updateAndGetSessionId();const i=this.readState(),s=Go.getPath(i,["s"]).st;return fs.info(`user.getId(): ${e.getId()}`),fs.info(`userCreationTimeSec: ${t}`),fs.info(`currentSessionStartTimeSec: ${s}`),Math.abs(t-s)<Y/2}setAndGetCampaignControl(e){const t=e.getCustomer();R(t.isCampaignControl());const i=this.readState(),s=Go.getPath(i,["cpg",e.getId()]),n=e.getControlTrafficPercentage().get();return delete i.c,delete i.ct,this.setAndGetControl(t,s,i,n)}setAndGetControl(e,t,i,s){const n=this.environment.getInitializeUnixTime();if(e.getControlStickyConfig().isSticky()||fs.error("Control is not sticky, but should be",54),e.getControlStickyConfig().isSticky()&&void 0!==t.c&&void 0!==t.ct){const i=t.ct;if(!e.getControlStickyConfig().isExpired(n,i))return fs.debug("control: "+t.c+" (sticky decision)"),t.c;fs.error(`Control sticky decision expired. now:${n}, last:${i}`,55)}void 0!==t.c&&fs.error(`Making new control decision, but c is present: ${t.c}`,56),void 0!==t.ct&&fs.error(`Making new control decision, but ct is present: ${t.ct}`,57);const r=Math.random()<s;return t.c=r,t.ct=n,this.writeState(i),fs.debug("control: "+t.c),r}generateSessionId(){return this.environment.getNowUnixTime()+"-"+vn()}updateAndGetIsFirstTime(e,t){let i=!1;const s=this.readState(),n=Go.getPath(s,["uu"]),r=e.join(":");return r in n?n[r]===t&&(i=!0):(n[r]=t,this.writeState(s),i=!0),i}readState(){let e={};return this.browserStorage.read(this.storageKey).ifPresent((t=>{try{e=Ce(t)}catch(i){const e=new bt("Could not parse customer storage",i);fs.error(e,58)}})),$(!Object.prototype.hasOwnProperty.call(e,"vr")||e.vr===Go.VERSION),e}writeState(e){e.vr=Go.VERSION;const t=we(e);this.override.saveCustomerStorage().orElse(!0)&&this.browserStorage.write(this.storageKey,t)}}class Ho{constructor(e,t){__publicField(this,"customer"),__publicField(this,"storageKey"),__publicField(this,"browserStorage"),this.customer=e,this.storageKey=`${oe}${e.getId()}`,this.browserStorage=t,this.initialize()}setDataAndMetadata(e,t,i){const s=this.getAllDataAndMetadata();s.data[e]=t,s.meta[e]=i,this.setAll(s)}getData(e){const t=this.getAllData()[e];return void 0===t||0===Object.keys(t).length?j.empty():j.ofNullable(t)}getAllData(){return this.getAllDataAndMetadata().data}getMetadata(e){const t=this.getAllMetdata()[e];return void 0===t||0===Object.keys(t).length?j.empty():j.ofNullable(t)}getAllMetdata(){return this.getAllDataAndMetadata().meta}setAllDataAndMetadata(e,t){const i={data:e,meta:t};this.setAll(i)}deleteAll(){this.browserStorage.delete(this.storageKey)}getAllDataAndMetadata(){const e=this.browserStorage.read(this.storageKey);let t=this.emptyStorage();if(e.ifPresent((e=>{try{t=Ce(e)}catch(i){const e=new bt("Could not parse integration data storage",i);fs.error(e,59),this.deleteAll()}})),null==t||0===Object.keys(t).length)t=this.emptyStorage();else{const e=t;Ls(e)&&void 0===e.__marketoLead||(t=this.emptyStorage())}return void 0===t.meta&&(t.meta={}),mr(t.data.marketo)&&(t.data.marketo={}),t}setAll(e){const t=this.emptyStorage();nr.forEach((i=>{Ir[i](this.customer)&&(t.data[i]=e.data[i],t.meta[i]=e.meta[i])})),this.browserStorage.write(this.storageKey,we(t))}emptyStorage(){return{data:{},meta:{}}}initialize(){const e=this.getAllDataAndMetadata();nr.forEach((t=>{Ir[t](this.customer)||(delete e.data[t],delete e.meta[t])})),this.setAll(e)}}class Qo{constructor(e){if(__publicField(this,"environment"),!Xr(e,"localStorage"))throw new Error("LocalStorage is not available");this.environment=e}write(e,t){Yr(e)||fs.error(`Writing an unknown key to LocalStorage: ${e}`,180),this.environment.writeLocalStorage(e,t)}read(e){return this.environment.readLocalStorage(e)}delete(e){this.environment.deleteLocalStorage(e)}}class qo{constructor(e,t){__publicField(this,"storageKey"),__publicField(this,"browserStorage"),this.storageKey=ce+e.getId(),this.browserStorage=t}static fromJson(e){try{const t=Ce(e);return j.of(t)}catch(t){const e=new bt("Could not build server context from localStorage",t);fs.error(e,157)}return j.empty()}set(e){this.browserStorage.write(this.storageKey,we(e))}get(){return this.browserStorage.read(this.storageKey).flatMap((e=>qo.fromJson(e)))}clear(){this.browserStorage.delete(this.storageKey)}}var Ko={},Yo={get exports(){return Ko},set exports(e){Ko=e}},Jo={};!function(e){function t(e,t){var i,s,n,r,o,a,l,c;for(i=3&e.length,s=e.length-i,n=t,o=3432918353,a=461845907,c=0;c<s;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,n=27492+(65535&(r=5*(65535&(n=(n^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:n^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0}e.exports=t}({get exports(){return Jo},set exports(e){Jo=e}});var Xo={};!function(e){function t(e,t){for(var i,s=e.length,n=t^s,r=0;s>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),s-=4,++r;switch(s){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}e.exports=t}({get exports(){return Xo},set exports(e){Xo=e}});var Zo=Jo,ea=Xo;Yo.exports=Zo;var ta=Ko.murmur3=Zo;function ia(e,t){return ta(e,t)}Ko.murmur2=ea;const sa=__pow(2,32);function na(e,t){const i=(e>>>0)/sa;return Math.floor(i*t)}class ra{constructor(e,t,i){let s;__publicField(this,"browserStorage"),__publicField(this,"environment"),__publicField(this,"id"),__publicField(this,"storageKey"),this.browserStorage=e,this.environment=t,this.storageKey=`${de}${i.getId()}`,this.browserStorage.read(this.storageKey).ifPresent((e=>{s=e,fs.debug(`User: Found existing User ID: ${s}`)})),void 0===s&&(s=this.generateId(),fs.debug(`User: No existing User ID; generated new ID: ${s}`),this.browserStorage.write(this.storageKey,s)),this.id=s}getId(){if(void 0===this.id)throw new L("user id not defined");const e=this.browserStorage.read(this.storageKey);return e.isPresent()?e.get()!==this.id&&fs.error(`User id in memory (${this.id}) not the same as user id in localStorage (${e.get()})`,62):fs.error("User id is missing from localStorage",61),this.id}isNewVisitor(){const e=this.getFirstVisitTimeSec();return this.environment.getNowUnixTime()-e<X}isReturningVisitor(){return!this.isNewVisitor()}getFirstVisitTimeSec(){const e=this.getId().split(".",2);return Number(e[1])}getUserBucket(){const e=100,t=na(ia(this.getId(),1),e);return Math.floor(t+1)}generateId(){const e=this.environment.getNowUnixTime();return`${bn()}.${e}`}}class oa{constructor(e,t){__publicField(this,"client"),__publicField(this,"environment"),__publicField(this,"taskQueue",[]),__publicField(this,"completedTasks",[]),__publicField(this,"isRunning",!1),__publicField(this,"isStopping",!1),__publicField(this,"timeoutId"),__publicField(this,"queueChecksum"),__publicField(this,"doneCallbacks",[]),__publicField(this,"latestQueueChecksum"),__publicField(this,"latestQueueTimeMs"),this.client=e,this.environment=t}onDone(e){this.doneCallbacks.push(e)}isDone(){return 0===this.taskQueue.length}hasStarted(){return this.taskQueue.length>0||this.completedTasks.length>0}getClient(){return this.client}addTask(e){fs.debug("TaskManager.addTask("+e.toString()+")"),this.isStopping?fs.warn(`Rejecting addTask(${e.toString()}) request since TaskManager is stopping`,35,e.getEntityIds()):(e.setManager(this),this.handleNotDone(e),this.queueChecksum=void 0,this.runAfter(0))}runNow(){fs.debug("TaskManager run now - synchronously"),this.eventLoop()}findTasks(e){return[...this.taskQueue,...this.completedTasks].filter((t=>e(t)))}stop(){fs.debug("TaskManager.stop()"),this.isStopping=!0,this.runAfter(0)}eventLoop(){if(fs.group("TaskManager.eventLoop()"),fs.time("TaskManager.eventLoop()"),this.isRunning)return fs.debug("TaskManager called again when already running. Back to work..."),void fs.groupEnd();if(this.isRunning=!0,this.clearTimeout(),this.taskQueue.length>0&&void 0!==this.latestQueueChecksum&&void 0!==this.latestQueueTimeMs&&this.environment.getNowUnixTimeMs()-this.latestQueueTimeMs>NO_PROGRESS_TOLERANCE_TIME_MS&&!this.isQueueBlocked()){const e=this.extractVictim();void 0===e?fs.error("Unable to extract latest task when trying to make progress",37):(fs.error(`Unable to make progress. Canceling task ${e.toString()}. Queue: ${this.queueToString()}`,36,e.getEntityIds()),this.cancelTask(e))}if(this.isStopping?this.stopTasks():this.runTasks(),this.taskQueue.length>0){const e=this.computeChecksum();e!==this.latestQueueChecksum&&(this.latestQueueChecksum=e,this.latestQueueTimeMs=this.environment.getNowUnixTimeMs())}else this.latestQueueChecksum=void 0,this.latestQueueTimeMs=void 0;if(this.taskQueue.length>0)this.isQueueBlocked()?(fs.debug("TaskManager queue is blocked on WAITING tasks. Sleeping."),this.clearTimeout(),this.latestQueueChecksum=void 0,this.latestQueueTimeMs=void 0):(fs.debug("TaskManager schedule callback for later"),this.runAfter(K));else if(this.isStopping)fs.debug("TaskManager schedule callback for now"),this.runAfter(0);else{for(fs.group("TaskManager done"),this.clearTimeout(),this.latestQueueChecksum=void 0,this.latestQueueTimeMs=void 0;this.doneCallbacks.length>0;){const e=this.doneCallbacks.shift();void 0!==e&&(fs.group("executing done callback"),ks.executeFunction(e,155),fs.groupEnd())}fs.groupEnd()}this.isRunning=!1,fs.timeEnd("TaskManager.eventLoop()"),fs.groupEnd()}extractVictim(){let e;for(let t=0;t<this.taskQueue.length;t++)this.taskQueue[t].isBlocked()||(void 0===e||this.taskQueue[t].getId()>this.taskQueue[e].getId())&&(e=t);if(void 0!==e)return this.taskQueue.splice(e,1)[0]}stopTasks(){fs.group("TaskManager.stopTasks()");for(const e of this.completedTasks)e.cleanup();for(;this.taskQueue.length>0;){const e=this.taskQueue.shift();void 0!==e&&(fs.error(`Stopping and had to cancel task ${e.toString()}`,38,e.getEntityIds()),this.cancelTask(e))}for(;this.completedTasks.length>0;)this.completedTasks.shift();fs.debug("Cleanup of all Tasks complete. taskQueue and completedTasks are now empty"),fs.groupEnd(),this.isStopping=!1}cancelTask(e){void 0!==e&&(fs.debug("Canceling task "+e.toString()),e.cancel(),this.handleDone(e))}handleNotDone(e){this.taskQueue.push(e)}handleDone(e){this.completedTasks.push(e),this.queueChecksum=void 0}runTasks(){fs.group("TaskManager.runTasks()"),this.queueChecksum=this.computeChecksum();let e=!0;for(;0!==this.taskQueue.length;){const t=this.getUnloadingTasks();if(!e&&0===t.length)break;fs.debug(`task queue: ${this.queueToString()}`);const i=this.taskQueue.shift();if(void 0===i)continue;let s=!1,n=!1;t.length>0&&(i.isUnloading()&&e?s=!0:0===i.getNotDoneDependencies().length&&(n=!0));const r=this.computeChecksum();let o;s?(fs.debug(`Skipping unloading task ${i.toString()}. TM in unloading state and still making progress`),o=wr.TRY_LATER):i.getStatus()===wr.WAITING?(fs.debug(`Skipping waiting task ${i.toString()}`),o=wr.WAITING):(fs.debug(`TaskManager running ${i.toString()}`),fs.time(`Task running ${i.toString()}`),o=i.runWrapper(),fs.timeEnd(`Task running ${i.toString()}`),fs.debug("TaskManager "+i.toString()+" returned "+wr[o]));const a=this.computeChecksum();if(n&&r!==a&&(n=!1),n&&!i.isDone())i.inTransaction()&&fs.warn(`Unloading ${t[0].toString()} and transaction task is not done. Canceling ${i.toString()}`,39,i.getEntityIds()),this.cancelTask(i);else switch(o){case wr.TRY_LATER:this.handleNotDone(i);break;case wr.FAILED:case wr.SUCCEEDED:this.handleDone(i);break;case wr.CANCELED:this.handleDone(i),fs.debug("Task self-canceled "+i.toString());break;case wr.WAITING:this.handleNotDone(i);break;default:this.handleDone(i),fs.error(`Invalid task status ${o} for ${i.toString()}`,40,i.getEntityIds())}const l=this.computeChecksum();if(l!==this.queueChecksum){if(this.isStopping)break;void 0===this.queueChecksum&&(this.queueChecksum=l)}else e=!1}fs.debug("No more work to do now."),fs.groupEnd()}getUnloadingTasks(){return this.taskQueue.filter((e=>e.isUnloading()))}clearTimeout(){void 0!==this.timeoutId&&(fs.debug("TaskManager clearing timeoutId: "+this.timeoutId),this.environment.getWindow().clearTimeout(this.timeoutId),this.timeoutId=void 0)}runAfter(e){fs.debug("TaskManager runAfter("+e+"ms)"),this.clearTimeout(),this.timeoutId=this.environment.getWindow().setTimeout((()=>{try{fs.debug("TaskManager callback triggered"),this.eventLoop()}catch(e){const t=new bt("TaskManager exception",e);fs.error(t,41)}}),e),fs.debug("TaskManager set new timer: "+this.timeoutId)}computeChecksum(){return this.taskQueue.map((e=>e.getId().toString())).join("-")}queueToString(){return this.taskQueue.map((e=>e.toString())).join(", ")}isQueueBlocked(){return this.taskQueue.every((e=>e.isBlocked()))}}class aa extends xr{constructor(e,t,i){super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"integrationDataStorage"),__publicField(this,"sent",!1),__publicField(this,"deliveryStatus",wr.NOT_STARTED),this.environment=N(e),this.browserEventLogger=N(t),this.integrationDataStorage=N(i)}toString(){return`ContextEventTask(${this.environment.getPageviewId()})`}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.deliveryStatus===wr.SUCCEEDED?wr.SUCCEEDED:this.deliveryStatus===wr.FAILED?wr.FAILED:(fs.debug("Waiting for context event delivery confirmation"),wr.TRY_LATER)}sendOnce(){this.sent||(fs.info("Sending context event"),this.browserEventLogger.sendContext(this.integrationDataStorage).then((()=>{fs.info(`Context ${this.environment.getPageviewId()} event delivery success`),this.deliveryStatus=wr.SUCCEEDED})).catch((e=>{const t=new bt(`Context ${this.environment.getPageviewId()} event delivery failed`,e);fs.warn(t,224),this.deliveryStatus=wr.FAILED})),this.sent=!0)}}function la(e,t){return t.filter((t=>ua(e,t)))}function ca(e,t){return t.some((t=>ua(e,t)))}function ua(e,t){return e.getPages().some((e=>e.getId()===t.getId()))}class da{constructor({environment:e,browserEventLogger:t,customer:i,customerStorage:s,attributeStorage:n,activityStorage:r,user:o,override:a,pageContext:l,statusModel:c,taskManager:u}){__publicField(this,"override"),__publicField(this,"pageContext"),__publicField(this,"environment"),__publicField(this,"customer"),__publicField(this,"taskManager"),__publicField(this,"browserEventLogger"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"user"),__publicField(this,"statusModel"),this.environment=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.customerStorage=N(s),this.attributeStorage=N(n),this.activityStorage=N(r),this.user=N(o),this.override=N(a),this.pageContext=N(l),this.statusModel=N(c),this.taskManager=N(u)}cleanup(){}sendConversionEvent(e,t,i){fs.group(`sendConversionEvent(${e.getName()}, ${t})`);const s=new tr(e,t,void 0,i);this.activityStorage.add(eo.buildConversionActivity(s,this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage));const n=new Fr(s,this.browserEventLogger,this.customer,this.customerStorage,this.statusModel);this.taskManager.addTask(n),fs.groupEnd()}}class ha extends da{constructor(){super(...arguments),__publicField(this,"registeredClickEvents",[])}cleanup(){fs.group("InstrumentClickEvent.cleanup()"),this.registeredClickEvents.forEach((([e,t])=>{fs.debug('removing handler: events="'+this.getEventName()+'", selector="'+e.getSelector()+'"');try{this.environment.getWindow().document.removeEventListener("click",t,!0)}catch(i){const t=new bt("Failed to unregister click event",i);fs.error(t,194,{eventId:e.getId()})}})),fs.groupEnd()}instrumentClickEvent(e){fs.group("instrumentClickEvent("+e.getName()+")"),fs.info(`Instrument click event ${e.getId()}, selector ${e.getSelector()}`),fs.debug('adding handler: events="'+this.getEventName()+'", selector="'+e.getSelector()+'"');const t=t=>{try{if(t.target instanceof Element&&t.target.closest(e.getSelector())instanceof Element){if(!(t.target instanceof HTMLElement||t.target instanceof SVGElement))return void fs.warn(`Click event triggered for event ID ${e.getId()} (selector: "${e.getSelector()}"), but target is neither an HTMLElement or SVGElement`,259);const i=this.environment.generateActionId();this.handleClickEvent(e,i,t)}}catch(i){const t=new bt("Failed to handle click event",i);fs.error(t,167,{eventId:e.getId()})}};try{this.environment.getWindow().document.addEventListener("click",t,!0)}catch(i){const t=new bt("Failed to register click event",i);fs.error(t,193,{eventId:e.getId()})}this.registeredClickEvents.push([e,t]),fs.groupEnd()}getEventName(){return"click."+this.environment.getPageviewId()}}class ga extends ha{initialize(e){fs.group("InstrumentStandardClickEvents.initialize()"),_t.filterEvents(e).filter((e=>ca(this.pageContext,e.getPages()))).forEach((e=>{this.instrumentClickEvent(e)})),fs.groupEnd()}handleClickEvent(e,t,i){fs.group(`handleClickEvent(${e.getName()}, ${t})`),fs.debug("handleClickEvent run code");e.executeCode(ks.evalBoolean)?(this.sendConversionEvent(e,t,i),fs.groupEnd(),this.taskManager.runNow()):fs.groupEnd()}}class pa extends da{initialize(e){fs.group("InstrumentViewEvents.initialize()");const t=this.environment.getPageviewId();Tt.filterEvents(e).filter((e=>ca(this.pageContext,e.getPages()))).forEach((e=>{this.handleViewEvent(e,t)}))}handleViewEvent(e,t){fs.group(`handleViewEvent(${e.getName()}, ${t})`),fs.debug("handleViewEvent run code");e.executeCode(ks.evalBoolean)?(this.sendConversionEvent(e,t),fs.groupEnd()):fs.groupEnd()}}class ma extends ha{initialize(e){fs.group("InstrumentWebflowClickEngagementEvents.initialize()");const t=xt.filterEvents(e);if(t.length>0){const e=t[0];t.length>1&&fs.error(`Expected exactly one WebflowClickEngagementEvent, but found ${t.length}`,256),this.instrumentClickEvent(e)}fs.groupEnd()}handleClickEvent(e,t,i){fs.group(`handleWebflowClickEngagementEvent(${e.getName()}, ${t})`),this.sendConversionEvent(e,t,i),fs.groupEnd(),this.taskManager.runNow()}}class va extends ha{initialize(e){fs.group("InstrumentWebflowClickEvents.initialize()"),Ii.filterEvents(e).forEach((e=>{this.instrumentClickEvent(e)})),fs.groupEnd()}handleClickEvent(e,t,i){fs.group(`handleWebflowClickEvent(${e.getName()}, ${t})`),this.sendConversionEvent(e,t,i),fs.groupEnd(),this.taskManager.runNow()}}class ba extends xr{constructor(e,t,i,s,n,r,o,a,l,c){super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"pageContext"),__publicField(this,"instrumentations",[]),__publicField(this,"statusModel"),this.environment=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.customerStorage=N(s),this.attributeStorage=N(n),this.activityStorage=N(r),this.user=N(o),this.override=N(a),this.pageContext=N(l),this.statusModel=N(c)}toString(){return"ConversionEventInstrumentationTask()"}inTransaction(){return!0}isUnloading(){return!1}cleanup(){this.instrumentations.forEach((e=>{e.cleanup()}))}run(){return this.instrumentEvents(),wr.SUCCEEDED}instrumentEvents(){fs.group("instrumentEvents()");const e=this.customer.getEvents().filter((e=>this.override.isEventLive(e).orElse("live"===e.getState()))),t={environment:this.environment,browserEventLogger:this.browserEventLogger,customer:this.customer,customerStorage:this.customerStorage,attributeStorage:this.attributeStorage,activityStorage:this.activityStorage,user:this.user,override:this.override,pageContext:this.pageContext,statusModel:this.statusModel,taskManager:this.manager},i=new ga(t);i.initialize(e),this.instrumentations.push(i);const s=new va(t);s.initialize(e),this.instrumentations.push(s);const n=new pa(t);n.initialize(e),this.instrumentations.push(n);const r=new ma(t);r.initialize(e),this.instrumentations.push(r),fs.groupEnd()}}const fa=class extends xr{constructor(e,t,i,s){super(),__publicField(this,"environment"),__publicField(this,"customer"),__publicField(this,"endpoint"),__publicField(this,"getCookie"),__publicField(this,"startTimeMs"),__publicField(this,"sent",!1),__publicField(this,"deliveryStatus",wr.NOT_STARTED),this.environment=e,this.customer=t,this.endpoint=i,this.getCookie=s,this.startTimeMs=this.environment.getNowUnixTimeMs()}toString(){return`CookieAssociatorTask(${this.endpoint})`}inTransaction(){return!0}isUnloading(){return!1}run(){if(this.sendOnce(),this.deliveryStatus===wr.SUCCEEDED)return wr.SUCCEEDED;if(this.deliveryStatus===wr.FAILED)return wr.FAILED;return this.environment.getNowUnixTimeMs()-this.startTimeMs>=fa.WAIT_FOR_COOKIE_MS?(fs.warn(`Cookie not present on the page within ${fa.WAIT_FOR_COOKIE_MS}ms (${this.endpoint} )`,81),wr.SUCCEEDED):wr.TRY_LATER}sendOnce(){if(this.sent)return;const e=this.getCookie();if(!e.isPresent())return;const t=e.get(),i=this.customer.getId();fs.info(`Sending id association request. Customer: ${i}`),this.environment.fetch(se,this.endpoint,{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:we({customerId:this.customer.getId(),cookie:t})}).then((()=>{fs.info("Successfully sent id association request"),this.deliveryStatus=wr.SUCCEEDED})).catch((e=>{const t=new bt(`Error calling ${this.endpoint} `,e);fs.error(t,82),this.deliveryStatus=wr.FAILED})),this.sent=!0}};let Ea=fa;__publicField(Ea,"WAIT_FOR_COOKIE_MS",5e3);class _a extends xr{constructor(e){super(),__publicField(this,"elementObserver"),this.elementObserver=e}toString(){return"ElementObserverTask()"}inTransaction(){return!1}isUnloading(){return!1}cleanup(){fs.group("ElementObserverTask.cleanup()"),this.elementObserver.reset(),fs.groupEnd()}run(){return fs.debug("ElementObserverTask no-op done"),wr.SUCCEEDED}}class ya extends xr{constructor(e,t,i,s,n,r,o,a,l){if(super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"activityStorage"),__publicField(this,"attributeStorage"),__publicField(this,"customerStorage"),__publicField(this,"statusModel"),!ur(i))throw new Error("Hubspot integration must be enabled for the customer to use the HubspotFormsTask");this.environment=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.user=N(s),this.override=N(n),this.activityStorage=N(r),this.attributeStorage=N(o),this.customerStorage=N(a),this.statusModel=N(l)}toString(){return"HubspotFormsTask()"}inTransaction(){return!1}isUnloading(){return!1}run(){return this.attachFormHandler(),wr.SUCCEEDED}attachFormHandler(){window.addEventListener("message",(e=>{if(hr(e)){const t=e.data.id;fs.debug(`handler fired for hubspot form; triggering lead association request (Form ID: ${t})`);const i=this.environment.generateActionId();this.findEvents(t).forEach((e=>{this.sendConversionEvent(e,i)}));const s=new Ea(this.environment,this.customer,"/hubspot-id-associator",(()=>dr(this.environment)));this.manager.addTask(s)}}))}findEvents(e){return St.filterEvents(this.customer.getEvents()).filter((e=>this.override.isEventLive(e).orElse("live"===e.getState()))).filter((t=>t.getFormId()===e))}sendConversionEvent(e,t){fs.debug("Hubspot form submission send conversion event");const i=new tr(e,t,void 0,void 0);this.activityStorage.add(eo.buildConversionActivity(i,this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage));const s=new Fr(i,this.browserEventLogger,this.customer,this.customerStorage,this.statusModel);this.manager.addTask(s)}}const Sa=class extends xr{constructor(e,t,i,s,n,r,o,a,l){if(super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"activityStorage"),__publicField(this,"attributeStorage"),__publicField(this,"customerStorage"),__publicField(this,"statusModel"),__publicField(this,"startTimeMs"),__publicField(this,"trackedForms",[]),!gr(i))throw new Error("Marketo integration must be enabled for the customer to use the MarketoFormsTask");this.environment=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.user=N(s),this.override=N(n),this.activityStorage=N(r),this.attributeStorage=N(o),this.customerStorage=N(a),this.statusModel=N(l),this.startTimeMs=this.environment.getNowUnixTimeMs()}toString(){return"MarketoFormsTask()"}inTransaction(){return!1}isUnloading(){return!1}run(){const e=this.environment.getNowUnixTimeMs(),t=this.environment.getWindow();if(void 0!==t.MktoForms2)return fs.debug("marketo forms library ready"),this.attachFormHandlers(t.MktoForms2),wr.SUCCEEDED;return e-this.startTimeMs>=Sa.WAIT_FOR_MKTOFORMS2_MS?(fs.debug(`marketo forms library not present on the page within ${Sa.WAIT_FOR_MKTOFORMS2_MS}ms`),wr.SUCCEEDED):(fs.debug("marketo forms library not present; Will try again later."),wr.TRY_LATER)}attachFormHandlers(e){e.whenReady((e=>{const t=String(e.getId());this.trackedForms.includes(t)?fs.debug(`marketo form already tracked (Form ID: ${t})`):(this.trackedForms.push(t),fs.debug(`attaching success handler to marketo (Form ID: ${t})`),e.onSuccess((()=>{fs.debug(`success handler fired for marketo form; triggering lead association request (Form ID: ${t})`);const e=this.environment.generateActionId();this.findEvents(t).forEach((t=>{this.sendConversionEvent(t,e)}));const i=new Ea(this.environment,this.customer,"/marketo-id-associator",(()=>pr(this.environment)));this.manager.addTask(i)})))}))}findEvents(e){return It.filterEvents(this.customer.getEvents()).filter((e=>this.override.isEventLive(e).orElse("live"===e.getState()))).filter((t=>t.getFormId()===e))}sendConversionEvent(e,t){fs.debug("Marketo form submission send conversion event");const i=new tr(e,t,void 0,void 0);this.activityStorage.add(eo.buildConversionActivity(i,this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage));const s=new Fr(i,this.browserEventLogger,this.customer,this.customerStorage,this.statusModel);this.manager.addTask(s)}};let Ia=Sa;__publicField(Ia,"WAIT_FOR_MKTOFORMS2_MS",5e3);class wa extends xr{toString(){return"PageUnloadingTask()"}inTransaction(){return!1}isUnloading(){return!0}run(){return fs.debug("page unload no-op done"),wr.SUCCEEDED}}class Ca extends xr{constructor(e,t){super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"sent",!1),__publicField(this,"deliveryStatus",wr.NOT_STARTED),this.environment=N(e),this.browserEventLogger=N(t)}toString(){return`PageviewEventTask(${this.environment.getPageviewId()})`}inTransaction(){return!0}isUnloading(){return!1}run(){return this.sendOnce(),this.deliveryStatus===wr.SUCCEEDED?wr.SUCCEEDED:this.deliveryStatus===wr.FAILED?wr.FAILED:(fs.debug("Waiting for pageview event delivery confirmation"),wr.TRY_LATER)}sendOnce(){this.sent||(fs.info("Sending pageview event"),this.browserEventLogger.sendPageview().then((()=>{fs.info(`Pageview ${this.environment.getPageviewId()} event delivery success`),this.deliveryStatus=wr.SUCCEEDED})).catch((e=>{const t=new bt(`Pageview ${this.environment.getPageviewId()} event delivery failed`,e);fs.warn(t,83),this.deliveryStatus=wr.FAILED})),this.sent=!0)}}var Ta=(e=>(e[e.TS=0]="TS",e[e.TZ=1]="TZ",e[e.DP=2]="DP",e[e.WP=3]="WP",e[e.US=4]="US",e[e.UM=5]="UM",e[e.UCM=6]="UCM",e[e.UT=7]="UT",e[e.UCN=8]="UCN",e[e.UPN=9]="UPN",e[e.UPNV=10]="UPNV",e[e.CAN=11]="CAN",e[e.CANV=12]="CANV",e[e.PID=13]="PID",e[e.IFTU=14]="IFTU",e[e.AID=15]="AID",e))(Ta||{});const xa="=",Aa="-";class Fa{static buildBrowserContext(e,t,i,s,n){const r=t.getInternalAttributes("user"),o=[];n.getExperiences().forEach((e=>{if("cc"!==e.getType()){const t=n.getVariationIds(e.getId());1===t.length?o.push(t[0]):fs.error("Non-cc experience does not have exactly one variation selected",181,{experienceId:e.getId()})}}));const a={isFirstTimeUser:i.isNewVisitor(),timestamp:e.getNowUnixTime(),customAttributes:t.getFlattenedCustomAttributes(),pageIds:s.getPages().map((e=>e.getId())),audienceIds:s.getAudiences().map((e=>e.getId())),selectedVariationIds:o};return void 0!==r.ts&&(a.trafficSource=r.ts),a.timeZone=e.getTimeZone(),void 0!==r.uts&&(a.utmSource=r.uts),void 0!==r.utm&&(a.utmMedium=r.utm),void 0!==r.utcm&&(a.utmCampaign=r.utcm),void 0!==r.utt&&(a.utmTerm=r.utt),void 0!==r.utcn&&(a.utmContent=r.utcn),a.hostingPageUrl=e.getHostingPageUrl().getRawUrl(),a}static buildFeatures(e,t,i,s){const n={},r=t.getInternalAttributes("user");return Fa.addFeature(n,0,Fa.getFeatureFromAttribute(r.ts)),Fa.addFeature(n,4,Fa.getFeatureFromAttribute(r.uts)),Fa.addFeature(n,5,Fa.getFeatureFromAttribute(r.utm)),Fa.addFeature(n,6,Fa.getFeatureFromAttribute(r.utcm)),Fa.addFeature(n,7,Fa.getFeatureFromAttribute(r.utt)),Fa.addFeature(n,8,Fa.getFeatureFromAttribute(r.utcn)),Fa.addFeature(n,9,Fa.getUrlParameterName(e)),Fa.addFeature(n,10,Fa.getUrlParameterNameValue(e)),Fa.addFeature(n,1,Fa.getTimeZoneValue(e)),Fa.addFeature(n,2,Fa.getDayPartValue(e)),Fa.addFeature(n,3,Fa.getWeekPartValue(e)),Fa.addFeature(n,11,Fa.getCustomAttributeName(t)),Fa.addFeature(n,12,Fa.getCustomAttributeNameValue(t)),Fa.addFeature(n,13,Fa.getPageId(s)),Fa.addFeature(n,14,Fa.getIsFirstTimeUser(i)),Fa.addFeature(n,15,Fa.getAudienceId(s)),n}static getFeatureFromAttribute(e){return j.ofNullable(e).toArray()}static getTimeZoneValue(e){return[e.getTimeZone()]}static getDayPartValue(e){return[e.getDayPart()]}static getWeekPartValue(e){return[e.getWeekPart()]}static getUrlParameterName(e){return Object.keys(e.getHostingPageUrl().getAllQueryParamsUnsafe()).filter((e=>""!==e))}static getUrlParameterNameValue(e){const t=e.getHostingPageUrl().getAllQueryParamsUnsafe(),i=[];return Object.keys(t).forEach((e=>{i.push(e+Aa+t[e])})),i}static getCustomAttributeName(e){const t=e.getFlattenedCustomAttributes();return Object.keys(t)}static getCustomAttributeNameValue(e){const t=e.getFlattenedCustomAttributes();return Object.keys(t).map((e=>e+Aa+t[e]))}static getPageId(e){return e.getPages().map((e=>e.getId()))}static getIsFirstTimeUser(e){return[e.isNewVisitor().toString()]}static getAudienceId(e){return e.getAudiences().map((e=>e.getId()))}static buildUnaryFeature(e,t){return Ta[e]+xa+t}static addFeature(e,t,i){i.forEach((i=>{e[Fa.buildUnaryFeature(t,i)]=!0}))}}class ka extends Ts{constructor(e){super(e),__publicField(this,"urlParamsEncoded"),__publicField(this,"utmMedium"),__publicField(this,"utmSource"),this.urlParamsEncoded=Cs(ka.standardUrlParameterParser(e)),this.utmSource=this.urlParamsUnsafe.utm_source,this.utmMedium=this.urlParamsUnsafe.utm_medium}static standardUrlParameterParser(e){const t={};if(void 0===e)return t;const i=e.indexOf("#");let s=e.length-1;-1!==i&&(s=i-1);const n=e.indexOf("?"),r=n+1;return-1===n||r>=s||e.slice(r,s+1).split("&").filter((e=>void 0!==e&&e.length>0)).forEach((e=>{let i=e,s="";const n=e.indexOf("=");-1!==n&&(i=e.slice(0,Math.max(0,n)),s=e.slice(n+1)),void 0===t[i]?t[i]=[s]:t[i].push(s)})),t}get emailTagRegExp(){return/email|^send|hs_em|[\W_^]mail[\W_$]|sms|newsletter|^em[\W_$]|^attentive$/}get searchTagRegExp(){return/(search|bing|google|googlepla|sem|adwords)/i}get socialTagRegExp(){return/facebook|[\W_^]fb[\W_$]|youtube|[\W_^]ig[\W_$]|twitter|igstories|^tw$|twtr|profile|pinterest|instagram|socialmedia|quora|newsfeed|reddit|social|influencer|yelp|snapchat|linkedin|googleplus|g\+|gplus|google\+/i}get paidSocialRegExp(){return/influencer|ctc|ocpm|smm|socialp|cbo|bid|paidsocial/i}get organicSocialRegExp(){return/organic|socialo|stories|story|profile/i}get paidRegExp1(){return/(placement|attentive|taboola|gdn|criteo|googlepla|mrkt_adwords|outbrain|shareasale|klaviyo|inboxdollars|liveintent|adwords|ads|listrak|gsp|bluecore)/i}get paidRegExp2(){return/(cpc|affiliate|paid|smm|sem|ocpm|adroll|reengagement|remarketing|retargeting|cpa|paids|native|ppc|leads|display|[\W_^]ad[\W_$]|cpm|advertising|channel_partner|sponsored)/i}get searchIdRegExp(){return/([?&])(gclid|msclkid)=/i}get socialIdRegEx(){return/([?&])fbclid=/i}getAllUrlParamsEncoded(){return this.urlParamsEncoded}getSourceFromAllParams(e){let t=!1;for(const i of Object.keys(this.urlParamsUnsafe))if(Object.prototype.hasOwnProperty.call(this.urlParamsUnsafe,i)){const s=this.urlParamsUnsafe[i];if(t=t||this.isParamPaid(s),this.isParamSocialTagged(s))return e||t||this.isParamSocialPaid(s)?"CP":"CO";if(this.isParamSearchTagged(s))return e||t||this.isSearchPaid()?"SP":"SO";if(this.getUrl().isPresent()&&this.isParamEmailTagged(s))return"EM"}return t?"OP":"OT"}isSocialTagged(){return!(!this.optionalUrl.isPresent()||!this.socialIdRegEx.test(this.optionalUrl.get()))||(this.isParamSocialTagged(this.utmMedium)||this.isParamSocialTagged(this.utmSource))}isSocialPaid(){return this.isParamSocialPaid(this.utmMedium)||this.isParamSocialPaid(this.utmSource)}isSearchTagged(e){return!(!this.optionalUrl.isPresent()||!this.searchIdRegExp.test(this.optionalUrl.get()))||(!(!this.isParamSearchTagged(this.utmSource)&&!this.isParamSearchTagged(this.utmMedium))||e.getUrl().isPresent()&&e.isFromSearchEngine()&&(Boolean(this.utmMedium)||Boolean(this.utmSource)))}isSearchPaid(){return!(!this.optionalUrl.isPresent()||!this.searchIdRegExp.test(this.optionalUrl.get()))||(this.isParamSearchPaid(this.utmMedium)||this.isParamSearchPaid(this.utmSource))}isPaidTraffic(){return this.isParamPaid(this.utmSource)||this.isParamPaid(this.utmMedium)}isEmailTagged(){return this.isParamEmailTagged(this.utmSource)||this.isParamEmailTagged(this.utmMedium)}isParamPaid(e){return void 0!==e&&(this.paidRegExp1.test(e)||this.paidRegExp2.test(e))}isParamEmailTagged(e){return void 0!==e&&this.emailTagRegExp.test(e)}isParamSearchTagged(e){return void 0!==e&&this.searchTagRegExp.test(e)}isParamSearchPaid(e){return void 0!==e&&/googlep|adwords/.test(e)}isParamSocialPaid(e){return(void 0===e||!this.organicSocialRegExp.test(e))&&(void 0!==e&&this.paidSocialRegExp.test(e))}isParamSocialTagged(e){return void 0!==e&&this.socialTagRegExp.test(e)}}class Pa extends Ts{get emailDomainRegExp(){return/([/.])(webmail|live|mail|inbox|zimbra|email|em)\d{0,2}\.|google.android.gm/i}get socialDomainRegExp(){return/([/.])(t\.co|(plus\.google|facebook|twitter|linkedin|youtube|instagram|pinterest|quora|reddit|github|medium|producthunt|yelp|ycombinator|messenger)\.)/i}get paidDomainRegExp(){return/([/.])(taboola|aimtell|attentive|googlesyndication|shareasale|outbrain|shareasale-analytics|doubleclick)\./i}get invalidSearchRegExp(){return/([/.])((plus|mail|myactivity|chrome|classroom|accounts|news|docs|keep|sites)\.google|googlesyndication|google\.android\.(?!googlequicksearchbox))/i}get paidSearchRegExp(){return/([/.])(google|googleadservices)\..*?\/aclk\?/i}get validSearchRegExp(){return/([/.])(google|bing|baidu|duckduckgo|ask|search\.(yahoo|xfinity|aol|naver))\./i}isFromSearchEngine(){return this.optionalUrl.isPresent()&&!this.invalidSearchRegExp.test(this.optionalUrl.get())&&this.validSearchRegExp.test(this.optionalUrl.get())}isFromEmail(){return this.optionalUrl.isPresent()&&this.emailDomainRegExp.test(this.optionalUrl.get())}isFromSocialNetwork(){return this.optionalUrl.isPresent()&&this.socialDomainRegExp.test(this.optionalUrl.get())}isPaidTraffic(){return this.optionalUrl.isPresent()&&this.paidDomainRegExp.test(this.optionalUrl.get())}isSearchPaid(){return this.optionalUrl.isPresent()&&!this.invalidSearchRegExp.test(this.optionalUrl.get())&&this.paidSearchRegExp.test(this.optionalUrl.get())}}function Ma(e,t){const i=e.getReferrerUrl(),s=e.getHostingPageUrl(),n=new Pa(i.map((e=>e.getRawUrl())).orElse(void 0)),r=new ka(s.getRawUrl()),o=n.isPaidTraffic()||r.isPaidTraffic();let a=Da(n,r,o);return"OT"===a&&(a=Na(n,r,o)),"OT"===a&&(a=r.getSourceFromAllParams(o)),"OT"===a&&(a=o?"OP":n.getUrl().isPresent()?cs(e,t).orElse(!1)?"RC":"OT":"DN"),a}function Da(e,t,i){return e.isFromEmail()?"EM":e.isFromSocialNetwork()?i||t.isSocialPaid()?"CP":"CO":e.isFromSearchEngine()?i||t.isSearchTagged(e)||e.isSearchPaid()||t.isSearchPaid()?"SP":"SO":"OT"}function Na(e,t,i){return t.isSocialTagged()?i||t.isSocialPaid()?"CP":"CO":t.isSearchTagged(e)?i||t.isSearchPaid()?"SP":"SO":t.getUrl().isPresent()&&t.isEmailTagged()?"EM":"OT"}const Oa=["xo"],Ra={debug(e,t,i){fs.debug(e,t,i,Oa)}};class La extends xr{constructor(e,t,i){super(),__publicField(this,"localStorage"),__publicField(this,"storageKey"),__publicField(this,"storageDatum"),this.localStorage=e,this.storageKey=t,this.storageDatum=i}toString(){return`StorageCleanupTask(${this.storageKey})`}inTransaction(){return!1}isUnloading(){return!1}getStorageKey(){return this.storageKey}setStorageDatum(e){this.storageDatum=void 0===e?void 0:__spreadValues({},e)}getNotDoneDependencies(){return this.manager.findTasks((e=>!(e instanceof La||e.isUnloading()||e.isDone())))}run(){return Ra.debug(`Running storage cleanup task for "${this.storageKey}".`),this.getNotDoneDependencies().length>0?(Ra.debug("Deferring storage cleanup; other tasks still running"),wr.TRY_LATER):(void 0===this.storageDatum?(Ra.debug("Deleting data locally because the common origin is empty for this storageKey"),this.localStorage.delete(this.storageKey)):(Ra.debug(`Writing latest data from the common origin to the customer origin. ${Ie(this.storageDatum,void 0,2)}`),this.localStorage.write(this.storageKey,we(this.storageDatum))),wr.SUCCEEDED)}}class $a{constructor(e,t){__publicField(this,"localStorage"),__publicField(this,"taskManager"),this.localStorage=e,this.taskManager=t}run(){return __async(this,null,(function*(){return new Promise((e=>{this.taskManager.isDone()?(Ra.debug("[CleanupTaskManager]: no tasks to run"),e()):(Ra.debug("[CleanupTaskManager]: waiting for all tasks to complete"),this.taskManager.onDone((()=>{e()})))}))}))}queueCleanupTask(e,t){this.findNotDoneCleanupTask(e).ifPresent((i=>{Ra.debug(`Cleanup task already exists for ${e}; updating storageDatum`),i.setStorageDatum(t)})).ifAbsent((()=>{Ra.debug(`Creating cleanup task for ${e} with ${Ie(t,void 0,2)}`),this.taskManager.addTask(new La(this.localStorage,e,t))}))}findNotDoneCleanupTask(e){const[t]=this.taskManager.findTasks((t=>t instanceof La&&t.getStorageKey()===e&&!t.isDone()));return j.ofNullable(t)}}class Va{constructor(e,t,i){__publicField(this,"localStorage"),__publicField(this,"requestId"),__publicField(this,"storageOrigin"),__publicField(this,"message"),__publicField(this,"iframe"),__publicField(this,"resolver"),__publicField(this,"isDone",!1),__publicField(this,"timeStart"),this.localStorage=e,this.requestId=mn(),this.storageOrigin=t,void 0!==i&&this.setMessage(i)}static get MESSAGE_EVENT_TIMEOUT_MS(){return 1e3}getRequestId(){return this.requestId}getStorageKey(){var e;return null==(e=this.message)?void 0:e.storageKey}setMessage(e){let t;this.getExpectedVersion(e.storageKey).ifPresent((e=>{t=e})),this.message=__spreadProps(__spreadValues({},e),{requestId:this.requestId,expectedVersion:t})}setIframe(e){this.iframe=e}send(){return __async(this,null,(function*(){if(void 0===this.iframe)throw new Error("Cannot call send() without setting the iframe");if(void 0===this.message)throw new Error("Cannot call send() without setting the message");const{iframe:e,message:t}=this;yield new Promise(((i,s)=>{var n;try{const r={resolve:i,reject:s};this.resolver=r,null===e.contentWindow?r.resolve():(Ra.debug(`send(): Sending message to storage domain (${this.storageOrigin}) ${Ie(t,void 0,2)}`),this.timeStart=new Date,null==(n=e.contentWindow)||n.postMessage(t,this.storageOrigin),setTimeout((()=>{try{this.isDone||s(new Error(`Did not receive response within ${Va.MESSAGE_EVENT_TIMEOUT_MS}ms`))}catch(e){const t=vt(e);fs.error(t,174)}}),Va.MESSAGE_EVENT_TIMEOUT_MS))}catch(r){s(r)}}))}))}reply(e){if(void 0===this.resolver)throw new Error("Cannot reply to message request if the message has no resolver");if(void 0!==this.timeStart){const e=(new Date).getTime()-this.timeStart.getTime();this.timeStart=void 0,Ra.debug(`XO message round-trip time - ${e}ms`)}e.success?this.resolver.resolve():void 0===e.error?this.resolver.reject(new Error("Message request failed, but there is no error data (unexpected)")):this.resolver.reject(e),this.isDone=!0}getExpectedVersion(e){return this.localStorage.read(e).flatMap((e=>za.validateStorageDatumString(e))).flatMap((e=>j.ofNullable(e.version)))}}var Ua=(e=>(e.UNEXPECTED="UNEXPECTED",e.LOCALSTORAGE_ACCESS="LOCALSTORAGE_ACCESS",e.INVALID_OP="INVALID_OP",e.INVALID_MESSAGE_FORMAT="INVALID_MESSAGE_FORMAT",e.INVALID_MESSAGE_META_FORMAT="INVALID_MESSAGE_META_FORMAT",e.INVALID_DATUM_FORMAT="INVALID_DATUM_FORMAT",e.UNEXPECTED_VERSION="UNEXPECTED_VERSION",e))(Ua||{});function Wa(e){return e}class za{constructor(e,t,i,s){__publicField(this,"taskManager"),__publicField(this,"localStorage"),__publicField(this,"environment"),__publicField(this,"customer"),__publicField(this,"messageRequests"),__publicField(this,"storageKeys"),__publicField(this,"storageOrigin"),__publicField(this,"cleanupTaskManager"),__publicField(this,"isFeatureMissing"),__publicField(this,"iframeLoadPromise"),__publicField(this,"iframe"),this.localStorage=e,this.taskManager=i,this.environment=t,this.messageRequests={},this.customer=s,this.isFeatureMissing=!1;const n="intellimizeio.com";this.storageOrigin=`https://${s.getId()}.${n}`,this.storageKeys=Kr(s),this.cleanupTaskManager=new $a(this.localStorage,this.taskManager),this.loadIframe().catch((()=>{this.isFeatureMissing=!0}))}static validateStorageDatumString(e){let t;try{if(t=Ce(e),"object"==typeof t&&null!==t&&("string"==typeof t.version||void 0===t.version)&&"string"==typeof t.data)return j.of(t)}catch(i){Ra.debug(`validateStorageDatumString(): Not a StorageDatum (got ${Ie(t)})`)}return j.empty()}static getNormalizedStorageValue(e){return za.validateStorageDatumString(e).map((e=>e.data)).orElse(e)}static get READY_MESSAGE_TIMEOUT_MS(){return 3e3}static get WAIT_FOR_DATA_MS(){return 500}static isMessageReply(e){return"object"==typeof e&&null!==e&&"reply"===e.type}get isCrossOriginEnabled(){return!this.isFeatureMissing&&(this.customer.getCrossOrigin().isEnabled()||this.customer.getOrigins().length>0)}get shouldWaitForData(){if(this.environment.getReferrerUrl().isPresent()){const e=this.environment.getReferrerUrl().get(),t=this.environment.getHostingPageUrl();if(us(this.customer,e.getOrigin()).orElse(!1)){if(e.getOrigin()!==t.getOrigin())return Ra.debug("shouldWaitForData(): Detected a switch to a different origin."),!0;let i=!1;for(const e of this.storageKeys)if(this.localStorage.read(e).isPresent()){i=!0;break}if(!i)return fs.warn("shouldWaitForData(): Detected an origin with no data.",63),!0;Ra.debug("shouldWaitForData(): not waiting (user didn't cross origins, and there is existing data in LocalStorage)")}else Ra.debug(`shouldWaitForData(): not waiting (referrer origin not allowed - ${e.getOrigin()})`)}else Ra.debug("shouldWaitForData(): not waiting (no referrer - can't determine if user has crossed origins");return!1}initialize(){return __async(this,null,(function*(){if(this.isCrossOriginEnabled){Ra.debug("Cross-Origin storage enabled by customer configuration. Persisting LocalStorage operations to the common origin.");const e=this.syncWithCommonOrigin().catch((e=>{const t=new bt("Error syncing with common origin",e);fs.error(t,130),this.isFeatureMissing=!0}));this.shouldWaitForData?(Ra.debug("initialize(): Blocking client execution until xd storage is ready (shouldWaitForData is true)"),yield this.waitForData(e)):Ra.debug("initialize(): Not waiting until xd storage is ready (shouldWaitForData is false)")}else Ra.debug("Cross-Origin storage disabled by customer configuration. Using LocalStorage only.");Ra.debug("crossOriginStorage.initialize() has finished")}))}read(e){const t=this.readFromLocalStorage(e);return this.readAsync(e).catch((()=>{this.isFeatureMissing=!0})),t.flatMap((e=>j.ofNullable(e.data)))}write(e,t){this.writeAsync(e,t).catch((()=>{this.isFeatureMissing=!0}))}delete(e){this.deleteAsync(e).catch((()=>{this.isFeatureMissing=!0}))}loadIframe(){return __async(this,null,(function*(){if(void 0===this.iframeLoadPromise){const{document:e}=this.environment.getWindow();let t;this.iframe=e.createElement("iframe"),this.iframeLoadPromise=new Promise(((s,n)=>{let r=!1,o=!1;this.iframe.setAttribute("hidden",""),this.iframe.setAttribute("tabIndex","-1"),this.iframe.setAttribute("width","0"),this.iframe.setAttribute("height","0"),this.iframe.setAttribute("style","display:none");let a=`${this.storageOrigin}/storage.html`;fs.getLevel()<i.LogLevel.OFF&&(a+=`?ideb=${fs.getLevel()}`),this.iframe.setAttribute("src",a),this.iframe.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),this.iframe.onerror=e=>{Ra.debug("XO iframe onerror callback triggered"),r||o||setTimeout((()=>{try{o=!0;const t=new bt("Iframe load error",e);fs.error(t,66),n()}catch(t){const e=vt(t);fs.error(e,170)}}),0)};const l=()=>{Ra.debug("XO iframe ready resolver triggered"),o||setTimeout((()=>{var e;try{if(Ra.debug("loadIframe(): iframe is ready"),r=!0,void 0===(null==(e=this.iframe.contentWindow)?void 0:e.postMessage))fs.error("postMessage() API not supported",65),n(),this.iframe.remove();else{if(void 0!==t){const e=(new Date).getTime()-t.getTime();Ra.debug(`iframe load + ready message time - ${e}ms`)}s(void 0)}}catch(i){const e=vt(i);fs.error(e,171)}}),0)};this.environment.addListener("message",(e=>{try{this.handleResponse(e,l)}catch(t){const e=new bt("Exception in XO message response handler",t);fs.error(e,237)}})),t=new Date,e.querySelectorAll("head")[0].insertAdjacentElement("afterbegin",this.iframe),setTimeout((()=>{try{r||(o=!0,fs.error(`iframe did not load & receive "ready" message within ${za.READY_MESSAGE_TIMEOUT_MS} ms`,67),n())}catch(e){const t=vt(e);fs.error(t,172)}}),za.READY_MESSAGE_TIMEOUT_MS)}))}return this.iframeLoadPromise}))}readFromLocalStorage(e){return this.localStorage.read(e).flatMap((e=>{try{return j.of(Ce(e))}catch(t){return fs.error(`readFromLocalStorage(): Unable to parse as JSON (${e})`,68),j.empty()}}))}writeToLocalStorage(e,t){this.localStorage.write(e,we(t)),Ra.debug(`writeToLocalStorage(): Wrote "${e}" to LocalStorage (${Ie(t,void 0,2)})`)}deleteFromLocalStorage(e){this.localStorage.delete(e),Ra.debug(`deleteFromLocalStorage(): Deleted "${e}" from LocalStorage`)}readAsync(e){return __async(this,null,(function*(){if(Ra.debug(`readAsync(): Called with storageKey: "${e}"`),this.isCrossOriginEnabled){const t=new Va(this.localStorage,this.storageOrigin,{requestId:"",op:"read",storageKey:e});yield this.sendMessageRequest(t)}}))}writeAsync(e,t){return __async(this,null,(function*(){let i;if(Ra.debug(`writeAsync(): Called with storageKey: "${e}", data ${t}`),this.isCrossOriginEnabled){const s=new Va(this.localStorage,this.storageOrigin);i={version:s.getRequestId(),data:t},s.setMessage({requestId:"",op:"write",storageKey:e,storageDatum:i}),this.writeToLocalStorage(e,i),yield this.sendMessageRequest(s)}else this.writeToLocalStorage(e,{data:t})}))}deleteAsync(e){return __async(this,null,(function*(){if(Ra.debug(`delete(): Called with storageKey: "${e}"`),this.isCrossOriginEnabled){const t=new Va(this.localStorage,this.storageOrigin,{requestId:"",op:"delete",storageKey:e});this.deleteFromLocalStorage(e),yield this.sendMessageRequest(t)}else this.deleteFromLocalStorage(e)}))}syncWithCommonOrigin(){return __async(this,null,(function*(){const e=[];this.storageKeys.forEach((t=>{this.readFromLocalStorage(t).ifPresent((({data:i,version:s})=>{s?(Ra.debug(`syncWithCommonOrigin(): Existing storageDatum found with a version (storageKey: ${t}). Sending "read" message to the common origin.`),e.push(this.readAsync(t))):(Ra.debug(`syncWithCommonOrigin(): Existing storageDatum found without a version (storageKey: ${t}). Sending "write" message to the common origin.`),e.push(this.writeAsync(t,i)))})).ifAbsent((()=>{Ra.debug(`syncWithCommonOrigin(): No existing storageDatum found (storageKey: ${t}). Sending "read" message to the common origin.`),e.push(this.readAsync(t))}))})),yield Promise.all(e)}))}sendMessageRequest(e){return __async(this,null,(function*(){try{yield this.loadIframe()}catch(i){return void(this.isFeatureMissing=!0)}const t=e.getRequestId();e.setIframe(this.iframe),this.messageRequests[t]=e;try{yield e.send(),delete this.messageRequests[t]}catch(s){if(delete this.messageRequests[t],za.isMessageReply(s))this.handleMessageReplyErrors(e,s);else{const e=new bt("Could not send message request",s);fs.error(e,129),this.isFeatureMissing=!0}}}))}handleResponse(e,t){const{data:i,origin:s}=e;if(s!==this.storageOrigin)return;if(Ra.debug(`handleResponse(): Received message event from storage domain (${this.storageOrigin})`),void 0!==i&&Ra.debug(Ie(i)),"object"!=typeof i||null===i)return void fs.debug("handleResponse(): Refusing to handle message with invalid response format",69);if("ready"===i.type)return Ra.debug('handleResponse(): Received "ready" message'),void t();if("sync"===i.type)return void this.handleSyncResponse(Wa(i));if("reply"!==i.type)return void fs.debug(`handleResponse(): Refusing to handle message with unknown type (${i.type})`,70);const{correlationId:n}=i,r=this.messageRequests[n];void 0!==r?r.reply(i):fs.error("handleResponse(): Could not find matching message in memory",71)}handleSyncResponse({storageKey:e,storageDatum:t}){this.cleanupTaskManager.queueCleanupTask(e,t)}handleMessageReplyErrors(e,t){const{code:i,msg:s}=t.error;if(Ra.debug(s),i===Ua.UNEXPECTED_VERSION)this.handleUnexpectedVersion(e,t);else{if(i!==Ua.LOCALSTORAGE_ACCESS)throw new Error(s);Ra.debug("LocalStorage is not accessible on the common origin (i.e. browser security setting)")}}handleUnexpectedVersion(e,t){const i=e.getStorageKey(),{storageDatum:s}=t;if(void 0===s){const e=`handleUnexpectedVersion(): Common origin has no data for storageKey: "${i}"`;Ra.debug(e)}else{const e=`handleUnexpectedVersion(): Common origin for storageKey: "${i}"`;Ra.debug(`${e} ${Ie(s,void 0,2)}`)}this.cleanupTaskManager.queueCleanupTask(i,s)}waitForData(e){return __async(this,null,(function*(){return new Promise(((t,i)=>__async(this,null,(function*(){let s=!1;const n=this.environment.getWindow().setTimeout((()=>__async(this,null,(function*(){s=!0;try{t()}catch(e){const t=vt(e);fs.error(t,173)}}))),za.WAIT_FOR_DATA_MS),r=Date.now();try{const i=yield e,o=Date.now();Ra.debug(`waitForData(): iframe load + data sync time - ${o-r}ms`);const a=yield this.cleanupTaskManager.run(),l=Date.now();Ra.debug(`waitForData(): Cleanup task time - ${l-o}ms`),s?fs.warn(`waitForData(): Synchronization did not complete within ${za.WAIT_FOR_DATA_MS}ms. (Took ${l-r}ms)`,72):(Ra.debug(`waitForData(): Sync completed; finished in under ${za.WAIT_FOR_DATA_MS}ms (Took ${l-r}ms)`),this.environment.getWindow().clearTimeout(n),t([i,a]))}catch(o){s||(this.environment.getWindow().clearTimeout(n),i(o))}}))))}))}}class ja{constructor(){__publicField(this,"storage"),this.storage={}}write(e,t){Yr(e)||fs.error(`Writing an unknown key to MemoryStorage: ${e}`,180),this.storage[e]=t}read(e){return j.ofNullable(this.storage[e])}delete(e){delete this.storage[e]}}class Ba{constructor(e){if(__publicField(this,"environment"),!Xr(e,"sessionStorage"))throw new Error("sessionStorage is not available");this.environment=e}write(e,t){Yr(e)||fs.error(`Writing an unknown key to SessionStorage: ${e}`,180),this.environment.writeSessionStorage(e,t)}read(e){return this.environment.readSessionStorage(e)}delete(e){this.environment.deleteSessionStorage(e)}}function Ga(e){return void 0!==e.error}function Ha(e,t,i){if(!cs(e,i).orElse(!1)){const s={utcm:"utm_campaign",utcn:"utm_content",utm:"utm_medium",uts:"utm_source",utt:"utm_term"},n=Ma(e,i);t.setInternalAttributes("user",{ts:n}),t.deleteInternalAttributes("user",_e);const r={};_e.forEach((t=>{const i=s[t],n=e.getHostingPageUrl().getQueryParam(i,(()=>!0));n.isPresent()&&(r[t]=n.get())})),Object.keys(r).length>0&&t.setInternalAttributes("user",r)}}function Qa(e,t,i){e.getCss().ifPresent((s=>{try{fs.info(`Injecting customer ${e.getId()} css`),ks.injectCss(s,`customer-${e.getId()}`,i),t.setCustomer("css",!0)}catch(n){const i=new bt(`Customer (${e.getId()}) css injection failed`,n);fs.error(i,26),t.setCustomer("css",!1)}})),e.getCode().ifPresent((i=>{try{fs.info(`Running customer ${e.getId()} code`),ks.eval(i),t.setCustomer("code",!0)}catch(s){const i=new bt(`Customer (${e.getId()}) code execution failed`,s);fs.error(i,13),t.setCustomer("code",!1)}}))}function qa(e){return!e.startsWith('{"')}function Ka(e){const t=e.getWindow()[De(e)];if(void 0===t)return fs.error("Missing customer JSON. Aborting.",145),j.empty();let i;if(fs.time("load json"),qa(t))try{i=Pe(e,t)}catch(n){const e=new bt("Could not decrypt CustomerJson",n);return fs.error(e,213),j.empty()}else try{i=Ce(t)}catch(n){const e=new bt("Could not parse CustomerJson",n);return fs.error(e,210),j.empty()}const s=Cs(i);return fs.timeEnd("load json"),j.of(s)}function Ya(e){fs.time("Build customer object time");const t=new as(fs).buildCustomer(e);return fs.timeEnd("Build customer object time"),j.ofNullable(t)}function Ja(e,t,i){const s=`${he}${e.getId()}`;let n="true"===t.read(s).orElse("false");return n||i.getHostingPageUrl().getQueryParam("intellimize_opt_out",Lo("true")).ifPresent((()=>{n=i.getWindow().confirm("Are you sure you want to opt out of Intellimize for this domain?"),n&&(t.write(s,"true"),i.getWindow().alert("You have successfully opted out of Intellimize for this domain."))})),!!n&&(fs.debug("User opt-out; cleanup and exit early"),Kr(e).forEach((e=>{e!==s&&t.delete(e)})),i.getWindow().inrsgew=!0,!0)}function Xa(e,t,i,s,n){return __async(this,null,(function*(){const r=n.useStorageType().orElse("CrossOriginStorage");switch(r){case"CrossOriginStorage":{const n=new za(e,t,i,s);return yield n.initialize(),n}case"MemoryStorage":return new ja;case"SessionStorage":return new Ba(t);case"LocalStorage":return e;default:throw new Error(`Unknown storage type: ${r}`)}}))}class Za{constructor(){__publicField(this,"variationLists",{}),__publicField(this,"experiences",{}),__publicField(this,"stickyVariations",{}),__publicField(this,"modelVersions",{})}unshift(e){const t=e.getExperience(),i=t.getId();void 0===this.variationLists[i]&&(this.variationLists[i]=[]),this.variationLists[i].unshift(e),this.experiences[i]=t}isEmpty(){return!Object.keys(this.variationLists).some((e=>this.variationLists[e].length>0))}getExperience(e){return this.experiences[e]}getExperiences(){return Object.keys(this.variationLists).map((e=>this.experiences[e]))}setModelVersion(e,t){this.modelVersions[e]=t}getModelVersion(e){return this.modelVersions[e]}sortVariations(e,t){var i;null==(i=this.variationLists[e])||i.sort(t)}prioritizeStickyVariation(e,t){if(fs.group("prioritizeVariation(experience:"+e+", variation:"+t+")"),e in this.variationLists){let i=-1;this.variationLists[e].forEach(((e,s)=>{e.getId()===t&&(i=s)})),fs.debug("found variation index? => "+i),-1!==i&&(this.variationLists[e]=[this.variationLists[e][i]],e in this.stickyVariations||(this.stickyVariations[e]={}),this.stickyVariations[e][t]=!0)}fs.groupEnd()}getVariationIds(e){var t,i;return null!=(i=null==(t=this.variationLists[e])?void 0:t.map((e=>e.getId())))?i:[]}hasNext(e){const t=this.variationLists[e];return void 0!==t&&t.length>0}shift(e){var t;if(!(e in this.variationLists))throw new V("No value present");const i=null==(t=this.variationLists[e])?void 0:t.shift();if(this.removeIfEmpty(e),void 0!==i)return i;throw new V("No value present")}getFirst(e){var t;const i=this.variationLists[e];if(void 0===i)throw new V("No experience present");if(0===i.length)throw new V("No variations present");const s=null==(t=this.variationLists[e])?void 0:t[0];if(void 0!==s)return s;throw new V("No value present")}removeVariation(e,t){t.getId();const i=this.variationLists[e];if(void 0!==i){let s=-1;i.forEach(((e,i)=>{e.getId()===t.getId()&&(s=i)})),-1!==s&&(i.splice(s,1),this.removeIfEmpty(e))}}removeExperience(e){e in this.experiences&&delete this.experiences[e],e in this.variationLists&&delete this.variationLists[e]}isDecidingExperience(e){return e.getId()in this.experiences}isStickyVariation(e){var t;const i=e.getId(),s=e.getExperience().getId();return Boolean(null==(t=this.stickyVariations[s])?void 0:t[i])}toString(){let e="{\n";return Object.keys(this.variationLists).forEach((t=>{e+="  "+t+": ",e+="["+this.variationLists[t].map((e=>e.getId())).join(", ")+"]",e+="\n"})),e+="}\n",e}removeIfEmpty(e){const t=this.variationLists[e];void 0!==t&&0===t.length&&this.removeExperience(e)}}class el extends xr{constructor(e,t,i,s,n,r,o,a,l,c,u,d,h,g,p,m,v){super(),__publicField(this,"environment"),__publicField(this,"browserStorage"),__publicField(this,"extensionManager"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"user"),__publicField(this,"override"),__publicField(this,"pageContext"),__publicField(this,"attributeData"),__publicField(this,"statusModel"),__publicField(this,"elementObserver"),__publicField(this,"runtime"),__publicField(this,"hider"),__publicField(this,"decisionContext"),__publicField(this,"getVariationRecordedCallbackTuples"),__publicField(this,"getEligibleCc",!1),__publicField(this,"selectAb",!1),__publicField(this,"selectRbp",!1),__publicField(this,"haveRunCampaignCode",{}),this.environment=N(e),this.browserStorage=N(t),this.extensionManager=N(i),this.browserEventLogger=N(s),this.customer=N(n),this.customerStorage=N(r),this.attributeStorage=N(o),this.activityStorage=N(a),this.user=N(l),this.override=N(c),this.pageContext=N(u),this.attributeData=N(d),this.statusModel=N(h),this.runtime=N(g),this.hider=N(p),this.getVariationRecordedCallbackTuples=N(m),this.elementObserver=N(v),this.decisionContext=new Za}toString(){return"SelectVariationsTask()"}inTransaction(){return!1}isUnloading(){return!1}selectAbExperienceVariationsOnce(){this.selectAb||(fs.time("selectAbExperienceVariationsOnce"),fs.group("selectAbExperienceVariationsOnce()"),this.customer.getCampaigns().forEach((e=>{Ci.filterExperiences(e.getExperiences()).filter((e=>this.isExperienceEligible(e))).forEach((t=>{let i;if(this.runCampaignCodeOnce(e),this.override.hasVariationIds(t).isPresent()){const e=this.override.hasVariationIds(t).get();i=t.getVariation(e[0])}else{const e=1e3,s=na(ia(t.getId()+this.user.getId(),1),e);i=t.selectVariation(s)}i.ifPresent((e=>{this.isVariationEligible(e)?(this.decisionContext.unshift(e),this.decisionContext.setModelVersion(t.getId(),"ab")):fs.error("Selected A/B variation is not eligible",182,{experienceId:t.getId(),variationId:e.getId()})})).ifAbsent((()=>{fs.error("Failed to select variation for A/B experience",183,{experienceId:t.getId()})}))}))})),fs.groupEnd(),fs.timeEnd("selectAbExperienceVariationsOnce"),this.selectAb=!0)}selectRbpExperienceVariationsOnce(){this.selectRbp||(fs.time("selectRbpExperienceVariationsOnce"),fs.group("selectRbpExperienceVariationsOnce()"),this.customer.getCampaigns().forEach((e=>{xi.filterExperiences(e.getExperiences()).filter((e=>this.isExperienceEligible(e))).forEach((t=>{this.runCampaignCodeOnce(e);for(const e of t.getPrioritizedVariations())if(this.isVariationEligible(e)){this.decisionContext.unshift(e),this.decisionContext.setModelVersion(t.getId(),"rbp");break}void 0===this.decisionContext.getExperience(t.getId())&&fs.info("Failed to select variation for RBP",184,{experienceId:t.getId()})}))})),fs.groupEnd(),fs.timeEnd("selectRbpExperienceVariationsOnce"),this.selectRbp=!0)}getCcEligibleVariationsOnce(){this.getEligibleCc||(fs.time("getCcEligibleVariationsOnce"),fs.group("getCcEligibleVariationsOnce()"),this.customer.getCampaigns().forEach((e=>{Ti.filterExperiences(e.getExperiences()).filter((e=>this.isExperienceEligible(e))).forEach((t=>{this.runCampaignCodeOnce(e);const i=this.override.isControl().orElseRun((()=>this.customerStorage.updateAndGetControl(e)));if(this.statusModel.setCampaign(e,"control",i),i){const e=t.getControlVariation();this.decisionContext.unshift(e)}else t.getRealVariations().forEach((e=>{this.isVariationEligible(e)&&this.decisionContext.unshift(e)}))}))})),fs.groupEnd(),fs.timeEnd("getCcEligibleVariationsOnce"),this.getEligibleCc=!0)}isExperienceEligible(e){fs.group("isExperienceEligible(experience:"+e.getId()+")"),fs.debug("check experience enabled");let t=" (override)";const i=this.override.isExperienceEnabled(e).orElseRun((()=>(t="",e.isEnabled())));if(fs.info(`Experience ${e.getId()} enabled => ${i}${t}`),this.statusModel.setExperience(e,"enabled",i),!i)return this.customerStorage.deleteExperiencePredictionSelection(e),fs.groupEnd(),!1;let s=!1;fs.debug(`Experience URL match (at least one match), URL: ${this.environment.getHostingPageUrl().getRawUrl()}`);const n=la(this.pageContext,e.getPages());if(fs.debug("url match => "+(n.length>0)),this.statusModel.setExperience(e,"urlMatch",n.length>0),n.length>0&&(fs.info(`Experience ${e.getId()} URL check, URL:${this.environment.getHostingPageUrl().getRawUrl()} Page:${n[0].getName()} => true`),s=!0),!s){const{experienceIds:t}=this.environment.getWebflowPageMetadata();t.length>0&&(fs.debug("Webflow Page Metadata Experience ID check"),t.includes(e.getId())&&(fs.debug("Webflow experience => true"),s=!0))}if(!s)return fs.groupEnd(),!1;fs.debug("check experience condition");let r=" (override)";const o=this.override.passExperienceCondition().orElseRun((()=>(r="",fs.debug("evaluating experience condition"),e.getCondition().map((t=>{let i=!1;try{i=t.evaluate(this.runtime)}catch(s){const t=new bt("Experience condition evaluation failed",s);i=!1,fs.error(t,206,{experienceId:e.getId()})}return i})).orElse(!0))));if(fs.info(`Experience ${e.getId()} condition passed => ${o}${r}`),this.statusModel.setExperience(e,"passCondition",o),!o)return fs.groupEnd(),this.customerStorage.deleteExperiencePredictionSelection(e),!1;fs.debug("check experience inclusion");let a=" (override)";const l=this.override.isExperienceIncluded(e).orElseRun((()=>(a="",this.customerStorage.updateAndGetExperienceInclusion(e))));return fs.info(`Experience ${e.getId()} inclusion => ${l}${a}`),this.statusModel.setExperience(e,"inclusion",l),l?(fs.debug("isExperienceEligible => true"),fs.groupEnd(),!0):(fs.groupEnd(),this.customerStorage.deleteExperiencePredictionSelection(e),!1)}isVariationEligible(e){fs.group("isVariationEligible(variation:"+e.getId()+")"),fs.debug("check variation enabled");let t=" (override)";const i=this.override.isVariationEnabled(e).orElseRun((()=>(t="",e.isEnabled())));if(fs.info(`Variation ${e.getExperience().getId()}/${e.getId()} enabled => ${i}${t}`),this.statusModel.setVariation(e,"enabled",i),!i)return fs.groupEnd(),!1;fs.debug("check variation condition");let s=" (override)";const n=this.override.passVariationCondition().orElseRun((()=>(s="",e.getCondition().map((t=>{let i=!1;try{i=t.evaluate(this.runtime)}catch(s){const t=new bt("Variation condition evaluation failed ",s);i=!1,fs.error(t,207,{experienceId:e.getExperience().getId(),variationId:e.getId()})}return i})).orElse(!0))));return fs.info(`Variation ${e.getExperience().getId()}/${e.getId()} condition passed => ${n}${s}`),this.statusModel.setVariation(e,"passCondition",n),n?(fs.debug("isVariationEligible => true"),fs.groupEnd(),!0):(fs.groupEnd(),!1)}runCampaignCodeOnce(e){const t=e.getId();this.haveRunCampaignCode[t]||(this.haveRunCampaignCode[t]=!0,e.getCss().ifPresent((i=>{try{fs.info(`Injecting campaign ${e.getId()} css`),ks.injectCss(i,`campaign-${t}`,this.environment.getWindow().document),this.statusModel.setCampaign(e,"css",!0)}catch(s){const t=new bt(`Campaign (${e.getId()}) css injection failed`,s);fs.error(t,90,{campaignId:e.getId()}),this.statusModel.setCampaign(e,"css",!1)}})),e.getCode().ifPresent((t=>{try{fs.info(`Running campaign ${e.getId()} code`),ks.eval(t),this.statusModel.setCampaign(e,"code",!0)}catch(i){const t=new bt(`Campaign (${e.getId()}) code execution failed`,i);fs.error(t,14,{campaignId:e.getId()}),this.statusModel.setCampaign(e,"code",!1)}})))}}class tl extends el{constructor(){super(...arguments),__publicField(this,"policyCallbackFunctions",[]),__publicField(this,"executeExperiencesTask"),__publicField(this,"policy"),__publicField(this,"sent",!1),__publicField(this,"apiStatus",wr.WAITING)}static get PREDICTION_ENDPOINT(){return"/prediction"}toString(){return"SelectVariationsTaskV5()"}onPolicyReady(e){void 0===this.policy?this.policyCallbackFunctions.push(e):e(this.policy)}run(){return this.selectAbExperienceVariationsOnce(),this.selectRbpExperienceVariationsOnce(),this.getCcEligibleVariationsOnce(),fs.debug("decisionContext: "+this.decisionContext),void 0===this.executeExperiencesTask&&(this.executeExperiencesTask=new So(this.environment,this.browserStorage,this.extensionManager,this.browserEventLogger,this.attributeStorage,this.activityStorage,this.customerStorage,this.decisionContext,this.pageContext,this.attributeData,this.user,this.override,this.statusModel,this.hider,!0,this.getVariationRecordedCallbackTuples,this.elementObserver)),this.executeExperiencesTask.hideExperiencesOnce(),this.sendOnce(),this.apiStatus===wr.FAILED?wr.FAILED:this.apiStatus===wr.SUCCEEDED?wr.SUCCEEDED:wr.TRY_LATER}buildRequest(){const e=this.user.getId(),t=this.customerStorage.updateAndGetSessionId(),i=this.override.isControl().orElseRun((()=>this.customerStorage.setAndGetCustomerControl(this.customer))),s={};Ti.filterExperiences(this.decisionContext.getExperiences()).forEach((e=>{const t=e.getId(),i=this.customerStorage.getStickyVariation(e).map((e=>e.getId())).orElse("NEVER_MATCH");s[t]=this.decisionContext.getVariationIds(t).map((e=>({variationId:e,isSticky:i===e})))}));const n=Fa.buildBrowserContext(this.environment,this.attributeStorage,this.user,this.pageContext,this.decisionContext);return{userId:e,sessionId:t,isControl:i,candidates:s,context:n}}sendOnce(){if(this.sent)return;fs.debug("SelectVariationsTaskV5.sendOnce()");const e=this.buildRequest();this.environment.fetch(ie,`${tl.PREDICTION_ENDPOINT}/${this.customer.getId()}`,{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:we(e)}).then((t=>{if(Ga(t)){const e=this.environment.getHostingPageUrl().getOrigin();console.warn(`${e} is not allowed to receive this data. If you’re expecting data to work here, check the Allowed Domains list at https://app.intellimize.com`)}fs.debug("SelectVariationsTaskV5.sendOnce() => got reply");const i=this.override.isControl().orElseRun((()=>this.customerStorage.setAndGetCustomerControl(this.customer)));this.policy=i?Is.buildControlPolicy(this.environment):Ga(t)?Is.buildDefaultPolicy(this.environment,e):new Is(t.policy),this.prioritizeCcVariations(this.policy),this.apiStatus=wr.SUCCEEDED,this.executePolicyReadyFunctions(this.policy),this.manager.addTask(this.executeExperiencesTask),this.manager.runNow()})).catch((e=>{const t=new bt("Caught exception in prediction call",e);fs.error(t,148),this.apiStatus=wr.FAILED})),this.sent=!0}prioritizeCcVariations(e){fs.debug("SelectVariationsTaskV5.prioritizeCcVariations()"),Ti.filterExperiences(this.decisionContext.getExperiences()).forEach((t=>{const i=t.getId(),s=e.getExperienceVariationId(i);let n;for(;this.decisionContext.hasNext(i);){const e=this.decisionContext.shift(i);e.getId()===s&&(n=e)}void 0===n?fs.error("Prediction API did not select an eligible variation",149):(this.decisionContext.unshift(n),this.customerStorage.getStickyVariation(this.decisionContext.getExperience(i)).ifPresent((e=>{fs.info(`Variation ${i}/${e.getId()} selection was sticky`),this.decisionContext.prioritizeStickyVariation(i,e.getId())})),this.decisionContext.setModelVersion(i,e.getExperienceModelVersion(i))),this.statusModel.setExperienceSortedVariations(this.decisionContext.getExperience(i),this.decisionContext.getVariationIds(i))})),fs.debug(`decisionContext: ${this.decisionContext}`)}executePolicyReadyFunctions(e){fs.debug("SelectVariationsTaskV5.executePolicyReadyFunctions()");for(let t=this.policyCallbackFunctions.shift();void 0!==t;t=this.policyCallbackFunctions.shift())t(e)}}class il extends xr{constructor(e,t,i,s){super(),__publicField(this,"environment"),__publicField(this,"customer"),__publicField(this,"integrationDataStorage"),__publicField(this,"user"),__publicField(this,"apiStatus",wr.NOT_STARTED),__publicField(this,"sent",!1),this.environment=e,this.customer=t,this.user=i,this.integrationDataStorage=s}static get ENDPOINT(){return"/context-v2"}toString(){return"ServerContextTask()"}inTransaction(){return!1}isUnloading(){return!1}run(){return this.sendOnce(),this.apiStatus===wr.SUCCEEDED?wr.SUCCEEDED:this.apiStatus===wr.FAILED?wr.FAILED:(fs.debug("Waiting for server response"),wr.TRY_LATER)}buildRequestBody(){return this.getCommonRequestBody()}handleResponse(e,t){this.integrationDataStorage.setDataAndMetadata("marketo",t.integrationData.marketo,void 0===e.marketo?void 0:{})}getCommonRequestBody(){const e={clientVersion:Q,userId:this.user.getId()};return gr(this.customer)&&pr(this.environment).ifPresent((t=>{e.marketo={cookie:t}})),e}sendOnce(){if(!this.sent){const e=this.buildRequestBody();this.environment.fetch(ie,`${il.ENDPOINT}/${this.customer.getId()}`,{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:we(e)}).then((t=>{if(Ga(t)){const t=this.environment.getHostingPageUrl().getOrigin();console.warn(`${t} is not allowed to receive this data. If you’re expecting data to work here, check the Allowed Domains list at https://app.intellimize.com`),this.handleResponse(e,{requestId:"00000000-0000-1000-a000-000000000000",clientIp:"0.0.0.0",userAgentDigest:"00000000000000000000000000000000",userAgent:{},location:{},integrationData:{}})}else fs.info("Successfully retrieved ServerContext"),this.handleResponse(e,t);this.apiStatus=wr.SUCCEEDED,this.manager.runNow()})).catch((e=>{const t=new bt("Caught exception in server context task",e);fs.error(t,156),this.apiStatus=wr.FAILED}))}this.sent=!0}}class sl extends il{constructor(e,t,i,s,n,r){super(e,t,i,s),__publicField(this,"serverContextStorage"),__publicField(this,"isNewSession"),this.serverContextStorage=n,this.isNewSession=r}static get DOMAIN_NOT_AVAILABLE(){return"NA"}static shouldWaitForServerContext(e,t,i,s,n){var r,o,a;let l=!1;_r(e)&&yr(t).ifPresent((e=>{const t=i.getMetadata("salesforce").orElse({});void 0!==(null==e?void 0:e.leadIdHash)&&(null==t?void 0:t.leadIdHash)!==e.leadIdHash&&(l=!0),void 0!==(null==e?void 0:e.contactIdHash)&&(null==t?void 0:t.contactIdHash)!==e.contactIdHash&&(l=!0)}));const c=i.getAllMetdata(),u=sr(e)&&void 0===(null==(r=c.firmographic)?void 0:r.domain)||Sr(e)&&void 0===(null==(o=c["6sense"])?void 0:o.domain)||ir(e)&&void 0===(null==(a=c.demandbase)?void 0:a.website),d=!s.get().map((e=>Object.keys(null==e?void 0:e.location).length>0&&Object.keys(null==e?void 0:e.userAgent).length>0)).orElse(!1);return l||u||d||n}toString(){return"ServerContextTaskV5()"}buildRequestBody(){const e=this.getCommonRequestBody();if(this.serverContextStorage.get().map((e=>e.clientIp)).ifPresent((t=>{e.clientIp=t})),_r(this.customer)){const t=this.integrationDataStorage.getMetadata("salesforce").orElse({}),i=yr(this.environment),s=null==t?void 0:t.leadIdHash,n=i.map((e=>null==e?void 0:e.leadIdHash)).orElse(void 0),r=null!=n?n:s,o=null==t?void 0:t.contactIdHash,a=i.map((e=>null==e?void 0:e.contactIdHash)).orElse(void 0),l=null!=a?a:o;if(void 0!==r||void 0!==l){const t={};void 0!==r&&(t.leadIdHash=r),void 0!==l&&(t.contactIdHash=l),e.salesforce=t}}return this.isNewSession||(this.integrationDataStorage.getMetadata("firmographic").flatMap((e=>j.ofNullable(null==e?void 0:e.domain))).ifPresent((t=>{e.firmographic={domain:t}})),this.integrationDataStorage.getMetadata("6sense").flatMap((e=>j.ofNullable(null==e?void 0:e.domain))).ifPresent((t=>{e["6sense"]={domain:t}})),this.integrationDataStorage.getMetadata("demandbase").flatMap((e=>j.ofNullable(null==e?void 0:e.website))).ifPresent((t=>{e.demandbase={website:t}}))),ur(this.customer)&&dr(this.environment).ifPresent((t=>{e.hubspot={cookie:t}})),e}handleResponse(e,t){var i,s,n,r,o,a,l,c,u,d,h,g,p;const m=t,{integrationData:v}=m,b=__objRest(m,["integrationData"]);this.integrationDataStorage.setDataAndMetadata("marketo",v.marketo,void 0===e.marketo?void 0:{}),this.integrationDataStorage.setDataAndMetadata("salesforce",v.salesforce,null!=(i=e.salesforce)?i:void 0),this.integrationDataStorage.setDataAndMetadata("hubspot",v.hubspot,void 0===e.hubspot?void 0:{}),(null==(s=e.firmographic)?void 0:s.domain)!==(null==(n=v.firmographic)?void 0:n.domain)&&((null==(r=v.firmographic)?void 0:r.domain)===sl.DOMAIN_NOT_AVAILABLE?this.integrationDataStorage.setDataAndMetadata("firmographic",{},{domain:sl.DOMAIN_NOT_AVAILABLE}):this.integrationDataStorage.setDataAndMetadata("firmographic",v.firmographic,{domain:null==(o=v.firmographic)?void 0:o.domain})),(null==(a=e["6sense"])?void 0:a.domain)!==(null==(l=v["6sense"])?void 0:l.domain)&&((null==(c=v["6sense"])?void 0:c.domain)===sl.DOMAIN_NOT_AVAILABLE?this.integrationDataStorage.setDataAndMetadata("6sense",{},{domain:sl.DOMAIN_NOT_AVAILABLE}):this.integrationDataStorage.setDataAndMetadata("6sense",v["6sense"],{domain:null==(u=v["6sense"])?void 0:u.domain})),(null==(d=e.demandbase)?void 0:d.website)!==(null==(h=v.demandbase)?void 0:h.website)&&((null==(g=v.demandbase)?void 0:g.website)===sl.DOMAIN_NOT_AVAILABLE?this.integrationDataStorage.setDataAndMetadata("demandbase",{},{website:sl.DOMAIN_NOT_AVAILABLE}):this.integrationDataStorage.setDataAndMetadata("demandbase",v.demandbase,{website:null==(p=v.demandbase)?void 0:p.website})),this.serverContextStorage.set(b)}}class nl{constructor(e,t,i){__publicField(this,"environment"),__publicField(this,"storageKeyPrefix"),__publicField(this,"eventProcessor"),__publicField(this,"isObserving",!1),__publicField(this,"pollTimer"),this.environment=e,this.storageKeyPrefix=t,this.eventProcessor=i}static get POLLING_INTERVAL_MS(){return 1e3}start(){this.isObserving||(fs.debug("StorageQueueConsumer starting to poll"),this.isObserving=!0,this.poll())}stop(){fs.debug("StorageQueueConsumer stopping polling"),this.environment.getWindow().clearTimeout(this.pollTimer),this.isObserving=!1}handlePageUnload(){this.poll(),this.stop()}readSessionStorage(e){try{return this.environment.readSessionStorage(e)}catch(t){const i=new bt(`StorageQueueConsumer: Storage failed for getItem("${e}")`,t);throw fs.warn(i,227),i}}writeSessionStorage(e,t){try{this.environment.writeSessionStorage(e,t)}catch(i){const t=new bt(`StorageQueueConsumer: Storage failed for setItem("${e}")`,i);throw fs.warn(t,228),t}}removeSessionStorage(e){try{this.environment.deleteSessionStorage(e)}catch(t){const i=new bt(`StorageQueueConsumer: Storage failed for removeItem("${e}")`,t);throw fs.warn(i,229),i}}poll(){const e=`${this.storageKeyPrefix}lastWrittenId`,t=`${this.storageKeyPrefix}lastReadId`;let i=j.empty(),s=0;try{i=this.readSessionStorage(e).map((e=>Number.parseInt(e,10))),s=this.readSessionStorage(t).map((e=>Number.parseInt(e,10))).orElse(0)}catch(n){return void this.stop()}if(i.isPresent()&&s<i.get()){const e=s+1,i=`${this.storageKeyPrefix}event-${e}`;let o=j.empty();try{o=this.readSessionStorage(i)}catch(n){return void this.stop()}try{this.writeSessionStorage(t,e.toString()),this.removeSessionStorage(i)}catch(n){return void this.stop()}if(o.isPresent()){let e;try{e=JSON.parse(o.get())}catch(r){const e=new bt(`StorageQueueConsumer: Event in queue is not valid JSON: "${o.get()}"`,r);fs.error(e,230)}if(void 0!==e)try{fs.debug(`StorageQueueConsumer processing event ${Ie(e)}`),this.eventProcessor(e)}catch(r){const e=new bt("StorageQueueConsumer: Could not process event",r);fs.error(e,231)}this.poll()}else fs.error(new Error(`StorageQueueConsumer: event-${e} not found in session storage`),232),this.pollAfterDelay()}else this.pollAfterDelay()}pollAfterDelay(){this.environment.getWindow().clearTimeout(this.pollTimer),this.pollTimer=this.environment.getWindow().setTimeout((()=>{this.poll()}),nl.POLLING_INTERVAL_MS)}}const rl=3e3,ol=1;class al extends xr{constructor(e,t,i,s,n,r,o,a,l){super(),__publicField(this,"environment"),__publicField(this,"browserEventLogger"),__publicField(this,"customer"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"activityStorage"),__publicField(this,"user"),__publicField(this,"statusModel"),__publicField(this,"taskManager"),__publicField(this,"taskStartTime"),__publicField(this,"storageQueueConsumer"),this.environment=N(e),this.browserEventLogger=N(t),this.customer=N(i),this.customerStorage=N(s),this.attributeStorage=N(n),this.activityStorage=N(r),this.user=N(o),this.statusModel=N(a),this.taskManager=N(l),R(this.customer.getIntegrationShopify().isPresent())}inTransaction(){return!0}isUnloading(){return!1}getStorageQueueConsumer(){return j.ofNullable(this.storageQueueConsumer)}run(){void 0===this.taskStartTime&&(this.taskStartTime=this.environment.getNowDate(),fs.debug(`ShopifyStorageQueueTask start time: ${this.taskStartTime.getTime()}`));const e=this.environment.getNowDate().getTime()-this.taskStartTime.getTime(),t=this.waitForCurrencyRate(e);return t.isPresent()?(this.storageQueueConsumer=new nl(this.environment,`${ge}${this.customer.getId()}_`,(e=>{Nr(e,t.get(),this.customer,this.environment,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.statusModel,this.taskManager,this.browserEventLogger)})),this.storageQueueConsumer.start(),wr.SUCCEEDED):wr.TRY_LATER}waitForCurrencyRate(e){const t=this.environment.getWindow();if(void 0===t.Shopify)fs.debug(`window.Shopify not defined after ${e} ms`);else{if(!Ls(t.Shopify))return fs.error("window.Shopify is not an object",245),j.of(ol);if(void 0===t.Shopify.currency)fs.debug(`window.Shopify.currency not defined after ${e} ms`);else{if(!Ls(t.Shopify.currency))return fs.error("window.Shopify.currency is not an object",246),j.of(ol);if(void 0!==t.Shopify.currency.rate)return b(t.Shopify.currency.rate)?(fs.debug(`window.Shopify.currency defined after ${e} ms (${t.Shopify.currency.rate})`),j.of(Number(t.Shopify.currency.rate))):(fs.error("window.Shopify.currency.rate is not a non-empty string",247),j.of(ol));fs.debug(`window.Shopify.currency.rate not defined after ${e} ms`)}}return e>=rl?(fs.error(`Timed out waiting for window.Shopify.currency (waited ${e}ms)`,248),j.of(ol)):j.empty()}}class ll extends Fs{constructor(){super(...arguments),__publicField(this,"hasRun",!1),__publicField(this,"isRestartingStatus",!1),__publicField(this,"taskManager"),__publicField(this,"environment"),__publicField(this,"override"),__publicField(this,"customer"),__publicField(this,"conditionEvaluationRuntime"),__publicField(this,"elementObserver"),__publicField(this,"pageContext"),__publicField(this,"customerStorage"),__publicField(this,"attributeStorage"),__publicField(this,"integrationDataStorage"),__publicField(this,"serverContextStorage"),__publicField(this,"intellimizeApi"),__publicField(this,"user"),__publicField(this,"browserStorage"),__publicField(this,"localStorage"),__publicField(this,"statusModel"),__publicField(this,"attributeData"),__publicField(this,"activityStorage"),__publicField(this,"internalApi"),__publicField(this,"hider"),__publicField(this,"browserEventLogger"),__publicField(this,"shopifyStorageQueueTask",j.empty()),__publicField(this,"extensionManager")}run(){return __async(this,null,(function*(){if(fs.info("Starting client"),fs.time("Client run time"),this.hasRun)return void fs.error("Tried to run client again",143);fs.time("new Environment");const e=Oo(window);this.environment=new Xn(window,e),fs.configureEnvironment(this.environment),fs.timeEnd("new Environment");if(void 0!==this.environment.getWindow().ipgvidtfr)return void fs.error("Intellimize duplicate code detected on page.",144);this.environment.getWindow().ipgvidtfr=this.environment.getPageviewId(),this.extensionManager=er(),this.hider=new Ln(this.environment,this.extensionManager),this.hider.startTimedRegionHider();const t=Ka(this.environment);if(!t.isPresent())return void Ln.revealAll(this.environment.getWindow().document);const i=Ya(t.get());if(!i.isPresent())return void Ln.revealAll(this.environment.getWindow().document);if(this.customer=i.get(),fs.configureCustomer(this.customer),fs.time("load json"),this.override=new Vo(this.environment,this.customer),!this.override.shouldRun().orElse(!0))return fs.info("Client not running"),this.environment.getWindow().inrsgew=!0,void Ln.revealAll(this.environment.getWindow().document);if(this.override.shouldHide().orElse(!0)||Ln.revealAll(this.environment.getWindow().document),this.localStorage=new Qo(this.environment),this.intellimizeApi=new Ao(this.environment),this.intellimizeApi.initialize(),this.taskManager=new oa(this,this.environment),this.override.shouldCheckOptOut().orElse(!0)&&Ja(this.customer,this.localStorage,this.environment))return void Ln.revealAll(this.environment.getWindow().document);fs.time("Setup storage"),this.browserStorage=yield Xa(this.localStorage,this.environment,this.taskManager,this.customer,this.override),this.user=new ra(this.browserStorage,this.environment,this.customer),fs.configureUser(this.user),this.statusModel=this.override.showStatusModule().orElse(!1)?new zo(this.environment,this.customer,this.override,this.browserStorage):new jo,this.customerStorage=new Go(this.customer,this.environment,this.browserStorage,this.override);const s=this.customerStorage.getSessionId(),n=this.customerStorage.updateAndGetSessionId(),r=!s.map((e=>e===n)).orElse(!1);if(this.customer.isCampaignControl()||this.customerStorage.setAndGetCustomerControl(this.customer),this.attributeStorage=new Bo(this.customer,this.environment,this.browserStorage,this.user),this.activityStorage=new eo(this.customer,this.browserStorage,this.environment,this.override),Ha(this.environment,this.attributeStorage,this.customer),this.integrationDataStorage=new Ho(this.customer,this.browserStorage),ar(this.customer)&&lr(this.environment,this.integrationDataStorage,this.customer),this.serverContextStorage=new qo(this.customer,this.browserStorage),fs.timeEnd("Setup storage"),this.environment.addUnloadHandler((()=>{try{this.handlePageUnload()}catch(e){const t=new bt("Exception in ClientV5 unload handler",e);fs.error(t,240)}})),this.attributeData=new _s(this.environment,void 0,this.attributeStorage,this.override,this.customerStorage,this.integrationDataStorage,this.user),this.conditionEvaluationRuntime=new Ps(this.attributeData,this.activityStorage),this.customer.getLimitedModeCondition().isPresent()){const e=this.customer.getLimitedModeCondition().get();let t=!1;try{t=e.evaluate(this.conditionEvaluationRuntime)}catch(a){t=!1;const e=new bt('"Limited mode" condition evaluation failed',a);fs.error(e,261)}if(fs.debug(`check "limited mode" => ${t}`),t)return void(this.environment.getWindow().inrsgew=!0)}const o=new sl(this.environment,this.customer,this.user,this.integrationDataStorage,this.serverContextStorage,r);sl.shouldWaitForServerContext(this.customer,this.environment,this.integrationDataStorage,this.serverContextStorage,r)?o.onDone((()=>{this.postServerContextWork()})):this.postServerContextWork(),this.taskManager.addTask(o),this.hasRun=!0,fs.timeEnd("Client run time"),this.taskManager.runNow()}))}reRun(e){fs.info("Client.reRun()"),this.isRestartingStatus=!0,this.handlePageUnload(),this.environment.getWindow().setTimeout((()=>{this.taskManager.stop(),this.taskManager.onDone((()=>{this.statusModel.reinitializeExperienceVariations(),this.environment.reinitialize(),this.taskManager.addTask(new _a(this.elementObserver)),this.customerStorage.updateAndGetSessionId(),Ha(this.environment,this.attributeStorage,this.customer),ar(this.customer)&&lr(this.environment,this.integrationDataStorage,this.customer),this.attributeData.reinitialize(),this.internalApi.reinitialize(),e.forEach((e=>{ks.executeFunction(e,150)})),this.activityStorage.add(eo.buildPageviewActivity(this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage)),this.pageContext.reinitialize(),Qa(this.customer,this.statusModel,this.environment.getWindow().document),this.scheduleTasks(),this.isRestartingStatus=!1}))}),0)}isRestarting(){return fs.debug(`Client.isRestarting() => ${this.isRestartingStatus}`),this.isRestartingStatus}postServerContextWork(){fs.time("postServerContextWork");const e=this.serverContextStorage.get();if(!e.isPresent())return void fs.error("Expected ServerContext is missing",146);const t=e.get();fs.debug(`postServerContextWork() serverContext: ${Ie(t)}`),fs.configureServerContext(t),this.attributeData.setServerContext(t),this.elementObserver=this.override.useElementObserver().orElse(!0)?new zn:new Ns,this.taskManager.addTask(new _a(this.elementObserver)),this.pageContext=new Uo(this.environment,this.browserStorage,this.extensionManager,this.customer,this.conditionEvaluationRuntime,this.attributeData,this.override,this.taskManager,this.hider,this.elementObserver,this.statusModel),this.browserEventLogger=new As(this.customer,this.environment,this.user,this.attributeStorage,this.pageContext,t,this.customerStorage,void 0,this.override);const i=new xo(this.environment,this.extensionManager,this.browserEventLogger,this.taskManager,this.customerStorage,this.attributeStorage,this.activityStorage,this.integrationDataStorage,this.customer,this.user,this.override,this.statusModel,this.intellimizeApi.extractCallQueue(),this.intellimizeApi.extractReadyCallbackQueue(),(e=>{this.addVariationRecordedCallbackTuple(e)}));i.initialize(),this.internalApi=new Fo(this.customer,this.user,this.environment,this.extensionManager,t,this.taskManager,this.browserStorage,this.customerStorage,i,this.attributeData,this.elementObserver),this.internalApi.initialize(),this.activityStorage.add(eo.buildPageviewActivity(this.customer,this.environment,this.user,this.attributeStorage,this.customerStorage)),Qa(this.customer,this.statusModel,this.environment.getWindow().document),this.pageContext.reinitialize(),this.scheduleTasks(this.browserEventLogger),this.override.injectVisualEditor().orElse(!1)&&this.environment.injectScript("https://intellimizeditor.com/common.js"),fs.timeEnd("postServerContextWork")}scheduleTasks(e){if(fs.debug("scheduleTasks()"),this.override.shouldRunTasks().orElse(!0)){const t=new tl(this.environment,this.browserStorage,this.extensionManager,this.browserEventLogger,this.customer,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.override,this.pageContext,this.attributeData,this.statusModel,this.conditionEvaluationRuntime,this.hider,this.getVariationRecordedCallbackTuples.bind(this),this.elementObserver);t.onPolicyReady((t=>{void 0!==e&&e.setPolicy(t),fs.debug("scheduleTasks() onPolicyReady()"),this.override.sendPageviewBrowserEvents().orElse(!0)&&this.taskManager.addTask(new Ca(this.environment,this.browserEventLogger));const i=new ba(this.environment,this.browserEventLogger,this.customer,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.override,this.pageContext,this.statusModel),s=new aa(this.environment,this.browserEventLogger,this.integrationDataStorage);if(this.taskManager.addTask(s),this.taskManager.addTask(i),this.customer.getIntegrationShopify().isPresent()){fs.debug("Shopify Pixel enabled for customer");const e=new al(this.environment,this.browserEventLogger,this.customer,this.customerStorage,this.attributeStorage,this.activityStorage,this.user,this.statusModel,this.taskManager);this.shopifyStorageQueueTask=j.of(e),this.taskManager.addTask(e)}if(gr(this.customer)){if(this.environment.getHostingPageUrl().getQueryParam(ye,b).isPresent()){const e=new Ea(this.environment,this.customer,"/marketo-id-associator",(()=>pr(this.environment)));this.taskManager.addTask(e)}const e=new Ia(this.environment,this.browserEventLogger,this.customer,this.user,this.override,this.activityStorage,this.attributeStorage,this.customerStorage,this.statusModel);this.taskManager.addTask(e)}if(ur(this.customer)){if(this.environment.getHostingPageUrl().getQueryParam(Se,b).isPresent()){const e=new Ea(this.environment,this.customer,"/hubspot-id-associator",(()=>dr(this.environment)));this.taskManager.addTask(e)}const e=new ya(this.environment,this.browserEventLogger,this.customer,this.user,this.override,this.activityStorage,this.attributeStorage,this.customerStorage,this.statusModel);this.taskManager.addTask(e)}})),this.taskManager.addTask(t)}else this.override.sendPageviewBrowserEvents().orElse(!0)&&this.taskManager.addTask(new Ca(this.environment,this.browserEventLogger))}handlePageUnload(){fs.debug("(Prepare for Shutdown): handlePageUnload() giving the client one more chance to run tasks..."),this.shopifyStorageQueueTask.ifPresent((e=>{e.getStorageQueueConsumer().ifPresent((e=>{e.handlePageUnload()}))}));this.taskManager.findTasks((e=>!e.isDone())).length>0&&(this.taskManager.addTask(new wa),this.taskManager.runNow())}}function cl(e,t){return i=>{fs.time("frameTick",["raf"]);const s=null!=t?t:i;i-s<e&&window.requestAnimationFrame(cl(e,s)),fs.timeEnd("frameTick",["raf"])}}function ul(){new MutationObserver((e=>{Ds.time(`mutations: ${e.length}`),e.forEach((e=>{Ds.debug(`Doc mutation: ${Te(e)}`)})),Ds.timeEnd(`mutations: ${e.length}`)})).observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0})}(()=>{__async(this,null,(function*(){try{fs.time("client startup time"),fs.getLevel()<=i.LogLevel.DEBUG&&(window.requestAnimationFrame(cl(2e3)),ul());const e=new ll;yield e.run(),fs.timeEnd("client startup time")}catch(e){Ln.revealAll(document);const t=vt(e);fs.error(t,142)}}))})()}();

